<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>爱心树 | Dreamboy_上官</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="爱心树：  —— 伟大的泡妞巨作  ———">
<meta name="keywords" content="javaScript,css,html">
<meta property="og:type" content="article">
<meta property="og:title" content="爱心树">
<meta property="og:url" content="http://yoursite.com/2017/12/07/爱心树/index.html">
<meta property="og:site_name" content="Dreamboy_上官">
<meta property="og:description" content="爱心树：  —— 伟大的泡妞巨作  ———">
<meta property="og:updated_time" content="2017-12-07T01:28:58.350Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="爱心树">
<meta name="twitter:description" content="爱心树：  —— 伟大的泡妞巨作  ———">
  
    <link rel="alternative" href="/atom.xml" title="Dreamboy_上官" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">上官岳寿</a></h1>
        </hgroup>

        
        
            <form>
                <input type="text" class="st-default-search-input search" id="search" placeholder=" Search...">
            </form>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="https://shangguanyueshou.github.io/">博客首页</a></li>
                        
                            <li><a href="https://shangguanyueshou.github.io/">作品展示</a></li>
                        
                            <li><a href="https://shangguanyueshou.github.io/">留言打卡</a></li>
                        
                            <li><a href="https://shangguanyueshou.github.io/">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=412417117@qq.com" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/shangguanyueshou" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="https://www.zhihu.com/" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="https://weibo.com/" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="http://www.google.com.hk/" title="google">google</a>
                            
                                <a class="fl QQ" target="_blank" href="https://user.qzone.qq.com/412417117/infocenter" title="QQ">QQ</a>
                            
                                <a class="fl twitter" target="_blank" href="https://twitter.com/" title="twitter">twitter</a>
                            
                                <a class="fl linkedin" target="_blank" href="https://www.linkedin.com/in/%E5%B2%B3%E5%AF%BF-%E4%B8%8A%E5%AE%98-9b16b6154/?trk=uno-choose-ge-no-intent&dl=no" title="linkedin">linkedin</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/11月26号/" style="font-size: 10px;">11月26号</a> <a href="/tags/2018-2-17/" style="font-size: 10px;">2018.2.17</a> <a href="/tags/MYSQL/" style="font-size: 20px;">MYSQL</a> <a href="/tags/MYSQL优化方法/" style="font-size: 10px;">MYSQL优化方法</a> <a href="/tags/MYSQL锁/" style="font-size: 10px;">MYSQL锁</a> <a href="/tags/MySQL/" style="font-size: 17.5px;">MySQL</a> <a href="/tags/Redis/" style="font-size: 12.5px;">Redis</a> <a href="/tags/YES/" style="font-size: 10px;">YES</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/emmmmp/" style="font-size: 10px;">emmmmp</a> <a href="/tags/hello/" style="font-size: 10px;">hello</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/javaScript/" style="font-size: 15px;">javaScript</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/profile/" style="font-size: 10px;">profile</a> <a href="/tags/show/" style="font-size: 10px;">show</a> <a href="/tags/上官岳寿/" style="font-size: 10px;">上官岳寿</a> <a href="/tags/世界只因有你/" style="font-size: 10px;">世界只因有你</a> <a href="/tags/为什么没有单挑排位/" style="font-size: 10px;">为什么没有单挑排位</a> <a href="/tags/主从配置/" style="font-size: 10px;">主从配置</a> <a href="/tags/二期项目/" style="font-size: 10px;">二期项目</a> <a href="/tags/今天感冒了/" style="font-size: 10px;">今天感冒了</a> <a href="/tags/你在哪里/" style="font-size: 10px;">你在哪里</a> <a href="/tags/函数/" style="font-size: 10px;">函数</a> <a href="/tags/哎/" style="font-size: 10px;">哎</a> <a href="/tags/啦啦啦/" style="font-size: 12.5px;">啦啦啦</a> <a href="/tags/基本操作/" style="font-size: 10px;">基本操作</a> <a href="/tags/基础/" style="font-size: 10px;">基础</a> <a href="/tags/大宝剑/" style="font-size: 10px;">大宝剑</a> <a href="/tags/好好喝/" style="font-size: 10px;">好好喝</a> <a href="/tags/好好学习/" style="font-size: 10px;">好好学习</a> <a href="/tags/字符类型/" style="font-size: 10px;">字符类型</a> <a href="/tags/常用操作/" style="font-size: 10px;">常用操作</a> <a href="/tags/常用方法/" style="font-size: 10px;">常用方法</a> <a href="/tags/开心/" style="font-size: 10px;">开心</a> <a href="/tags/开心哦/" style="font-size: 10px;">开心哦</a> <a href="/tags/很喜欢的一句话/" style="font-size: 10px;">很喜欢的一句话</a> <a href="/tags/恢复数据/" style="font-size: 10px;">恢复数据</a> <a href="/tags/感冒了/" style="font-size: 10px;">感冒了</a> <a href="/tags/我应该怎么/" style="font-size: 10px;">我应该怎么</a> <a href="/tags/我老了/" style="font-size: 10px;">我老了</a> <a href="/tags/授权/" style="font-size: 10px;">授权</a> <a href="/tags/操作/" style="font-size: 10px;">操作</a> <a href="/tags/昨天的我失去了三个朋友/" style="font-size: 10px;">昨天的我失去了三个朋友</a> <a href="/tags/最简单/" style="font-size: 10px;">最简单</a> <a href="/tags/朋友/" style="font-size: 10px;">朋友</a> <a href="/tags/朱古力/" style="font-size: 10px;">朱古力</a> <a href="/tags/来说这个鸡巴游戏啊/" style="font-size: 10px;">来说这个鸡巴游戏啊</a> <a href="/tags/来陪我打王者农药/" style="font-size: 10px;">来陪我打王者农药</a> <a href="/tags/欢迎大家/" style="font-size: 10px;">欢迎大家</a> <a href="/tags/猎场/" style="font-size: 10px;">猎场</a> <a href="/tags/王者荣耀/" style="font-size: 10px;">王者荣耀</a> <a href="/tags/索引问题/" style="font-size: 12.5px;">索引问题</a> <a href="/tags/配置文件/" style="font-size: 10px;">配置文件</a> <a href="/tags/长大一岁/" style="font-size: 10px;">长大一岁</a> <a href="/tags/难受香菇/" style="font-size: 10px;">难受香菇</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://shanguanyueshou.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">姓:上官 - 名:岳寿   .四个大字希望你可以记住老子!</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">上官岳寿</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">上官岳寿</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="https://shangguanyueshou.github.io/">博客首页</a></li>
                
                    <li><a href="https://shangguanyueshou.github.io/">作品展示</a></li>
                
                    <li><a href="https://shangguanyueshou.github.io/">留言打卡</a></li>
                
                    <li><a href="https://shangguanyueshou.github.io/">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=412417117@qq.com" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/shangguanyueshou" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="http://www.google.com.hk/" title="google">google</a>
                    
                        <a class="QQ" target="_blank" href="https://user.qzone.qq.com/412417117/infocenter" title="QQ">QQ</a>
                    
                        <a class="twitter" target="_blank" href="https://twitter.com/" title="twitter">twitter</a>
                    
                        <a class="linkedin" target="_blank" href="https://www.linkedin.com/in/%E5%B2%B3%E5%AF%BF-%E4%B8%8A%E5%AE%98-9b16b6154/?trk=uno-choose-ge-no-intent&dl=no" title="linkedin">linkedin</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-爱心树" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/07/爱心树/" class="article-date">
      <time datetime="2017-12-07T01:28:12.000Z" itemprop="datePublished">2017-12-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      爱心树
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaScript/">javaScript</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong> 爱心树：</strong> <excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<h2 id="——-伟大的泡妞巨作-———"><a href="#——-伟大的泡妞巨作-———" class="headerlink" title="—— 伟大的泡妞巨作  ———"></a>—— 伟大的泡妞巨作  ———</h2><a id="more"></a>
<p><the rest="" of="" contents="" |="" 余下全文=""></the></p>
<ol>
<li>—— 爱心树CSS样式 文件名 default.css ———</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>;<span class="attribute">background</span>:<span class="number">#ffe</span>;<span class="attribute">font-size</span>:<span class="number">14px</span>;<span class="attribute">font-family</span>:<span class="string">'微软雅黑'</span>,<span class="string">'宋体'</span>,sans-serif;<span class="attribute">color</span>:<span class="number">#231F20</span>;<span class="attribute">overflow</span>:auto&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123;<span class="attribute">color</span>:<span class="number">#000</span>;<span class="attribute">font-size</span>:<span class="number">14px</span>;&#125;</span><br><span class="line"><span class="selector-id">#main</span>&#123;<span class="attribute">width</span>:<span class="number">100%</span>;&#125;</span><br><span class="line"><span class="selector-id">#wrap</span>&#123;<span class="attribute">position</span>:relative;<span class="attribute">margin</span>:<span class="number">0</span> auto;<span class="attribute">width</span>:<span class="number">1100px</span>;<span class="attribute">height</span>:<span class="number">680px</span>;<span class="attribute">margin-top</span>:<span class="number">10px</span>;&#125;</span><br><span class="line"><span class="selector-id">#text</span>&#123;<span class="attribute">width</span>:<span class="number">400px</span>;<span class="attribute">height</span>:<span class="number">425px</span>;<span class="attribute">left</span>:<span class="number">60px</span>;<span class="attribute">top</span>:<span class="number">80px</span>;<span class="attribute">position</span>:absolute;&#125;</span><br><span class="line"><span class="selector-id">#code</span>&#123;<span class="attribute">display</span>:none;<span class="attribute">font-size</span>:<span class="number">16px</span>;&#125;</span><br><span class="line"><span class="selector-id">#clock-box</span> &#123;<span class="attribute">position</span>:absolute;<span class="attribute">left</span>:<span class="number">60px</span>;<span class="attribute">top</span>:<span class="number">550px</span>;<span class="attribute">font-size</span>:<span class="number">28px</span>;<span class="attribute">display</span>:none;&#125;</span><br><span class="line"><span class="selector-id">#clock-box</span> <span class="selector-tag">a</span> &#123;<span class="attribute">font-size</span>:<span class="number">28px</span>;<span class="attribute">text-decoration</span>:none;&#125;</span><br><span class="line"><span class="selector-id">#clock</span>&#123;<span class="attribute">margin-left</span>:<span class="number">48px</span>;&#125;</span><br><span class="line"><span class="selector-id">#clock</span> <span class="selector-class">.digit</span> &#123;<span class="attribute">font-size</span>:<span class="number">64px</span>;&#125;</span><br><span class="line"><span class="selector-id">#canvas</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span> auto;<span class="attribute">width</span>:<span class="number">1100px</span>;<span class="attribute">height</span>:<span class="number">680px</span>;&#125;</span><br><span class="line"><span class="selector-id">#error</span>&#123;<span class="attribute">margin</span>:<span class="number">0</span> auto;<span class="attribute">text-align</span>:center;<span class="attribute">margin-top</span>:<span class="number">60px</span>;<span class="attribute">display</span>:none;&#125;</span><br><span class="line"><span class="selector-class">.hand</span>&#123;<span class="attribute">cursor</span>:pointer;&#125;</span><br><span class="line"><span class="selector-class">.say</span>&#123;<span class="attribute">margin-left</span>:<span class="number">5px</span>;&#125;</span><br><span class="line"><span class="selector-class">.space</span>&#123;<span class="attribute">margin-right</span>:<span class="number">150px</span>;&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 functions.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * http://love.hackerzhou.me</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// variables</span></span><br><span class="line"><span class="keyword">var</span> $win = $(<span class="built_in">window</span>);</span><br><span class="line"><span class="keyword">var</span> clientWidth = $win.width();</span><br><span class="line"><span class="keyword">var</span> clientHeight = $win.height();</span><br><span class="line"></span><br><span class="line">$(<span class="built_in">window</span>).resize(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newWidth = $win.width();</span><br><span class="line">    <span class="keyword">var</span> newHeight = $win.height();</span><br><span class="line">    <span class="keyword">if</span> (newWidth != clientWidth &amp;&amp; newHeight != clientHeight) &#123;</span><br><span class="line">        location.replace(location);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">	$.fn.typewriter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> $ele = $(<span class="keyword">this</span>), str = $ele.html(), progress = <span class="number">0</span>;</span><br><span class="line">			$ele.html(<span class="string">''</span>);</span><br><span class="line">			<span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">				<span class="keyword">var</span> current = str.substr(progress, <span class="number">1</span>);</span><br><span class="line">				<span class="keyword">if</span> (current == <span class="string">'&lt;'</span>) &#123;</span><br><span class="line">					progress = str.indexOf(<span class="string">'&gt;'</span>, progress) + <span class="number">1</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					progress++;</span><br><span class="line">				&#125;</span><br><span class="line">				$ele.html(str.substring(<span class="number">0</span>, progress) + (progress &amp; <span class="number">1</span> ? <span class="string">'_'</span> : <span class="string">''</span>));</span><br><span class="line">				<span class="keyword">if</span> (progress &gt;= str.length) &#123;</span><br><span class="line">					clearInterval(timer);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;, <span class="number">75</span>);</span><br><span class="line">		&#125;);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeElapse</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> current = <span class="built_in">Date</span>();</span><br><span class="line">	<span class="keyword">var</span> seconds = (<span class="built_in">Date</span>.parse(current) - <span class="built_in">Date</span>.parse(date)) / <span class="number">1000</span>;</span><br><span class="line">	<span class="keyword">var</span> days = <span class="built_in">Math</span>.floor(seconds / (<span class="number">3600</span> * <span class="number">24</span>));</span><br><span class="line">	seconds = seconds % (<span class="number">3600</span> * <span class="number">24</span>);</span><br><span class="line">	<span class="keyword">var</span> hours = <span class="built_in">Math</span>.floor(seconds / <span class="number">3600</span>);</span><br><span class="line">	<span class="keyword">if</span> (hours &lt; <span class="number">10</span>) &#123;</span><br><span class="line">		hours = <span class="string">"0"</span> + hours;</span><br><span class="line">	&#125;</span><br><span class="line">	seconds = seconds % <span class="number">3600</span>;</span><br><span class="line">	<span class="keyword">var</span> minutes = <span class="built_in">Math</span>.floor(seconds / <span class="number">60</span>);</span><br><span class="line">	<span class="keyword">if</span> (minutes &lt; <span class="number">10</span>) &#123;</span><br><span class="line">		minutes = <span class="string">"0"</span> + minutes;</span><br><span class="line">	&#125;</span><br><span class="line">	seconds = seconds % <span class="number">60</span>;</span><br><span class="line">	<span class="keyword">if</span> (seconds &lt; <span class="number">10</span>) &#123;</span><br><span class="line">		seconds = <span class="string">"0"</span> + seconds;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> result = <span class="string">"第 &lt;span class=\"digit\"&gt;"</span> + days + <span class="string">"&lt;/span&gt; 天 &lt;span class=\"digit\"&gt;"</span> + hours + <span class="string">"&lt;/span&gt; 小时 &lt;span class=\"digit\"&gt;"</span> + minutes + <span class="string">"&lt;/span&gt; 分钟 &lt;span class=\"digit\"&gt;"</span> + seconds + <span class="string">"&lt;/span&gt; 秒"</span>; </span><br><span class="line">	$(<span class="string">"#clock"</span>).html(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jquery.min.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/*! jQuery v1.7.1 jquery.com | jquery.org/license */</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">cy</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.isWindow(a)?a:a.nodeType===<span class="number">9</span>?a.defaultView||a.parentWindow:!<span class="number">1</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">cv</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(!ck[a])&#123;<span class="keyword">var</span> b=c.body,d=f(<span class="string">"&lt;"</span>+a+<span class="string">"&gt;"</span>).appendTo(b),e=d.css(<span class="string">"display"</span>);d.remove();<span class="keyword">if</span>(e===<span class="string">"none"</span>||e===<span class="string">""</span>)&#123;cl||(cl=c.createElement(<span class="string">"iframe"</span>),cl.frameBorder=cl.width=cl.height=<span class="number">0</span>),b.appendChild(cl);<span class="keyword">if</span>(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode===<span class="string">"CSS1Compat"</span>?<span class="string">"&lt;!doctype html&gt;"</span>:<span class="string">""</span>)+<span class="string">"&lt;html&gt;&lt;body&gt;"</span>),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,<span class="string">"display"</span>),b.removeChild(cl)&#125;ck[a]=e&#125;<span class="keyword">return</span> ck[a]&#125;<span class="function"><span class="keyword">function</span> <span class="title">cu</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=&#123;&#125;;f.each(cq.concat.apply([],cq.slice(<span class="number">0</span>,b)),<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;c[<span class="keyword">this</span>]=a&#125;);<span class="keyword">return</span> c&#125;<span class="function"><span class="keyword">function</span> <span class="title">ct</span>(<span class="params"></span>)</span>&#123;cr=b&#125;<span class="function"><span class="keyword">function</span> <span class="title">cs</span>(<span class="params"></span>)</span>&#123;setTimeout(ct,<span class="number">0</span>);<span class="keyword">return</span> cr=f.now()&#125;<span class="function"><span class="keyword">function</span> <span class="title">cj</span>(<span class="params"></span>)</span>&#123;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> a.ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>)&#125;<span class="keyword">catch</span>(b)&#123;&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">ci</span>(<span class="params"></span>)</span>&#123;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> a.XMLHttpRequest&#125;<span class="keyword">catch</span>(b)&#123;&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">cc</span>(<span class="params">a,c</span>)</span>&#123;a.dataFilter&amp;&amp;(c=a.dataFilter(c,a.dataType));<span class="keyword">var</span> d=a.dataTypes,e=&#123;&#125;,g,h,i=d.length,j,k=d[<span class="number">0</span>],l,m,n,o,p;<span class="keyword">for</span>(g=<span class="number">1</span>;g&lt;i;g++)&#123;<span class="keyword">if</span>(g===<span class="number">1</span>)<span class="keyword">for</span>(h <span class="keyword">in</span> a.converters)<span class="keyword">typeof</span> h==<span class="string">"string"</span>&amp;&amp;(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];<span class="keyword">if</span>(k===<span class="string">"*"</span>)k=l;<span class="keyword">else</span> <span class="keyword">if</span>(l!==<span class="string">"*"</span>&amp;&amp;l!==k)&#123;m=l+<span class="string">" "</span>+k,n=e[m]||e[<span class="string">"* "</span>+k];<span class="keyword">if</span>(!n)&#123;p=b;<span class="keyword">for</span>(o <span class="keyword">in</span> e)&#123;j=o.split(<span class="string">" "</span>);<span class="keyword">if</span>(j[<span class="number">0</span>]===l||j[<span class="number">0</span>]===<span class="string">"*"</span>)&#123;p=e[j[<span class="number">1</span>]+<span class="string">" "</span>+k];<span class="keyword">if</span>(p)&#123;o=e[o],o===!<span class="number">0</span>?n=p:p===!<span class="number">0</span>&amp;&amp;(n=o);<span class="keyword">break</span>&#125;&#125;&#125;&#125;!n&amp;&amp;!p&amp;&amp;f.error(<span class="string">"No conversion from "</span>+m.replace(<span class="string">" "</span>,<span class="string">" to "</span>)),n!==!<span class="number">0</span>&amp;&amp;(c=n?n(c):p(o(c)))&#125;&#125;<span class="keyword">return</span> c&#125;<span class="function"><span class="keyword">function</span> <span class="title">cb</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;<span class="keyword">for</span>(i <span class="keyword">in</span> g)i <span class="keyword">in</span> d&amp;&amp;(c[g[i]]=d[i]);<span class="keyword">while</span>(f[<span class="number">0</span>]===<span class="string">"*"</span>)f.shift(),h===b&amp;&amp;(h=a.mimeType||c.getResponseHeader(<span class="string">"content-type"</span>));<span class="keyword">if</span>(h)<span class="keyword">for</span>(i <span class="keyword">in</span> e)<span class="keyword">if</span>(e[i]&amp;&amp;e[i].test(h))&#123;f.unshift(i);<span class="keyword">break</span>&#125;<span class="keyword">if</span>(f[<span class="number">0</span>]<span class="keyword">in</span> d)j=f[<span class="number">0</span>];<span class="keyword">else</span>&#123;<span class="keyword">for</span>(i <span class="keyword">in</span> d)&#123;<span class="keyword">if</span>(!f[<span class="number">0</span>]||a.converters[i+<span class="string">" "</span>+f[<span class="number">0</span>]])&#123;j=i;<span class="keyword">break</span>&#125;k||(k=i)&#125;j=j||k&#125;<span class="keyword">if</span>(j)&#123;j!==f[<span class="number">0</span>]&amp;&amp;f.unshift(j);<span class="keyword">return</span> d[j]&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">ca</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">if</span>(f.isArray(b))f.each(b,<span class="function"><span class="keyword">function</span>(<span class="params">b,e</span>)</span>&#123;c||bE.test(a)?d(a,e):ca(a+<span class="string">"["</span>+(<span class="keyword">typeof</span> e==<span class="string">"object"</span>||f.isArray(e)?b:<span class="string">""</span>)+<span class="string">"]"</span>,e,c,d)&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(!c&amp;&amp;b!=<span class="literal">null</span>&amp;&amp;<span class="keyword">typeof</span> b==<span class="string">"object"</span>)<span class="keyword">for</span>(<span class="keyword">var</span> e <span class="keyword">in</span> b)ca(a+<span class="string">"["</span>+e+<span class="string">"]"</span>,b[e],c,d);<span class="keyword">else</span> d(a,b)&#125;<span class="function"><span class="keyword">function</span> <span class="title">b_</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d,e,g=f.ajaxSettings.flatOptions||&#123;&#125;;<span class="keyword">for</span>(d <span class="keyword">in</span> c)c[d]!==b&amp;&amp;((g[d]?a:e||(e=&#123;&#125;))[d]=c[d]);e&amp;&amp;f.extend(!<span class="number">0</span>,a,e)&#125;<span class="function"><span class="keyword">function</span> <span class="title">b$</span>(<span class="params">a,c,d,e,f,g</span>)</span>&#123;f=f||c.dataTypes[<span class="number">0</span>],g=g||&#123;&#125;,g[f]=!<span class="number">0</span>;<span class="keyword">var</span> h=a[f],i=<span class="number">0</span>,j=h?h.length:<span class="number">0</span>,k=a===bT,l;<span class="keyword">for</span>(;i&lt;j&amp;&amp;(k||!l);i++)l=h[i](c,d,e),<span class="keyword">typeof</span> l==<span class="string">"string"</span>&amp;&amp;(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&amp;&amp;!g[<span class="string">"*"</span>]&amp;&amp;(l=b$(a,c,d,e,<span class="string">"*"</span>,g));<span class="keyword">return</span> l&#125;<span class="function"><span class="keyword">function</span> <span class="title">bZ</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;<span class="keyword">typeof</span> b!=<span class="string">"string"</span>&amp;&amp;(c=b,b=<span class="string">"*"</span>);<span class="keyword">if</span>(f.isFunction(c))&#123;<span class="keyword">var</span> d=b.toLowerCase().split(bP),e=<span class="number">0</span>,g=d.length,h,i,j;<span class="keyword">for</span>(;e&lt;g;e++)h=d[e],j=<span class="regexp">/^\+/</span>.test(h),j&amp;&amp;(h=h.substr(<span class="number">1</span>)||<span class="string">"*"</span>),i=a[h]=a[h]||[],i[j?<span class="string">"unshift"</span>:<span class="string">"push"</span>](c)&#125;&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">bC</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=b===<span class="string">"width"</span>?a.offsetWidth:a.offsetHeight,e=b===<span class="string">"width"</span>?bx:by,g=<span class="number">0</span>,h=e.length;<span class="keyword">if</span>(d&gt;<span class="number">0</span>)&#123;<span class="keyword">if</span>(c!==<span class="string">"border"</span>)<span class="keyword">for</span>(;g&lt;h;g++)c||(d-=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"padding"</span>+e[g]))||<span class="number">0</span>),c===<span class="string">"margin"</span>?d+=<span class="built_in">parseFloat</span>(f.css(a,c+e[g]))||<span class="number">0</span>:d-=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"border"</span>+e[g]+<span class="string">"Width"</span>))||<span class="number">0</span>;<span class="keyword">return</span> d+<span class="string">"px"</span>&#125;d=bz(a,b,b);<span class="keyword">if</span>(d&lt;<span class="number">0</span>||d==<span class="literal">null</span>)d=a.style[b]||<span class="number">0</span>;d=<span class="built_in">parseFloat</span>(d)||<span class="number">0</span>;<span class="keyword">if</span>(c)<span class="keyword">for</span>(;g&lt;h;g++)d+=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"padding"</span>+e[g]))||<span class="number">0</span>,c!==<span class="string">"padding"</span>&amp;&amp;(d+=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"border"</span>+e[g]+<span class="string">"Width"</span>))||<span class="number">0</span>),c===<span class="string">"margin"</span>&amp;&amp;(d+=<span class="built_in">parseFloat</span>(f.css(a,c+e[g]))||<span class="number">0</span>);<span class="keyword">return</span> d+<span class="string">"px"</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">bp</span>(<span class="params">a,b</span>)</span>&#123;b.src?f.ajax(&#123;<span class="attr">url</span>:b.src,<span class="attr">async</span>:!<span class="number">1</span>,<span class="attr">dataType</span>:<span class="string">"script"</span>&#125;):f.globalEval((b.text||b.textContent||b.innerHTML||<span class="string">""</span>).replace(bf,<span class="string">"/*$0*/"</span>)),b.parentNode&amp;&amp;b.parentNode.removeChild(b)&#125;<span class="function"><span class="keyword">function</span> <span class="title">bo</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=c.createElement(<span class="string">"div"</span>);bh.appendChild(b),b.innerHTML=a.outerHTML;<span class="keyword">return</span> b.firstChild&#125;<span class="function"><span class="keyword">function</span> <span class="title">bn</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=(a.nodeName||<span class="string">""</span>).toLowerCase();b===<span class="string">"input"</span>?bm(a):b!==<span class="string">"script"</span>&amp;&amp;<span class="keyword">typeof</span> a.getElementsByTagName!=<span class="string">"undefined"</span>&amp;&amp;f.grep(a.getElementsByTagName(<span class="string">"input"</span>),bm)&#125;<span class="function"><span class="keyword">function</span> <span class="title">bm</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a.type===<span class="string">"checkbox"</span>||a.type===<span class="string">"radio"</span>)a.defaultChecked=a.checked&#125;<span class="function"><span class="keyword">function</span> <span class="title">bl</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">typeof</span> a.getElementsByTagName!=<span class="string">"undefined"</span>?a.getElementsByTagName(<span class="string">"*"</span>):<span class="keyword">typeof</span> a.querySelectorAll!=<span class="string">"undefined"</span>?a.querySelectorAll(<span class="string">"*"</span>):[]&#125;<span class="function"><span class="keyword">function</span> <span class="title">bk</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c;<span class="keyword">if</span>(b.nodeType===<span class="number">1</span>)&#123;b.clearAttributes&amp;&amp;b.clearAttributes(),b.mergeAttributes&amp;&amp;b.mergeAttributes(a),c=b.nodeName.toLowerCase();<span class="keyword">if</span>(c===<span class="string">"object"</span>)b.outerHTML=a.outerHTML;<span class="keyword">else</span> <span class="keyword">if</span>(c!==<span class="string">"input"</span>||a.type!==<span class="string">"checkbox"</span>&amp;&amp;a.type!==<span class="string">"radio"</span>)&#123;<span class="keyword">if</span>(c===<span class="string">"option"</span>)b.selected=a.defaultSelected;<span class="keyword">else</span> <span class="keyword">if</span>(c===<span class="string">"input"</span>||c===<span class="string">"textarea"</span>)b.defaultValue=a.defaultValue&#125;<span class="keyword">else</span> a.checked&amp;&amp;(b.defaultChecked=b.checked=a.checked),b.value!==a.value&amp;&amp;(b.value=a.value);b.removeAttribute(f.expando)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">bj</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(b.nodeType===<span class="number">1</span>&amp;&amp;!!f.hasData(a))&#123;<span class="keyword">var</span> c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;<span class="keyword">if</span>(i)&#123;<span class="keyword">delete</span> h.handle,h.events=&#123;&#125;;<span class="keyword">for</span>(c <span class="keyword">in</span> i)<span class="keyword">for</span>(d=<span class="number">0</span>,e=i[c].length;d&lt;e;d++)f.event.add(b,c+(i[c][d].namespace?<span class="string">"."</span>:<span class="string">""</span>)+i[c][d].namespace,i[c][d],i[c][d].data)&#125;h.data&amp;&amp;(h.data=f.extend(&#123;&#125;,h.data))&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">bi</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> f.nodeName(a,<span class="string">"table"</span>)?a.getElementsByTagName(<span class="string">"tbody"</span>)[<span class="number">0</span>]||a.appendChild(a.ownerDocument.createElement(<span class="string">"tbody"</span>)):a&#125;<span class="function"><span class="keyword">function</span> <span class="title">U</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=V.split(<span class="string">"|"</span>),c=a.createDocumentFragment();<span class="keyword">if</span>(c.createElement)<span class="keyword">while</span>(b.length)c.createElement(b.pop());<span class="keyword">return</span> c&#125;<span class="function"><span class="keyword">function</span> <span class="title">T</span>(<span class="params">a,b,c</span>)</span>&#123;b=b||<span class="number">0</span>;<span class="keyword">if</span>(f.isFunction(b))<span class="keyword">return</span> f.grep(a,<span class="function"><span class="keyword">function</span>(<span class="params">a,d</span>)</span>&#123;<span class="keyword">var</span> e=!!b.call(a,d,a);<span class="keyword">return</span> e===c&#125;);<span class="keyword">if</span>(b.nodeType)<span class="keyword">return</span> f.grep(a,<span class="function"><span class="keyword">function</span>(<span class="params">a,d</span>)</span>&#123;<span class="keyword">return</span> a===b===c&#125;);<span class="keyword">if</span>(<span class="keyword">typeof</span> b==<span class="string">"string"</span>)&#123;<span class="keyword">var</span> d=f.grep(a,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.nodeType===<span class="number">1</span>&#125;);<span class="keyword">if</span>(O.test(b))<span class="keyword">return</span> f.filter(b,d,!c);b=f.filter(b,d)&#125;<span class="keyword">return</span> f.grep(a,<span class="function"><span class="keyword">function</span>(<span class="params">a,d</span>)</span>&#123;<span class="keyword">return</span> f.inArray(a,b)&gt;=<span class="number">0</span>===c&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">S</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!a||!a.parentNode||a.parentNode.nodeType===<span class="number">11</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">K</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!<span class="number">0</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">J</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!<span class="number">1</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=b+<span class="string">"defer"</span>,e=b+<span class="string">"queue"</span>,g=b+<span class="string">"mark"</span>,h=f._data(a,d);h&amp;&amp;(c===<span class="string">"queue"</span>||!f._data(a,e))&amp;&amp;(c===<span class="string">"mark"</span>||!f._data(a,g))&amp;&amp;setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;!f._data(a,e)&amp;&amp;!f._data(a,g)&amp;&amp;(f.removeData(a,d,!<span class="number">0</span>),h.fire())&#125;,<span class="number">0</span>)&#125;<span class="function"><span class="keyword">function</span> <span class="title">m</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> b <span class="keyword">in</span> a)&#123;<span class="keyword">if</span>(b===<span class="string">"data"</span>&amp;&amp;f.isEmptyObject(a[b]))<span class="keyword">continue</span>;<span class="keyword">if</span>(b!==<span class="string">"toJSON"</span>)<span class="keyword">return</span>!<span class="number">1</span>&#125;<span class="keyword">return</span>!<span class="number">0</span>&#125;<span class="function"><span class="keyword">function</span> <span class="title">l</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">if</span>(d===b&amp;&amp;a.nodeType===<span class="number">1</span>)&#123;<span class="keyword">var</span> e=<span class="string">"data-"</span>+c.replace(k,<span class="string">"-$1"</span>).toLowerCase();d=a.getAttribute(e);<span class="keyword">if</span>(<span class="keyword">typeof</span> d==<span class="string">"string"</span>)&#123;<span class="keyword">try</span>&#123;d=d===<span class="string">"true"</span>?!<span class="number">0</span>:d===<span class="string">"false"</span>?!<span class="number">1</span>:d===<span class="string">"null"</span>?<span class="literal">null</span>:f.isNumeric(d)?<span class="built_in">parseFloat</span>(d):j.test(d)?f.parseJSON(d):d&#125;<span class="keyword">catch</span>(g)&#123;&#125;f.data(a,c,d)&#125;<span class="keyword">else</span> d=b&#125;<span class="keyword">return</span> d&#125;<span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=g[a]=&#123;&#125;,c,d;a=a.split(<span class="regexp">/\s+/</span>);<span class="keyword">for</span>(c=<span class="number">0</span>,d=a.length;c&lt;d;c++)b[a[c]]=!<span class="number">0</span>;<span class="keyword">return</span> b&#125;<span class="keyword">var</span> c=a.document,d=a.navigator,e=a.location,f=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">J</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(!e.isReady)&#123;<span class="keyword">try</span>&#123;c.documentElement.doScroll(<span class="string">"left"</span>)&#125;<span class="keyword">catch</span>(a)&#123;setTimeout(J,<span class="number">1</span>);<span class="keyword">return</span>&#125;e.ready()&#125;&#125;<span class="keyword">var</span> e=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> e.fn.init(a,b,h)&#125;,f=a.jQuery,g=a.$,h,i=<span class="regexp">/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/</span>,j=<span class="regexp">/\S/</span>,k=<span class="regexp">/^\s+/</span>,l=<span class="regexp">/\s+$/</span>,m=<span class="regexp">/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;)?$/</span>,n=<span class="regexp">/^[\],:&#123;&#125;\s]*$/</span>,o=<span class="regexp">/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]&#123;4&#125;)/g</span>,p=<span class="regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>,q=<span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span>,r=<span class="regexp">/(webkit)[ \/]([\w.]+)/</span>,s=<span class="regexp">/(opera)(?:.*version)?[ \/]([\w.]+)/</span>,t=<span class="regexp">/(msie) ([\w.]+)/</span>,u=<span class="regexp">/(mozilla)(?:.*? rv:([\w.]+))?/</span>,v=<span class="regexp">/-([a-z]|[0-9])/ig</span>,w=<span class="regexp">/^-ms-/</span>,x=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span>(b+<span class="string">""</span>).toUpperCase()&#125;,y=d.userAgent,z,A,B,C=<span class="built_in">Object</span>.prototype.toString,D=<span class="built_in">Object</span>.prototype.hasOwnProperty,E=<span class="built_in">Array</span>.prototype.push,F=<span class="built_in">Array</span>.prototype.slice,G=<span class="built_in">String</span>.prototype.trim,H=<span class="built_in">Array</span>.prototype.indexOf,I=&#123;&#125;;e.fn=e.prototype=&#123;<span class="attr">constructor</span>:e,<span class="attr">init</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,d,f</span>)</span>&#123;<span class="keyword">var</span> g,h,j,k;<span class="keyword">if</span>(!a)<span class="keyword">return</span> <span class="keyword">this</span>;<span class="keyword">if</span>(a.nodeType)&#123;<span class="keyword">this</span>.context=<span class="keyword">this</span>[<span class="number">0</span>]=a,<span class="keyword">this</span>.length=<span class="number">1</span>;<span class="keyword">return</span> <span class="keyword">this</span>&#125;<span class="keyword">if</span>(a===<span class="string">"body"</span>&amp;&amp;!d&amp;&amp;c.body)&#123;<span class="keyword">this</span>.context=c,<span class="keyword">this</span>[<span class="number">0</span>]=c.body,<span class="keyword">this</span>.selector=a,<span class="keyword">this</span>.length=<span class="number">1</span>;<span class="keyword">return</span> <span class="keyword">this</span>&#125;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"string"</span>)&#123;a.charAt(<span class="number">0</span>)!==<span class="string">"&lt;"</span>||a.charAt(a.length<span class="number">-1</span>)!==<span class="string">"&gt;"</span>||a.length&lt;<span class="number">3</span>?g=i.exec(a):g=[<span class="literal">null</span>,a,<span class="literal">null</span>];<span class="keyword">if</span>(g&amp;&amp;(g[<span class="number">1</span>]||!d))&#123;<span class="keyword">if</span>(g[<span class="number">1</span>])&#123;d=d <span class="keyword">instanceof</span> e?d[<span class="number">0</span>]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[<span class="number">1</span>])],e.fn.attr.call(a,d,!<span class="number">0</span>)):a=[k.createElement(j[<span class="number">1</span>])]:(j=e.buildFragment([g[<span class="number">1</span>]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);<span class="keyword">return</span> e.merge(<span class="keyword">this</span>,a)&#125;h=c.getElementById(g[<span class="number">2</span>]);<span class="keyword">if</span>(h&amp;&amp;h.parentNode)&#123;<span class="keyword">if</span>(h.id!==g[<span class="number">2</span>])<span class="keyword">return</span> f.find(a);<span class="keyword">this</span>.length=<span class="number">1</span>,<span class="keyword">this</span>[<span class="number">0</span>]=h&#125;<span class="keyword">this</span>.context=c,<span class="keyword">this</span>.selector=a;<span class="keyword">return</span> <span class="keyword">this</span>&#125;<span class="keyword">return</span>!d||d.jquery?(d||f).find(a):<span class="keyword">this</span>.constructor(d).find(a)&#125;<span class="keyword">if</span>(e.isFunction(a))<span class="keyword">return</span> f.ready(a);a.selector!==b&amp;&amp;(<span class="keyword">this</span>.selector=a.selector,<span class="keyword">this</span>.context=a.context);<span class="keyword">return</span> e.makeArray(a,<span class="keyword">this</span>)&#125;,<span class="attr">selector</span>:<span class="string">""</span>,<span class="attr">jquery</span>:<span class="string">"1.7.1"</span>,<span class="attr">length</span>:<span class="number">0</span>,<span class="attr">size</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.length&#125;,<span class="attr">toArray</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> F.call(<span class="keyword">this</span>,<span class="number">0</span>)&#125;,<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a==<span class="literal">null</span>?<span class="keyword">this</span>.toArray():a&lt;<span class="number">0</span>?<span class="keyword">this</span>[<span class="keyword">this</span>.length+a]:<span class="keyword">this</span>[a]&#125;,<span class="attr">pushStack</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=<span class="keyword">this</span>.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=<span class="keyword">this</span>,d.context=<span class="keyword">this</span>.context,b===<span class="string">"find"</span>?d.selector=<span class="keyword">this</span>.selector+(<span class="keyword">this</span>.selector?<span class="string">" "</span>:<span class="string">""</span>)+c:b&amp;&amp;(d.selector=<span class="keyword">this</span>.selector+<span class="string">"."</span>+b+<span class="string">"("</span>+c+<span class="string">")"</span>);<span class="keyword">return</span> d&#125;,<span class="attr">each</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> e.each(<span class="keyword">this</span>,a,b)&#125;,<span class="attr">ready</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;e.bindReady(),A.add(a);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">eq</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a=+a;<span class="keyword">return</span> a===<span class="number">-1</span>?<span class="keyword">this</span>.slice(a):<span class="keyword">this</span>.slice(a,a+<span class="number">1</span>)&#125;,<span class="attr">first</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.eq(<span class="number">0</span>)&#125;,<span class="attr">last</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.eq(<span class="number">-1</span>)&#125;,<span class="attr">slice</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(F.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>),<span class="string">"slice"</span>,F.call(<span class="built_in">arguments</span>).join(<span class="string">","</span>))&#125;,<span class="attr">map</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(e.map(<span class="keyword">this</span>,<span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;<span class="keyword">return</span> a.call(b,c,b)&#125;))&#125;,<span class="attr">end</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.prevObject||<span class="keyword">this</span>.constructor(<span class="literal">null</span>)&#125;,<span class="attr">push</span>:E,<span class="attr">sort</span>:[].sort,<span class="attr">splice</span>:[].splice&#125;,e.fn.init.prototype=e.fn,e.extend=e.fn.extend=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a,c,d,f,g,h,i=<span class="built_in">arguments</span>[<span class="number">0</span>]||&#123;&#125;,j=<span class="number">1</span>,k=<span class="built_in">arguments</span>.length,l=!<span class="number">1</span>;<span class="keyword">typeof</span> i==<span class="string">"boolean"</span>&amp;&amp;(l=i,i=<span class="built_in">arguments</span>[<span class="number">1</span>]||&#123;&#125;,j=<span class="number">2</span>),<span class="keyword">typeof</span> i!=<span class="string">"object"</span>&amp;&amp;!e.isFunction(i)&amp;&amp;(i=&#123;&#125;),k===j&amp;&amp;(i=<span class="keyword">this</span>,--j);<span class="keyword">for</span>(;j&lt;k;j++)<span class="keyword">if</span>((a=<span class="built_in">arguments</span>[j])!=<span class="literal">null</span>)<span class="keyword">for</span>(c <span class="keyword">in</span> a)&#123;d=i[c],f=a[c];<span class="keyword">if</span>(i===f)<span class="keyword">continue</span>;l&amp;&amp;f&amp;&amp;(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!<span class="number">1</span>,h=d&amp;&amp;e.isArray(d)?d:[]):h=d&amp;&amp;e.isPlainObject(d)?d:&#123;&#125;,i[c]=e.extend(l,h,f)):f!==b&amp;&amp;(i[c]=f)&#125;<span class="keyword">return</span> i&#125;,e.extend(&#123;<span class="attr">noConflict</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;a.$===e&amp;&amp;(a.$=g),b&amp;&amp;a.jQuery===e&amp;&amp;(a.jQuery=f);<span class="keyword">return</span> e&#125;,<span class="attr">isReady</span>:!<span class="number">1</span>,<span class="attr">readyWait</span>:<span class="number">1</span>,<span class="attr">holdReady</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a?e.readyWait++:e.ready(!<span class="number">0</span>)&#125;,<span class="attr">ready</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a===!<span class="number">0</span>&amp;&amp;!--e.readyWait||a!==!<span class="number">0</span>&amp;&amp;!e.isReady)&#123;<span class="keyword">if</span>(!c.body)<span class="keyword">return</span> setTimeout(e.ready,<span class="number">1</span>);e.isReady=!<span class="number">0</span>;<span class="keyword">if</span>(a!==!<span class="number">0</span>&amp;&amp;--e.readyWait&gt;<span class="number">0</span>)<span class="keyword">return</span>;A.fireWith(c,[e]),e.fn.trigger&amp;&amp;e(c).trigger(<span class="string">"ready"</span>).off(<span class="string">"ready"</span>)&#125;&#125;,<span class="attr">bindReady</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(!A)&#123;A=e.Callbacks(<span class="string">"once memory"</span>);<span class="keyword">if</span>(c.readyState===<span class="string">"complete"</span>)<span class="keyword">return</span> setTimeout(e.ready,<span class="number">1</span>);<span class="keyword">if</span>(c.addEventListener)c.addEventListener(<span class="string">"DOMContentLoaded"</span>,B,!<span class="number">1</span>),a.addEventListener(<span class="string">"load"</span>,e.ready,!<span class="number">1</span>);<span class="keyword">else</span> <span class="keyword">if</span>(c.attachEvent)&#123;c.attachEvent(<span class="string">"onreadystatechange"</span>,B),a.attachEvent(<span class="string">"onload"</span>,e.ready);<span class="keyword">var</span> b=!<span class="number">1</span>;<span class="keyword">try</span>&#123;b=a.frameElement==<span class="literal">null</span>&#125;<span class="keyword">catch</span>(d)&#123;&#125;c.documentElement.doScroll&amp;&amp;b&amp;&amp;J()&#125;&#125;&#125;,<span class="attr">isFunction</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> e.type(a)===<span class="string">"function"</span>&#125;,<span class="attr">isArray</span>:<span class="built_in">Array</span>.isArray||<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> e.type(a)===<span class="string">"array"</span>&#125;,<span class="attr">isWindow</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a&amp;&amp;<span class="keyword">typeof</span> a==<span class="string">"object"</span>&amp;&amp;<span class="string">"setInterval"</span><span class="keyword">in</span> a&#125;,<span class="attr">isNumeric</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(a))&amp;&amp;<span class="built_in">isFinite</span>(a)&#125;,<span class="attr">type</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a==<span class="literal">null</span>?<span class="built_in">String</span>(a):I[C.call(a)]||<span class="string">"object"</span>&#125;,<span class="attr">isPlainObject</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(!a||e.type(a)!==<span class="string">"object"</span>||a.nodeType||e.isWindow(a))<span class="keyword">return</span>!<span class="number">1</span>;<span class="keyword">try</span>&#123;<span class="keyword">if</span>(a.constructor&amp;&amp;!D.call(a,<span class="string">"constructor"</span>)&amp;&amp;!D.call(a.constructor.prototype,<span class="string">"isPrototypeOf"</span>))<span class="keyword">return</span>!<span class="number">1</span>&#125;<span class="keyword">catch</span>(c)&#123;<span class="keyword">return</span>!<span class="number">1</span>&#125;<span class="keyword">var</span> d;<span class="keyword">for</span>(d <span class="keyword">in</span> a);<span class="keyword">return</span> d===b||D.call(a,d)&#125;,<span class="attr">isEmptyObject</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> b <span class="keyword">in</span> a)<span class="keyword">return</span>!<span class="number">1</span>;<span class="keyword">return</span>!<span class="number">0</span>&#125;,<span class="attr">error</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(a)&#125;,<span class="attr">parseJSON</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> b!=<span class="string">"string"</span>||!b)<span class="keyword">return</span> <span class="literal">null</span>;b=e.trim(b);<span class="keyword">if</span>(a.JSON&amp;&amp;a.JSON.parse)<span class="keyword">return</span> a.JSON.parse(b);<span class="keyword">if</span>(n.test(b.replace(o,<span class="string">"@"</span>).replace(p,<span class="string">"]"</span>).replace(q,<span class="string">""</span>)))<span class="keyword">return</span>(<span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"return "</span>+b))();e.error(<span class="string">"Invalid JSON: "</span>+b)&#125;,<span class="attr">parseXML</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;<span class="keyword">var</span> d,f;<span class="keyword">try</span>&#123;a.DOMParser?(f=<span class="keyword">new</span> DOMParser,d=f.parseFromString(c,<span class="string">"text/xml"</span>)):(d=<span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLDOM"</span>),d.async=<span class="string">"false"</span>,d.loadXML(c))&#125;<span class="keyword">catch</span>(g)&#123;d=b&#125;(!d||!d.documentElement||d.getElementsByTagName(<span class="string">"parsererror"</span>).length)&amp;&amp;e.error(<span class="string">"Invalid XML: "</span>+c);<span class="keyword">return</span> d&#125;,<span class="attr">noop</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,<span class="attr">globalEval</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;b&amp;&amp;j.test(b)&amp;&amp;(a.execScript||<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;a.eval.call(a,b)&#125;)(b)&#125;,<span class="attr">camelCase</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.replace(w,<span class="string">"ms-"</span>).replace(v,x)&#125;,<span class="attr">nodeName</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a.nodeName&amp;&amp;a.nodeName.toUpperCase()===b.toUpperCase()&#125;,<span class="attr">each</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> f,g=<span class="number">0</span>,h=a.length,i=h===b||e.isFunction(a);<span class="keyword">if</span>(d)&#123;<span class="keyword">if</span>(i)&#123;<span class="keyword">for</span>(f <span class="keyword">in</span> a)<span class="keyword">if</span>(c.apply(a[f],d)===!<span class="number">1</span>)<span class="keyword">break</span>&#125;<span class="keyword">else</span> <span class="keyword">for</span>(;g&lt;h;)<span class="keyword">if</span>(c.apply(a[g++],d)===!<span class="number">1</span>)<span class="keyword">break</span>&#125;<span class="keyword">else</span> <span class="keyword">if</span>(i)&#123;<span class="keyword">for</span>(f <span class="keyword">in</span> a)<span class="keyword">if</span>(c.call(a[f],f,a[f])===!<span class="number">1</span>)<span class="keyword">break</span>&#125;<span class="keyword">else</span> <span class="keyword">for</span>(;g&lt;h;)<span class="keyword">if</span>(c.call(a[g],g,a[g++])===!<span class="number">1</span>)<span class="keyword">break</span>;<span class="keyword">return</span> a&#125;,<span class="attr">trim</span>:G?<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a==<span class="literal">null</span>?<span class="string">""</span>:G.call(a)&#125;:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a==<span class="literal">null</span>?<span class="string">""</span>:(a+<span class="string">""</span>).replace(k,<span class="string">""</span>).replace(l,<span class="string">""</span>)&#125;,<span class="attr">makeArray</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=b||[];<span class="keyword">if</span>(a!=<span class="literal">null</span>)&#123;<span class="keyword">var</span> d=e.type(a);a.length==<span class="literal">null</span>||d===<span class="string">"string"</span>||d===<span class="string">"function"</span>||d===<span class="string">"regexp"</span>||e.isWindow(a)?E.call(c,a):e.merge(c,a)&#125;<span class="keyword">return</span> c&#125;,<span class="attr">inArray</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d;<span class="keyword">if</span>(b)&#123;<span class="keyword">if</span>(H)<span class="keyword">return</span> H.call(b,a,c);d=b.length,c=c?c&lt;<span class="number">0</span>?<span class="built_in">Math</span>.max(<span class="number">0</span>,d+c):c:<span class="number">0</span>;<span class="keyword">for</span>(;c&lt;d;c++)<span class="keyword">if</span>(c <span class="keyword">in</span> b&amp;&amp;b[c]===a)<span class="keyword">return</span> c&#125;<span class="keyword">return</span><span class="number">-1</span>&#125;,<span class="attr">merge</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d=a.length,e=<span class="number">0</span>;<span class="keyword">if</span>(<span class="keyword">typeof</span> c.length==<span class="string">"number"</span>)<span class="keyword">for</span>(<span class="keyword">var</span> f=c.length;e&lt;f;e++)a[d++]=c[e];<span class="keyword">else</span> <span class="keyword">while</span>(c[e]!==b)a[d++]=c[e++];a.length=d;<span class="keyword">return</span> a&#125;,<span class="attr">grep</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=[],e;c=!!c;<span class="keyword">for</span>(<span class="keyword">var</span> f=<span class="number">0</span>,g=a.length;f&lt;g;f++)e=!!b(a[f],f),c!==e&amp;&amp;d.push(a[f]);<span class="keyword">return</span> d&#125;,<span class="attr">map</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> f,g,h=[],i=<span class="number">0</span>,j=a.length,k=a <span class="keyword">instanceof</span> e||j!==b&amp;&amp;<span class="keyword">typeof</span> j==<span class="string">"number"</span>&amp;&amp;(j&gt;<span class="number">0</span>&amp;&amp;a[<span class="number">0</span>]&amp;&amp;a[j<span class="number">-1</span>]||j===<span class="number">0</span>||e.isArray(a));<span class="keyword">if</span>(k)<span class="keyword">for</span>(;i&lt;j;i++)f=c(a[i],i,d),f!=<span class="literal">null</span>&amp;&amp;(h[h.length]=f);<span class="keyword">else</span> <span class="keyword">for</span>(g <span class="keyword">in</span> a)f=c(a[g],g,d),f!=<span class="literal">null</span>&amp;&amp;(h[h.length]=f);<span class="keyword">return</span> h.concat.apply([],h)&#125;,<span class="attr">guid</span>:<span class="number">1</span>,<span class="attr">proxy</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> c==<span class="string">"string"</span>)&#123;<span class="keyword">var</span> d=a[c];c=a,a=d&#125;<span class="keyword">if</span>(!e.isFunction(a))<span class="keyword">return</span> b;<span class="keyword">var</span> f=F.call(<span class="built_in">arguments</span>,<span class="number">2</span>),g=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> a.apply(c,f.concat(F.call(<span class="built_in">arguments</span>)))&#125;;g.guid=a.guid=a.guid||g.guid||e.guid++;<span class="keyword">return</span> g&#125;,<span class="attr">access</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,f,g,h</span>)</span>&#123;<span class="keyword">var</span> i=a.length;<span class="keyword">if</span>(<span class="keyword">typeof</span> c==<span class="string">"object"</span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> j <span class="keyword">in</span> c)e.access(a,j,c[j],f,g,d);<span class="keyword">return</span> a&#125;<span class="keyword">if</span>(d!==b)&#123;f=!h&amp;&amp;f&amp;&amp;e.isFunction(d);<span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);<span class="keyword">return</span> a&#125;<span class="keyword">return</span> i?g(a[<span class="number">0</span>],c):b&#125;,<span class="attr">now</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>(<span class="keyword">new</span> <span class="built_in">Date</span>).getTime()&#125;,<span class="attr">uaMatch</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a=a.toLowerCase();<span class="keyword">var</span> b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf(<span class="string">"compatible"</span>)&lt;<span class="number">0</span>&amp;&amp;u.exec(a)||[];<span class="keyword">return</span>&#123;<span class="attr">browser</span>:b[<span class="number">1</span>]||<span class="string">""</span>,<span class="attr">version</span>:b[<span class="number">2</span>]||<span class="string">"0"</span>&#125;&#125;,<span class="attr">sub</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">b,c</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> a.fn.init(b,c)&#125;e.extend(!<span class="number">0</span>,a,<span class="keyword">this</span>),a.superclass=<span class="keyword">this</span>,a.fn=a.prototype=<span class="keyword">this</span>(),a.fn.constructor=a,a.sub=<span class="keyword">this</span>.sub,a.fn.init=<span class="function"><span class="keyword">function</span>(<span class="params">d,f</span>)</span>&#123;f&amp;&amp;f <span class="keyword">instanceof</span> e&amp;&amp;!(f <span class="keyword">instanceof</span> a)&amp;&amp;(f=a(f));<span class="keyword">return</span> e.fn.init.call(<span class="keyword">this</span>,d,f,b)&#125;,a.fn.init.prototype=a.fn;<span class="keyword">var</span> b=a(c);<span class="keyword">return</span> a&#125;,<span class="attr">browser</span>:&#123;&#125;&#125;),e.each(<span class="string">"Boolean Number String Function Array Date RegExp Object"</span>.split(<span class="string">" "</span>),<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;I[<span class="string">"[object "</span>+b+<span class="string">"]"</span>]=b.toLowerCase()&#125;),z=e.uaMatch(y),z.browser&amp;&amp;(e.browser[z.browser]=!<span class="number">0</span>,e.browser.version=z.version),e.browser.webkit&amp;&amp;(e.browser.safari=!<span class="number">0</span>),j.test(<span class="string">" "</span>)&amp;&amp;(k=<span class="regexp">/^[\s\xA0]+/</span>,l=<span class="regexp">/[\s\xA0]+$/</span>),h=e(c),c.addEventListener?B=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;c.removeEventListener(<span class="string">"DOMContentLoaded"</span>,B,!<span class="number">1</span>),e.ready()&#125;:c.attachEvent&amp;&amp;(B=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;c.readyState===<span class="string">"complete"</span>&amp;&amp;(c.detachEvent(<span class="string">"onreadystatechange"</span>,B),e.ready())&#125;);<span class="keyword">return</span> e&#125;(),g=&#123;&#125;;f.Callbacks=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a=a?g[a]||h(a):&#123;&#125;;<span class="keyword">var</span> c=[],d=[],e,i,j,k,l,m=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">var</span> d,e,g,h,i;<span class="keyword">for</span>(d=<span class="number">0</span>,e=b.length;d&lt;e;d++)g=b[d],h=f.type(g),h===<span class="string">"array"</span>?m(g):h===<span class="string">"function"</span>&amp;&amp;(!a.unique||!o.has(g))&amp;&amp;c.push(g)&#125;,n=<span class="function"><span class="keyword">function</span>(<span class="params">b,f</span>)</span>&#123;f=f||[],e=!a.memory||[b,f],i=!<span class="number">0</span>,l=j||<span class="number">0</span>,j=<span class="number">0</span>,k=c.length;<span class="keyword">for</span>(;c&amp;&amp;l&lt;k;l++)<span class="keyword">if</span>(c[l].apply(b,f)===!<span class="number">1</span>&amp;&amp;a.stopOnFalse)&#123;e=!<span class="number">0</span>;<span class="keyword">break</span>&#125;i=!<span class="number">1</span>,c&amp;&amp;(a.once?e===!<span class="number">0</span>?o.disable():c=[]:d&amp;&amp;d.length&amp;&amp;(e=d.shift(),o.fireWith(e[<span class="number">0</span>],e[<span class="number">1</span>])))&#125;,o=&#123;<span class="attr">add</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(c)&#123;<span class="keyword">var</span> a=c.length;m(<span class="built_in">arguments</span>),i?k=c.length:e&amp;&amp;e!==!<span class="number">0</span>&amp;&amp;(j=a,n(e[<span class="number">0</span>],e[<span class="number">1</span>]))&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">remove</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(c)&#123;<span class="keyword">var</span> b=<span class="built_in">arguments</span>,d=<span class="number">0</span>,e=b.length;<span class="keyword">for</span>(;d&lt;e;d++)<span class="keyword">for</span>(<span class="keyword">var</span> f=<span class="number">0</span>;f&lt;c.length;f++)<span class="keyword">if</span>(b[d]===c[f])&#123;i&amp;&amp;f&lt;=k&amp;&amp;(k--,f&lt;=l&amp;&amp;l--),c.splice(f--,<span class="number">1</span>);<span class="keyword">if</span>(a.unique)<span class="keyword">break</span>&#125;&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">has</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(c)&#123;<span class="keyword">var</span> b=<span class="number">0</span>,d=c.length;<span class="keyword">for</span>(;b&lt;d;b++)<span class="keyword">if</span>(a===c[b])<span class="keyword">return</span>!<span class="number">0</span>&#125;<span class="keyword">return</span>!<span class="number">1</span>&#125;,<span class="attr">empty</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;c=[];<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">disable</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;c=d=e=b;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">disabled</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!c&#125;,<span class="attr">lock</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;d=b,(!e||e===!<span class="number">0</span>)&amp;&amp;o.disable();<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">locked</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!d&#125;,<span class="attr">fireWith</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;d&amp;&amp;(i?a.once||d.push([b,c]):(!a.once||!e)&amp;&amp;n(b,c));<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">fire</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;o.fireWith(<span class="keyword">this</span>,<span class="built_in">arguments</span>);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">fired</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!!e&#125;&#125;;<span class="keyword">return</span> o&#125;;<span class="keyword">var</span> i=[].slice;f.extend(&#123;<span class="attr">Deferred</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=f.Callbacks(<span class="string">"once memory"</span>),c=f.Callbacks(<span class="string">"once memory"</span>),d=f.Callbacks(<span class="string">"memory"</span>),e=<span class="string">"pending"</span>,g=&#123;<span class="attr">resolve</span>:b,<span class="attr">reject</span>:c,<span class="attr">notify</span>:d&#125;,h=&#123;<span class="attr">done</span>:b.add,<span class="attr">fail</span>:c.add,<span class="attr">progress</span>:d.add,<span class="attr">state</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e&#125;,<span class="attr">isResolved</span>:b.fired,<span class="attr">isRejected</span>:c.fired,<span class="attr">then</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;i.done(a).fail(b).progress(c);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">always</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;i.done.apply(i,<span class="built_in">arguments</span>).fail.apply(i,<span class="built_in">arguments</span>);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">pipe</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> f.Deferred(<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;f.each(&#123;<span class="attr">done</span>:[a,<span class="string">"resolve"</span>],<span class="attr">fail</span>:[b,<span class="string">"reject"</span>],<span class="attr">progress</span>:[c,<span class="string">"notify"</span>]&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=b[<span class="number">0</span>],e=b[<span class="number">1</span>],g;f.isFunction(c)?i[a](<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;g=c.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>),g&amp;&amp;f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+<span class="string">"With"</span>](<span class="keyword">this</span>===i?d:<span class="keyword">this</span>,[g])&#125;):i[a](d[e])&#125;)&#125;).promise()&#125;,<span class="attr">promise</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a==<span class="literal">null</span>)a=h;<span class="keyword">else</span> <span class="keyword">for</span>(<span class="keyword">var</span> b <span class="keyword">in</span> h)a[b]=h[b];<span class="keyword">return</span> a&#125;&#125;,i=h.promise(&#123;&#125;),j;<span class="keyword">for</span>(j <span class="keyword">in</span> g)i[j]=g[j].fire,i[j+<span class="string">"With"</span>]=g[j].fireWith;i.done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e=<span class="string">"resolved"</span>&#125;,c.disable,d.lock).fail(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e=<span class="string">"rejected"</span>&#125;,b.disable,d.lock),a&amp;&amp;a.call(i,i);<span class="keyword">return</span> i&#125;,<span class="attr">when</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">m</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;e[a]=<span class="built_in">arguments</span>.length&gt;<span class="number">1</span>?i.call(<span class="built_in">arguments</span>,<span class="number">0</span>):b,j.notifyWith(k,e)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">l</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;b[a]=<span class="built_in">arguments</span>.length&gt;<span class="number">1</span>?i.call(<span class="built_in">arguments</span>,<span class="number">0</span>):c,--g||j.resolveWith(j,b)&#125;&#125;<span class="keyword">var</span> b=i.call(<span class="built_in">arguments</span>,<span class="number">0</span>),c=<span class="number">0</span>,d=b.length,e=<span class="built_in">Array</span>(d),g=d,h=d,j=d&lt;=<span class="number">1</span>&amp;&amp;a&amp;&amp;f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();<span class="keyword">if</span>(d&gt;<span class="number">1</span>)&#123;<span class="keyword">for</span>(;c&lt;d;c++)b[c]&amp;&amp;b[c].promise&amp;&amp;f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)&#125;<span class="keyword">else</span> j!==a&amp;&amp;j.resolveWith(j,d?[a]:[]);<span class="keyword">return</span> k&#125;&#125;),f.support=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement(<span class="string">"div"</span>),r=c.documentElement;q.setAttribute(<span class="string">"className"</span>,<span class="string">"t"</span>),q.innerHTML=<span class="string">"   &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a' style='top:1px;float:left;opacity:.55;'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;"</span>,d=q.getElementsByTagName(<span class="string">"*"</span>),e=q.getElementsByTagName(<span class="string">"a"</span>)[<span class="number">0</span>];<span class="keyword">if</span>(!d||!d.length||!e)<span class="keyword">return</span>&#123;&#125;;g=c.createElement(<span class="string">"select"</span>),h=g.appendChild(c.createElement(<span class="string">"option"</span>)),i=q.getElementsByTagName(<span class="string">"input"</span>)[<span class="number">0</span>],b=&#123;<span class="attr">leadingWhitespace</span>:q.firstChild.nodeType===<span class="number">3</span>,<span class="attr">tbody</span>:!q.getElementsByTagName(<span class="string">"tbody"</span>).length,<span class="attr">htmlSerialize</span>:!!q.getElementsByTagName(<span class="string">"link"</span>).length,<span class="attr">style</span>:<span class="regexp">/top/</span>.test(e.getAttribute(<span class="string">"style"</span>)),<span class="attr">hrefNormalized</span>:e.getAttribute(<span class="string">"href"</span>)===<span class="string">"/a"</span>,<span class="attr">opacity</span>:<span class="regexp">/^0.55/</span>.test(e.style.opacity),<span class="attr">cssFloat</span>:!!e.style.cssFloat,<span class="attr">checkOn</span>:i.value===<span class="string">"on"</span>,<span class="attr">optSelected</span>:h.selected,<span class="attr">getSetAttribute</span>:q.className!==<span class="string">"t"</span>,<span class="attr">enctype</span>:!!c.createElement(<span class="string">"form"</span>).enctype,<span class="attr">html5Clone</span>:c.createElement(<span class="string">"nav"</span>).cloneNode(!<span class="number">0</span>).outerHTML!==<span class="string">"&lt;:nav&gt;&lt;/:nav&gt;"</span>,<span class="attr">submitBubbles</span>:!<span class="number">0</span>,<span class="attr">changeBubbles</span>:!<span class="number">0</span>,<span class="attr">focusinBubbles</span>:!<span class="number">1</span>,<span class="attr">deleteExpando</span>:!<span class="number">0</span>,<span class="attr">noCloneEvent</span>:!<span class="number">0</span>,<span class="attr">inlineBlockNeedsLayout</span>:!<span class="number">1</span>,<span class="attr">shrinkWrapBlocks</span>:!<span class="number">1</span>,<span class="attr">reliableMarginRight</span>:!<span class="number">0</span>&#125;,i.checked=!<span class="number">0</span>,b.noCloneChecked=i.cloneNode(!<span class="number">0</span>).checked,g.disabled=!<span class="number">0</span>,b.optDisabled=!h.disabled;<span class="keyword">try</span>&#123;<span class="keyword">delete</span> q.test&#125;<span class="keyword">catch</span>(s)&#123;b.deleteExpando=!<span class="number">1</span>&#125;!q.addEventListener&amp;&amp;q.attachEvent&amp;&amp;q.fireEvent&amp;&amp;(q.attachEvent(<span class="string">"onclick"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;b.noCloneEvent=!<span class="number">1</span>&#125;),q.cloneNode(!<span class="number">0</span>).fireEvent(<span class="string">"onclick"</span>)),i=c.createElement(<span class="string">"input"</span>),i.value=<span class="string">"t"</span>,i.setAttribute(<span class="string">"type"</span>,<span class="string">"radio"</span>),b.radioValue=i.value===<span class="string">"t"</span>,i.setAttribute(<span class="string">"checked"</span>,<span class="string">"checked"</span>),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!<span class="number">0</span>).cloneNode(!<span class="number">0</span>).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML=<span class="string">""</span>,a.getComputedStyle&amp;&amp;(j=c.createElement(<span class="string">"div"</span>),j.style.width=<span class="string">"0"</span>,j.style.marginRight=<span class="string">"0"</span>,q.style.width=<span class="string">"2px"</span>,q.appendChild(j),b.reliableMarginRight=(<span class="built_in">parseInt</span>((a.getComputedStyle(j,<span class="literal">null</span>)||&#123;<span class="attr">marginRight</span>:<span class="number">0</span>&#125;).marginRight,<span class="number">10</span>)||<span class="number">0</span>)===<span class="number">0</span>);<span class="keyword">if</span>(q.attachEvent)<span class="keyword">for</span>(o <span class="keyword">in</span>&#123;<span class="attr">submit</span>:<span class="number">1</span>,<span class="attr">change</span>:<span class="number">1</span>,<span class="attr">focusin</span>:<span class="number">1</span>&#125;)n=<span class="string">"on"</span>+o,p=n <span class="keyword">in</span> q,p||(q.setAttribute(n,<span class="string">"return;"</span>),p=<span class="keyword">typeof</span> q[n]==<span class="string">"function"</span>),b[o+<span class="string">"Bubbles"</span>]=p;k.removeChild(q),k=g=h=j=q=i=<span class="literal">null</span>,f(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName(<span class="string">"body"</span>)[<span class="number">0</span>];!r||(j=<span class="number">1</span>,k=<span class="string">"position:absolute;top:0;left:0;width:1px;height:1px;margin:0;"</span>,m=<span class="string">"visibility:hidden;border:0;"</span>,n=<span class="string">"style='"</span>+k+<span class="string">"border:5px solid #000;padding:0;'"</span>,o=<span class="string">"&lt;div "</span>+n+<span class="string">"&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;"</span>+<span class="string">"&lt;table "</span>+n+<span class="string">" cellpadding='0' cellspacing='0'&gt;"</span>+<span class="string">"&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;"</span>,a=c.createElement(<span class="string">"div"</span>),a.style.cssText=m+<span class="string">"width:0;height:0;position:static;top:0;margin-top:"</span>+j+<span class="string">"px"</span>,r.insertBefore(a,r.firstChild),q=c.createElement(<span class="string">"div"</span>),a.appendChild(q),q.innerHTML=<span class="string">"&lt;table&gt;&lt;tr&gt;&lt;td style='padding:0;border:0;display:none'&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;"</span>,l=q.getElementsByTagName(<span class="string">"td"</span>),p=l[<span class="number">0</span>].offsetHeight===<span class="number">0</span>,l[<span class="number">0</span>].style.display=<span class="string">""</span>,l[<span class="number">1</span>].style.display=<span class="string">"none"</span>,b.reliableHiddenOffsets=p&amp;&amp;l[<span class="number">0</span>].offsetHeight===<span class="number">0</span>,q.innerHTML=<span class="string">""</span>,q.style.width=q.style.paddingLeft=<span class="string">"1px"</span>,f.boxModel=b.boxModel=q.offsetWidth===<span class="number">2</span>,<span class="keyword">typeof</span> q.style.zoom!=<span class="string">"undefined"</span>&amp;&amp;(q.style.display=<span class="string">"inline"</span>,q.style.zoom=<span class="number">1</span>,b.inlineBlockNeedsLayout=q.offsetWidth===<span class="number">2</span>,q.style.display=<span class="string">""</span>,q.innerHTML=<span class="string">"&lt;div style='width:4px;'&gt;&lt;/div&gt;"</span>,b.shrinkWrapBlocks=q.offsetWidth!==<span class="number">2</span>),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i=&#123;<span class="attr">doesNotAddBorder</span>:e.offsetTop!==<span class="number">5</span>,<span class="attr">doesAddBorderForTableAndCells</span>:h.offsetTop===<span class="number">5</span>&#125;,e.style.position=<span class="string">"fixed"</span>,e.style.top=<span class="string">"20px"</span>,i.fixedPosition=e.offsetTop===<span class="number">20</span>||e.offsetTop===<span class="number">15</span>,e.style.position=e.style.top=<span class="string">""</span>,d.style.overflow=<span class="string">"hidden"</span>,d.style.position=<span class="string">"relative"</span>,i.subtractsBorderForOverflowNotVisible=e.offsetTop===<span class="number">-5</span>,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=<span class="literal">null</span>,f.extend(b,i))&#125;);<span class="keyword">return</span> b&#125;();<span class="keyword">var</span> j=<span class="regexp">/^(?:\&#123;.*\&#125;|\[.*\])$/</span>,k=<span class="regexp">/([A-Z])/g</span>;f.extend(&#123;<span class="attr">cache</span>:&#123;&#125;,<span class="attr">uuid</span>:<span class="number">0</span>,<span class="attr">expando</span>:<span class="string">"jQuery"</span>+(f.fn.jquery+<span class="built_in">Math</span>.random()).replace(<span class="regexp">/\D/g</span>,<span class="string">""</span>),<span class="attr">noData</span>:&#123;<span class="attr">embed</span>:!<span class="number">0</span>,<span class="attr">object</span>:<span class="string">"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"</span>,<span class="attr">applet</span>:!<span class="number">0</span>&#125;,<span class="attr">hasData</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];<span class="keyword">return</span>!!a&amp;&amp;!m(a)&#125;,<span class="attr">data</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,e</span>)</span>&#123;<span class="keyword">if</span>(!!f.acceptData(a))&#123;<span class="keyword">var</span> g,h,i,j=f.expando,k=<span class="keyword">typeof</span> c==<span class="string">"string"</span>,l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&amp;&amp;j,o=c===<span class="string">"events"</span>;<span class="keyword">if</span>((!n||!m[n]||!o&amp;&amp;!e&amp;&amp;!m[n].data)&amp;&amp;k&amp;&amp;d===b)<span class="keyword">return</span>;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]=&#123;&#125;,l||(m[n].toJSON=f.noop));<span class="keyword">if</span>(<span class="keyword">typeof</span> c==<span class="string">"object"</span>||<span class="keyword">typeof</span> c==<span class="string">"function"</span>)e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data=&#123;&#125;),h=h.data),d!==b&amp;&amp;(h[f.camelCase(c)]=d);<span class="keyword">if</span>(o&amp;&amp;!h[c])<span class="keyword">return</span> g.events;k?(i=h[c],i==<span class="literal">null</span>&amp;&amp;(i=h[f.camelCase(c)])):i=h;<span class="keyword">return</span> i&#125;&#125;,<span class="attr">removeData</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">if</span>(!!f.acceptData(a))&#123;<span class="keyword">var</span> d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;<span class="keyword">if</span>(!j[k])<span class="keyword">return</span>;<span class="keyword">if</span>(b)&#123;d=c?j[k]:j[k].data;<span class="keyword">if</span>(d)&#123;f.isArray(b)||(b <span class="keyword">in</span> d?b=[b]:(b=f.camelCase(b),b <span class="keyword">in</span> d?b=[b]:b=b.split(<span class="string">" "</span>)));<span class="keyword">for</span>(e=<span class="number">0</span>,g=b.length;e&lt;g;e++)<span class="keyword">delete</span> d[b[e]];<span class="keyword">if</span>(!(c?m:f.isEmptyObject)(d))<span class="keyword">return</span>&#125;&#125;<span class="keyword">if</span>(!c)&#123;<span class="keyword">delete</span> j[k].data;<span class="keyword">if</span>(!m(j[k]))<span class="keyword">return</span>&#125;f.support.deleteExpando||!j.setInterval?<span class="keyword">delete</span> j[k]:j[k]=<span class="literal">null</span>,i&amp;&amp;(f.support.deleteExpando?<span class="keyword">delete</span> a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=<span class="literal">null</span>)&#125;&#125;,<span class="attr">_data</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> f.data(a,b,c,!<span class="number">0</span>)&#125;,<span class="attr">acceptData</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a.nodeName)&#123;<span class="keyword">var</span> b=f.noData[a.nodeName.toLowerCase()];<span class="keyword">if</span>(b)<span class="keyword">return</span> b!==!<span class="number">0</span>&amp;&amp;a.getAttribute(<span class="string">"classid"</span>)===b&#125;<span class="keyword">return</span>!<span class="number">0</span>&#125;&#125;),f.fn.extend(&#123;<span class="attr">data</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d,e,g,h=<span class="literal">null</span>;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"undefined"</span>)&#123;<span class="keyword">if</span>(<span class="keyword">this</span>.length)&#123;h=f.data(<span class="keyword">this</span>[<span class="number">0</span>]);<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>].nodeType===<span class="number">1</span>&amp;&amp;!f._data(<span class="keyword">this</span>[<span class="number">0</span>],<span class="string">"parsedAttrs"</span>))&#123;e=<span class="keyword">this</span>[<span class="number">0</span>].attributes;<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,j=e.length;i&lt;j;i++)g=e[i].name,g.indexOf(<span class="string">"data-"</span>)===<span class="number">0</span>&amp;&amp;(g=f.camelCase(g.substring(<span class="number">5</span>)),l(<span class="keyword">this</span>[<span class="number">0</span>],g,h[g]));f._data(<span class="keyword">this</span>[<span class="number">0</span>],<span class="string">"parsedAttrs"</span>,!<span class="number">0</span>)&#125;&#125;<span class="keyword">return</span> h&#125;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"object"</span>)<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.data(<span class="keyword">this</span>,a)&#125;);d=a.split(<span class="string">"."</span>),d[<span class="number">1</span>]=d[<span class="number">1</span>]?<span class="string">"."</span>+d[<span class="number">1</span>]:<span class="string">""</span>;<span class="keyword">if</span>(c===b)&#123;h=<span class="keyword">this</span>.triggerHandler(<span class="string">"getData"</span>+d[<span class="number">1</span>]+<span class="string">"!"</span>,[d[<span class="number">0</span>]]),h===b&amp;&amp;<span class="keyword">this</span>.length&amp;&amp;(h=f.data(<span class="keyword">this</span>[<span class="number">0</span>],a),h=l(<span class="keyword">this</span>[<span class="number">0</span>],a,h));<span class="keyword">return</span> h===b&amp;&amp;d[<span class="number">1</span>]?<span class="keyword">this</span>.data(d[<span class="number">0</span>]):h&#125;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b=f(<span class="keyword">this</span>),e=[d[<span class="number">0</span>],c];b.triggerHandler(<span class="string">"setData"</span>+d[<span class="number">1</span>]+<span class="string">"!"</span>,e),f.data(<span class="keyword">this</span>,a,c),b.triggerHandler(<span class="string">"changeData"</span>+d[<span class="number">1</span>]+<span class="string">"!"</span>,e)&#125;)&#125;,<span class="attr">removeData</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.removeData(<span class="keyword">this</span>,a)&#125;)&#125;&#125;),f.extend(&#123;<span class="attr">_mark</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;a&amp;&amp;(b=(b||<span class="string">"fx"</span>)+<span class="string">"mark"</span>,f._data(a,b,(f._data(a,b)||<span class="number">0</span>)+<span class="number">1</span>))&#125;,<span class="attr">_unmark</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;a!==!<span class="number">0</span>&amp;&amp;(c=b,b=a,a=!<span class="number">1</span>);<span class="keyword">if</span>(b)&#123;c=c||<span class="string">"fx"</span>;<span class="keyword">var</span> d=c+<span class="string">"mark"</span>,e=a?<span class="number">0</span>:(f._data(b,d)||<span class="number">1</span>)<span class="number">-1</span>;e?f._data(b,d,e):(f.removeData(b,d,!<span class="number">0</span>),n(b,c,<span class="string">"mark"</span>))&#125;&#125;,<span class="attr">queue</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d;<span class="keyword">if</span>(a)&#123;b=(b||<span class="string">"fx"</span>)+<span class="string">"queue"</span>,d=f._data(a,b),c&amp;&amp;(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));<span class="keyword">return</span> d||[]&#125;&#125;,<span class="attr">dequeue</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;b=b||<span class="string">"fx"</span>;<span class="keyword">var</span> c=f.queue(a,b),d=c.shift(),e=&#123;&#125;;d===<span class="string">"inprogress"</span>&amp;&amp;(d=c.shift()),d&amp;&amp;(b===<span class="string">"fx"</span>&amp;&amp;c.unshift(<span class="string">"inprogress"</span>),f._data(a,b+<span class="string">".run"</span>,e),d.call(a,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.dequeue(a,b)&#125;,e)),c.length||(f.removeData(a,b+<span class="string">"queue "</span>+b+<span class="string">".run"</span>,!<span class="number">0</span>),n(a,b,<span class="string">"queue"</span>))&#125;&#125;),f.fn.extend(&#123;<span class="attr">queue</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">typeof</span> a!=<span class="string">"string"</span>&amp;&amp;(c=a,a=<span class="string">"fx"</span>);<span class="keyword">if</span>(c===b)<span class="keyword">return</span> f.queue(<span class="keyword">this</span>[<span class="number">0</span>],a);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b=f.queue(<span class="keyword">this</span>,a,c);a===<span class="string">"fx"</span>&amp;&amp;b[<span class="number">0</span>]!==<span class="string">"inprogress"</span>&amp;&amp;f.dequeue(<span class="keyword">this</span>,a)&#125;)&#125;,<span class="attr">dequeue</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.dequeue(<span class="keyword">this</span>,a)&#125;)&#125;,<span class="attr">delay</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;a=f.fx?f.fx.speeds[a]||a:a,b=b||<span class="string">"fx"</span>;<span class="keyword">return</span> <span class="keyword">this</span>.queue(b,<span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;<span class="keyword">var</span> d=setTimeout(b,a);c.stop=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;clearTimeout(d)&#125;&#125;)&#125;,<span class="attr">clearQueue</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.queue(a||<span class="string">"fx"</span>,[])&#125;,<span class="attr">promise</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">m</span>(<span class="params"></span>)</span>&#123;--h||d.resolveWith(e,[e])&#125;<span class="keyword">typeof</span> a!=<span class="string">"string"</span>&amp;&amp;(c=a,a=b),a=a||<span class="string">"fx"</span>;<span class="keyword">var</span> d=f.Deferred(),e=<span class="keyword">this</span>,g=e.length,h=<span class="number">1</span>,i=a+<span class="string">"defer"</span>,j=a+<span class="string">"queue"</span>,k=a+<span class="string">"mark"</span>,l;<span class="keyword">while</span>(g--)<span class="keyword">if</span>(l=f.data(e[g],i,b,!<span class="number">0</span>)||(f.data(e[g],j,b,!<span class="number">0</span>)||f.data(e[g],k,b,!<span class="number">0</span>))&amp;&amp;f.data(e[g],i,f.Callbacks(<span class="string">"once memory"</span>),!<span class="number">0</span>))h++,l.add(m);m();<span class="keyword">return</span> d.promise()&#125;&#125;);<span class="keyword">var</span> o=<span class="regexp">/[\n\t\r]/g</span>,p=<span class="regexp">/\s+/</span>,q=<span class="regexp">/\r/g</span>,r=<span class="regexp">/^(?:button|input)$/i</span>,s=<span class="regexp">/^(?:button|input|object|select|textarea)$/i</span>,t=<span class="regexp">/^a(?:rea)?$/i</span>,u=<span class="regexp">/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i</span>,v=f.support.getSetAttribute,w,x,y;f.fn.extend(&#123;<span class="attr">attr</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> f.access(<span class="keyword">this</span>,a,b,!<span class="number">0</span>,f.attr)&#125;,<span class="attr">removeAttr</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.removeAttr(<span class="keyword">this</span>,a)&#125;)&#125;,<span class="attr">prop</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> f.access(<span class="keyword">this</span>,a,b,!<span class="number">0</span>,f.prop)&#125;,<span class="attr">removeProp</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a=f.propFix[a]||a;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">try</span>&#123;<span class="keyword">this</span>[a]=b,<span class="keyword">delete</span> <span class="keyword">this</span>[a]&#125;<span class="keyword">catch</span>(c)&#123;&#125;&#125;)&#125;,<span class="attr">addClass</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b,c,d,e,g,h,i;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;f(<span class="keyword">this</span>).addClass(a.call(<span class="keyword">this</span>,b,<span class="keyword">this</span>.className))&#125;);<span class="keyword">if</span>(a&amp;&amp;<span class="keyword">typeof</span> a==<span class="string">"string"</span>)&#123;b=a.split(p);<span class="keyword">for</span>(c=<span class="number">0</span>,d=<span class="keyword">this</span>.length;c&lt;d;c++)&#123;e=<span class="keyword">this</span>[c];<span class="keyword">if</span>(e.nodeType===<span class="number">1</span>)<span class="keyword">if</span>(!e.className&amp;&amp;b.length===<span class="number">1</span>)e.className=a;<span class="keyword">else</span>&#123;g=<span class="string">" "</span>+e.className+<span class="string">" "</span>;<span class="keyword">for</span>(h=<span class="number">0</span>,i=b.length;h&lt;i;h++)~g.indexOf(<span class="string">" "</span>+b[h]+<span class="string">" "</span>)||(g+=b[h]+<span class="string">" "</span>);e.className=f.trim(g)&#125;&#125;&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">removeClass</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> c,d,e,g,h,i,j;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;f(<span class="keyword">this</span>).removeClass(a.call(<span class="keyword">this</span>,b,<span class="keyword">this</span>.className))&#125;);<span class="keyword">if</span>(a&amp;&amp;<span class="keyword">typeof</span> a==<span class="string">"string"</span>||a===b)&#123;c=(a||<span class="string">""</span>).split(p);<span class="keyword">for</span>(d=<span class="number">0</span>,e=<span class="keyword">this</span>.length;d&lt;e;d++)&#123;g=<span class="keyword">this</span>[d];<span class="keyword">if</span>(g.nodeType===<span class="number">1</span>&amp;&amp;g.className)<span class="keyword">if</span>(a)&#123;h=(<span class="string">" "</span>+g.className+<span class="string">" "</span>).replace(o,<span class="string">" "</span>);<span class="keyword">for</span>(i=<span class="number">0</span>,j=c.length;i&lt;j;i++)h=h.replace(<span class="string">" "</span>+c[i]+<span class="string">" "</span>,<span class="string">" "</span>);g.className=f.trim(h)&#125;<span class="keyword">else</span> g.className=<span class="string">""</span>&#125;&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">toggleClass</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">typeof</span> a,d=<span class="keyword">typeof</span> b==<span class="string">"boolean"</span>;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;f(<span class="keyword">this</span>).toggleClass(a.call(<span class="keyword">this</span>,c,<span class="keyword">this</span>.className,b),b)&#125;);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(c===<span class="string">"string"</span>)&#123;<span class="keyword">var</span> e,g=<span class="number">0</span>,h=f(<span class="keyword">this</span>),i=b,j=a.split(p);<span class="keyword">while</span>(e=j[g++])i=d?i:!h.hasClass(e),h[i?<span class="string">"addClass"</span>:<span class="string">"removeClass"</span>](e)&#125;<span class="keyword">else</span> <span class="keyword">if</span>(c===<span class="string">"undefined"</span>||c===<span class="string">"boolean"</span>)<span class="keyword">this</span>.className&amp;&amp;f._data(<span class="keyword">this</span>,<span class="string">"__className__"</span>,<span class="keyword">this</span>.className),<span class="keyword">this</span>.className=<span class="keyword">this</span>.className||a===!<span class="number">1</span>?<span class="string">""</span>:f._data(<span class="keyword">this</span>,<span class="string">"__className__"</span>)||<span class="string">""</span>&#125;)&#125;,<span class="attr">hasClass</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=<span class="string">" "</span>+a+<span class="string">" "</span>,c=<span class="number">0</span>,d=<span class="keyword">this</span>.length;<span class="keyword">for</span>(;c&lt;d;c++)<span class="keyword">if</span>(<span class="keyword">this</span>[c].nodeType===<span class="number">1</span>&amp;&amp;(<span class="string">" "</span>+<span class="keyword">this</span>[c].className+<span class="string">" "</span>).replace(o,<span class="string">" "</span>).indexOf(b)&gt;<span class="number">-1</span>)<span class="keyword">return</span>!<span class="number">0</span>;<span class="keyword">return</span>!<span class="number">1</span>&#125;,<span class="attr">val</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> c,d,e,g=<span class="keyword">this</span>[<span class="number">0</span>];&#123;<span class="keyword">if</span>(!!<span class="built_in">arguments</span>.length)&#123;e=f.isFunction(a);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;<span class="keyword">var</span> g=f(<span class="keyword">this</span>),h;<span class="keyword">if</span>(<span class="keyword">this</span>.nodeType===<span class="number">1</span>)&#123;e?h=a.call(<span class="keyword">this</span>,d,g.val()):h=a,h==<span class="literal">null</span>?h=<span class="string">""</span>:<span class="keyword">typeof</span> h==<span class="string">"number"</span>?h+=<span class="string">""</span>:f.isArray(h)&amp;&amp;(h=f.map(h,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a==<span class="literal">null</span>?<span class="string">""</span>:a+<span class="string">""</span>&#125;)),c=f.valHooks[<span class="keyword">this</span>.nodeName.toLowerCase()]||f.valHooks[<span class="keyword">this</span>.type];<span class="keyword">if</span>(!c||!(<span class="string">"set"</span><span class="keyword">in</span> c)||c.set(<span class="keyword">this</span>,h,<span class="string">"value"</span>)===b)<span class="keyword">this</span>.value=h&#125;&#125;)&#125;<span class="keyword">if</span>(g)&#123;c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];<span class="keyword">if</span>(c&amp;&amp;<span class="string">"get"</span><span class="keyword">in</span> c&amp;&amp;(d=c.get(g,<span class="string">"value"</span>))!==b)<span class="keyword">return</span> d;d=g.value;<span class="keyword">return</span> <span class="keyword">typeof</span> d==<span class="string">"string"</span>?d.replace(q,<span class="string">""</span>):d==<span class="literal">null</span>?<span class="string">""</span>:d&#125;&#125;&#125;&#125;),f.extend(&#123;<span class="attr">valHooks</span>:&#123;<span class="attr">option</span>:&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.attributes.value;<span class="keyword">return</span>!b||b.specified?a.value:a.text&#125;&#125;,<span class="attr">select</span>:&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type===<span class="string">"select-one"</span>;<span class="keyword">if</span>(g&lt;<span class="number">0</span>)<span class="keyword">return</span> <span class="literal">null</span>;c=j?g:<span class="number">0</span>,d=j?g+<span class="number">1</span>:i.length;<span class="keyword">for</span>(;c&lt;d;c++)&#123;e=i[c];<span class="keyword">if</span>(e.selected&amp;&amp;(f.support.optDisabled?!e.disabled:e.getAttribute(<span class="string">"disabled"</span>)===<span class="literal">null</span>)&amp;&amp;(!e.parentNode.disabled||!f.nodeName(e.parentNode,<span class="string">"optgroup"</span>)))&#123;b=f(e).val();<span class="keyword">if</span>(j)<span class="keyword">return</span> b;h.push(b)&#125;&#125;<span class="keyword">if</span>(j&amp;&amp;!h.length&amp;&amp;i.length)<span class="keyword">return</span> f(i[g]).val();<span class="keyword">return</span> h&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=f.makeArray(b);f(a).find(<span class="string">"option"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.selected=f.inArray(f(<span class="keyword">this</span>).val(),c)&gt;=<span class="number">0</span>&#125;),c.length||(a.selectedIndex=<span class="number">-1</span>);<span class="keyword">return</span> c&#125;&#125;&#125;,<span class="attr">attrFn</span>:&#123;<span class="attr">val</span>:!<span class="number">0</span>,<span class="attr">css</span>:!<span class="number">0</span>,<span class="attr">html</span>:!<span class="number">0</span>,<span class="attr">text</span>:!<span class="number">0</span>,<span class="attr">data</span>:!<span class="number">0</span>,<span class="attr">width</span>:!<span class="number">0</span>,<span class="attr">height</span>:!<span class="number">0</span>,<span class="attr">offset</span>:!<span class="number">0</span>&#125;,<span class="attr">attr</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,e</span>)</span>&#123;<span class="keyword">var</span> g,h,i,j=a.nodeType;<span class="keyword">if</span>(!!a&amp;&amp;j!==<span class="number">3</span>&amp;&amp;j!==<span class="number">8</span>&amp;&amp;j!==<span class="number">2</span>)&#123;<span class="keyword">if</span>(e&amp;&amp;c <span class="keyword">in</span> f.attrFn)<span class="keyword">return</span> f(a)[c](d);<span class="keyword">if</span>(<span class="keyword">typeof</span> a.getAttribute==<span class="string">"undefined"</span>)<span class="keyword">return</span> f.prop(a,c,d);i=j!==<span class="number">1</span>||!f.isXMLDoc(a),i&amp;&amp;(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));<span class="keyword">if</span>(d!==b)&#123;<span class="keyword">if</span>(d===<span class="literal">null</span>)&#123;f.removeAttr(a,c);<span class="keyword">return</span>&#125;<span class="keyword">if</span>(h&amp;&amp;<span class="string">"set"</span><span class="keyword">in</span> h&amp;&amp;i&amp;&amp;(g=h.set(a,d,c))!==b)<span class="keyword">return</span> g;a.setAttribute(c,<span class="string">""</span>+d);<span class="keyword">return</span> d&#125;<span class="keyword">if</span>(h&amp;&amp;<span class="string">"get"</span><span class="keyword">in</span> h&amp;&amp;i&amp;&amp;(g=h.get(a,c))!==<span class="literal">null</span>)<span class="keyword">return</span> g;g=a.getAttribute(c);<span class="keyword">return</span> g===<span class="literal">null</span>?b:g&#125;&#125;,<span class="attr">removeAttr</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c,d,e,g,h=<span class="number">0</span>;<span class="keyword">if</span>(b&amp;&amp;a.nodeType===<span class="number">1</span>)&#123;d=b.toLowerCase().split(p),g=d.length;<span class="keyword">for</span>(;h&lt;g;h++)e=d[h],e&amp;&amp;(c=f.propFix[e]||e,f.attr(a,e,<span class="string">""</span>),a.removeAttribute(v?e:c),u.test(e)&amp;&amp;c <span class="keyword">in</span> a&amp;&amp;(a[c]=!<span class="number">1</span>))&#125;&#125;,<span class="attr">attrHooks</span>:&#123;<span class="attr">type</span>:&#123;<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(r.test(a.nodeName)&amp;&amp;a.parentNode)f.error(<span class="string">"type property can't be changed"</span>);<span class="keyword">else</span> <span class="keyword">if</span>(!f.support.radioValue&amp;&amp;b===<span class="string">"radio"</span>&amp;&amp;f.nodeName(a,<span class="string">"input"</span>))&#123;<span class="keyword">var</span> c=a.value;a.setAttribute(<span class="string">"type"</span>,b),c&amp;&amp;(a.value=c);<span class="keyword">return</span> b&#125;&#125;&#125;,<span class="attr">value</span>:&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(w&amp;&amp;f.nodeName(a,<span class="string">"button"</span>))<span class="keyword">return</span> w.get(a,b);<span class="keyword">return</span> b <span class="keyword">in</span> a?a.value:<span class="literal">null</span>&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">if</span>(w&amp;&amp;f.nodeName(a,<span class="string">"button"</span>))<span class="keyword">return</span> w.set(a,b,c);a.value=b&#125;&#125;&#125;,<span class="attr">propFix</span>:&#123;<span class="attr">tabindex</span>:<span class="string">"tabIndex"</span>,<span class="attr">readonly</span>:<span class="string">"readOnly"</span>,<span class="string">"for"</span>:<span class="string">"htmlFor"</span>,<span class="string">"class"</span>:<span class="string">"className"</span>,<span class="attr">maxlength</span>:<span class="string">"maxLength"</span>,<span class="attr">cellspacing</span>:<span class="string">"cellSpacing"</span>,<span class="attr">cellpadding</span>:<span class="string">"cellPadding"</span>,<span class="attr">rowspan</span>:<span class="string">"rowSpan"</span>,<span class="attr">colspan</span>:<span class="string">"colSpan"</span>,<span class="attr">usemap</span>:<span class="string">"useMap"</span>,<span class="attr">frameborder</span>:<span class="string">"frameBorder"</span>,<span class="attr">contenteditable</span>:<span class="string">"contentEditable"</span>&#125;,<span class="attr">prop</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> e,g,h,i=a.nodeType;<span class="keyword">if</span>(!!a&amp;&amp;i!==<span class="number">3</span>&amp;&amp;i!==<span class="number">8</span>&amp;&amp;i!==<span class="number">2</span>)&#123;h=i!==<span class="number">1</span>||!f.isXMLDoc(a),h&amp;&amp;(c=f.propFix[c]||c,g=f.propHooks[c]);<span class="keyword">return</span> d!==b?g&amp;&amp;<span class="string">"set"</span><span class="keyword">in</span> g&amp;&amp;(e=g.set(a,d,c))!==b?e:a[c]=d:g&amp;&amp;<span class="string">"get"</span><span class="keyword">in</span> g&amp;&amp;(e=g.get(a,c))!==<span class="literal">null</span>?e:a[c]&#125;&#125;,<span class="attr">propHooks</span>:&#123;<span class="attr">tabIndex</span>:&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> c=a.getAttributeNode(<span class="string">"tabindex"</span>);<span class="keyword">return</span> c&amp;&amp;c.specified?<span class="built_in">parseInt</span>(c.value,<span class="number">10</span>):s.test(a.nodeName)||t.test(a.nodeName)&amp;&amp;a.href?<span class="number">0</span>:b&#125;&#125;&#125;&#125;),f.attrHooks.tabindex=f.propHooks.tabIndex,x=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d,e=f.prop(a,c);<span class="keyword">return</span> e===!<span class="number">0</span>||<span class="keyword">typeof</span> e!=<span class="string">"boolean"</span>&amp;&amp;(d=a.getAttributeNode(c))&amp;&amp;d.nodeValue!==!<span class="number">1</span>?c.toLowerCase():b&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d;b===!<span class="number">1</span>?f.removeAttr(a,c):(d=f.propFix[c]||c,d <span class="keyword">in</span> a&amp;&amp;(a[d]=!<span class="number">0</span>),a.setAttribute(c,c.toLowerCase()));<span class="keyword">return</span> c&#125;&#125;,v||(y=&#123;<span class="attr">name</span>:!<span class="number">0</span>,<span class="attr">id</span>:!<span class="number">0</span>&#125;,w=f.valHooks.button=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d;d=a.getAttributeNode(c);<span class="keyword">return</span> d&amp;&amp;(y[c]?d.nodeValue!==<span class="string">""</span>:d.specified)?d.nodeValue:b&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,d</span>)</span>&#123;<span class="keyword">var</span> e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));<span class="keyword">return</span> e.nodeValue=b+<span class="string">""</span>&#125;&#125;,f.attrHooks.tabindex.set=w.set,f.each([<span class="string">"width"</span>,<span class="string">"height"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.attrHooks[b]=f.extend(f.attrHooks[b],&#123;<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">if</span>(c===<span class="string">""</span>)&#123;a.setAttribute(b,<span class="string">"auto"</span>);<span class="keyword">return</span> c&#125;&#125;&#125;)&#125;),f.attrHooks.contenteditable=&#123;<span class="attr">get</span>:w.get,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;b===<span class="string">""</span>&amp;&amp;(b=<span class="string">"false"</span>),w.set(a,b,c)&#125;&#125;),f.support.hrefNormalized||f.each([<span class="string">"href"</span>,<span class="string">"src"</span>,<span class="string">"width"</span>,<span class="string">"height"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;f.attrHooks[c]=f.extend(f.attrHooks[c],&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> d=a.getAttribute(c,<span class="number">2</span>);<span class="keyword">return</span> d===<span class="literal">null</span>?b:d&#125;&#125;)&#125;),f.support.style||(f.attrHooks.style=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.style.cssText.toLowerCase()||b&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a.style.cssText=<span class="string">""</span>+b&#125;&#125;),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.parentNode;b&amp;&amp;(b.selectedIndex,b.parentNode&amp;&amp;b.parentNode.selectedIndex);<span class="keyword">return</span> <span class="literal">null</span>&#125;&#125;)),f.support.enctype||(f.propFix.enctype=<span class="string">"encoding"</span>),f.support.checkOn||f.each([<span class="string">"radio"</span>,<span class="string">"checkbox"</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.valHooks[<span class="keyword">this</span>]=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.getAttribute(<span class="string">"value"</span>)===<span class="literal">null</span>?<span class="string">"on"</span>:a.value&#125;&#125;&#125;),f.each([<span class="string">"radio"</span>,<span class="string">"checkbox"</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.valHooks[<span class="keyword">this</span>]=f.extend(f.valHooks[<span class="keyword">this</span>],&#123;<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(f.isArray(b))<span class="keyword">return</span> a.checked=f.inArray(f(a).val(),b)&gt;=<span class="number">0</span>&#125;&#125;)&#125;);<span class="keyword">var</span> z=<span class="regexp">/^(?:textarea|input|select)$/i</span>,A=<span class="regexp">/^([^\.]*)?(?:\.(.+))?$/</span>,B=<span class="regexp">/\bhover(\.\S+)?\b/</span>,C=<span class="regexp">/^key/</span>,D=<span class="regexp">/^(?:mouse|contextmenu)|click/</span>,E=<span class="regexp">/^(?:focusinfocus|focusoutblur)$/</span>,F=<span class="regexp">/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/</span>,G=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=F.exec(a);b&amp;&amp;(b[<span class="number">1</span>]=(b[<span class="number">1</span>]||<span class="string">""</span>).toLowerCase(),b[<span class="number">3</span>]=b[<span class="number">3</span>]&amp;&amp;<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(?:^|\\s)"</span>+b[<span class="number">3</span>]+<span class="string">"(?:\\s|$)"</span>));<span class="keyword">return</span> b&#125;,H=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=a.attributes||&#123;&#125;;<span class="keyword">return</span>(!b[<span class="number">1</span>]||a.nodeName.toLowerCase()===b[<span class="number">1</span>])&amp;&amp;(!b[<span class="number">2</span>]||(c.id||&#123;&#125;).value===b[<span class="number">2</span>])&amp;&amp;(!b[<span class="number">3</span>]||b[<span class="number">3</span>].test((c[<span class="string">"class"</span>]||&#123;&#125;).value))&#125;,I=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.event.special.hover?a:a.replace(B,<span class="string">"mouseenter$1 mouseleave$1"</span>)&#125;;</span><br><span class="line">f.event=&#123;<span class="attr">add</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,e,g</span>)</span>&#123;<span class="keyword">var</span> h,i,j,k,l,m,n,o,p,q,r,s;<span class="keyword">if</span>(!(a.nodeType===<span class="number">3</span>||a.nodeType===<span class="number">8</span>||!c||!d||!(h=f._data(a))))&#123;d.handler&amp;&amp;(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j=&#123;&#125;),i=h.handle,i||(h.handle=i=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">typeof</span> f!=<span class="string">"undefined"</span>&amp;&amp;(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,<span class="built_in">arguments</span>):b&#125;,i.elem=a),c=f.trim(I(c)).split(<span class="string">" "</span>);<span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;c.length;k++)&#123;l=A.exec(c[k])||[],m=l[<span class="number">1</span>],n=(l[<span class="number">2</span>]||<span class="string">""</span>).split(<span class="string">"."</span>).sort(),s=f.event.special[m]||&#123;&#125;,m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||&#123;&#125;,o=f.extend(&#123;<span class="attr">type</span>:m,<span class="attr">origType</span>:l[<span class="number">1</span>],<span class="attr">data</span>:e,<span class="attr">handler</span>:d,<span class="attr">guid</span>:d.guid,<span class="attr">selector</span>:g,<span class="attr">quick</span>:G(g),<span class="attr">namespace</span>:n.join(<span class="string">"."</span>)&#125;,p),r=j[m];<span class="keyword">if</span>(!r)&#123;r=j[m]=[],r.delegateCount=<span class="number">0</span>;<span class="keyword">if</span>(!s.setup||s.setup.call(a,e,n,i)===!<span class="number">1</span>)a.addEventListener?a.addEventListener(m,i,!<span class="number">1</span>):a.attachEvent&amp;&amp;a.attachEvent(<span class="string">"on"</span>+m,i)&#125;s.add&amp;&amp;(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,<span class="number">0</span>,o):r.push(o),f.event.global[m]=!<span class="number">0</span>&#125;a=<span class="literal">null</span>&#125;&#125;,<span class="attr">global</span>:&#123;&#125;,<span class="attr">remove</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d,e</span>)</span>&#123;<span class="keyword">var</span> g=f.hasData(a)&amp;&amp;f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;<span class="keyword">if</span>(!!g&amp;&amp;!!(o=g.events))&#123;b=f.trim(I(b||<span class="string">""</span>)).split(<span class="string">" "</span>);<span class="keyword">for</span>(h=<span class="number">0</span>;h&lt;b.length;h++)&#123;i=A.exec(b[h])||[],j=k=i[<span class="number">1</span>],l=i[<span class="number">2</span>];<span class="keyword">if</span>(!j)&#123;<span class="keyword">for</span>(j <span class="keyword">in</span> o)f.event.remove(a,j+b[h],c,d,!<span class="number">0</span>);<span class="keyword">continue</span>&#125;p=f.event.special[j]||&#123;&#125;,j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|\\.)"</span>+l.split(<span class="string">"."</span>).sort().join(<span class="string">"\\.(?:.*\\.)?"</span>)+<span class="string">"(\\.|$)"</span>):<span class="literal">null</span>;<span class="keyword">for</span>(n=<span class="number">0</span>;n&lt;r.length;n++)s=r[n],(e||k===s.origType)&amp;&amp;(!c||c.guid===s.guid)&amp;&amp;(!l||l.test(s.namespace))&amp;&amp;(!d||d===s.selector||d===<span class="string">"**"</span>&amp;&amp;s.selector)&amp;&amp;(r.splice(n--,<span class="number">1</span>),s.selector&amp;&amp;r.delegateCount--,p.remove&amp;&amp;p.remove.call(a,s));r.length===<span class="number">0</span>&amp;&amp;m!==r.length&amp;&amp;((!p.teardown||p.teardown.call(a,l)===!<span class="number">1</span>)&amp;&amp;f.removeEvent(a,j,g.handle),<span class="keyword">delete</span> o[j])&#125;f.isEmptyObject(o)&amp;&amp;(q=g.handle,q&amp;&amp;(q.elem=<span class="literal">null</span>),f.removeData(a,[<span class="string">"events"</span>,<span class="string">"handle"</span>],!<span class="number">0</span>))&#125;&#125;,<span class="attr">customEvent</span>:&#123;<span class="attr">getData</span>:!<span class="number">0</span>,<span class="attr">setData</span>:!<span class="number">0</span>,<span class="attr">changeData</span>:!<span class="number">0</span>&#125;,<span class="attr">trigger</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c,d,e,g</span>)</span>&#123;<span class="keyword">if</span>(!e||e.nodeType!==<span class="number">3</span>&amp;&amp;e.nodeType!==<span class="number">8</span>)&#123;<span class="keyword">var</span> h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;<span class="keyword">if</span>(E.test(h+f.event.triggered))<span class="keyword">return</span>;h.indexOf(<span class="string">"!"</span>)&gt;=<span class="number">0</span>&amp;&amp;(h=h.slice(<span class="number">0</span>,<span class="number">-1</span>),k=!<span class="number">0</span>),h.indexOf(<span class="string">"."</span>)&gt;=<span class="number">0</span>&amp;&amp;(i=h.split(<span class="string">"."</span>),h=i.shift(),i.sort());<span class="keyword">if</span>((!e||f.event.customEvent[h])&amp;&amp;!f.event.global[h])<span class="keyword">return</span>;c=<span class="keyword">typeof</span> c==<span class="string">"object"</span>?c[f.expando]?c:<span class="keyword">new</span> f.Event(h,c):<span class="keyword">new</span> f.Event(h),c.type=h,c.isTrigger=!<span class="number">0</span>,c.exclusive=k,c.namespace=i.join(<span class="string">"."</span>),c.namespace_re=c.namespace?<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|\\.)"</span>+i.join(<span class="string">"\\.(?:.*\\.)?"</span>)+<span class="string">"(\\.|$)"</span>):<span class="literal">null</span>,o=h.indexOf(<span class="string">":"</span>)&lt;<span class="number">0</span>?<span class="string">"on"</span>+h:<span class="string">""</span>;<span class="keyword">if</span>(!e)&#123;j=f.cache;<span class="keyword">for</span>(l <span class="keyword">in</span> j)j[l].events&amp;&amp;j[l].events[h]&amp;&amp;f.event.trigger(c,d,j[l].handle.elem,!<span class="number">0</span>);<span class="keyword">return</span>&#125;c.result=b,c.target||(c.target=e),d=d!=<span class="literal">null</span>?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||&#123;&#125;;<span class="keyword">if</span>(p.trigger&amp;&amp;p.trigger.apply(e,d)===!<span class="number">1</span>)<span class="keyword">return</span>;r=[[e,p.bindType||h]];<span class="keyword">if</span>(!g&amp;&amp;!p.noBubble&amp;&amp;!f.isWindow(e))&#123;s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=<span class="literal">null</span>;<span class="keyword">for</span>(;m;m=m.parentNode)r.push([m,s]),n=m;n&amp;&amp;n===e.ownerDocument&amp;&amp;r.push([n.defaultView||n.parentWindow||a,s])&#125;<span class="keyword">for</span>(l=<span class="number">0</span>;l&lt;r.length&amp;&amp;!c.isPropagationStopped();l++)m=r[l][<span class="number">0</span>],c.type=r[l][<span class="number">1</span>],q=(f._data(m,<span class="string">"events"</span>)||&#123;&#125;)[c.type]&amp;&amp;f._data(m,<span class="string">"handle"</span>),q&amp;&amp;q.apply(m,d),q=o&amp;&amp;m[o],q&amp;&amp;f.acceptData(m)&amp;&amp;q.apply(m,d)===!<span class="number">1</span>&amp;&amp;c.preventDefault();c.type=h,!g&amp;&amp;!c.isDefaultPrevented()&amp;&amp;(!p._default||p._default.apply(e.ownerDocument,d)===!<span class="number">1</span>)&amp;&amp;(h!==<span class="string">"click"</span>||!f.nodeName(e,<span class="string">"a"</span>))&amp;&amp;f.acceptData(e)&amp;&amp;o&amp;&amp;e[h]&amp;&amp;(h!==<span class="string">"focus"</span>&amp;&amp;h!==<span class="string">"blur"</span>||c.target.offsetWidth!==<span class="number">0</span>)&amp;&amp;!f.isWindow(e)&amp;&amp;(n=e[o],n&amp;&amp;(e[o]=<span class="literal">null</span>),f.event.triggered=h,e[h](),f.event.triggered=b,n&amp;&amp;(e[o]=n));<span class="keyword">return</span> c.result&#125;&#125;,<span class="attr">dispatch</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;c=f.event.fix(c||a.event);<span class="keyword">var</span> d=(f._data(<span class="keyword">this</span>,<span class="string">"events"</span>)||&#123;&#125;)[c.type]||[],e=d.delegateCount,g=[].slice.call(<span class="built_in">arguments</span>,<span class="number">0</span>),h=!c.exclusive&amp;&amp;!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[<span class="number">0</span>]=c,c.delegateTarget=<span class="keyword">this</span>;<span class="keyword">if</span>(e&amp;&amp;!c.target.disabled&amp;&amp;(!c.button||c.type!==<span class="string">"click"</span>))&#123;m=f(<span class="keyword">this</span>),m.context=<span class="keyword">this</span>.ownerDocument||<span class="keyword">this</span>;<span class="keyword">for</span>(l=c.target;l!=<span class="keyword">this</span>;l=l.parentNode||<span class="keyword">this</span>)&#123;o=&#123;&#125;,q=[],m[<span class="number">0</span>]=l;<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;e;j++)r=d[j],s=r.selector,o[s]===b&amp;&amp;(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&amp;&amp;q.push(r);q.length&amp;&amp;i.push(&#123;<span class="attr">elem</span>:l,<span class="attr">matches</span>:q&#125;)&#125;&#125;d.length&gt;e&amp;&amp;i.push(&#123;<span class="attr">elem</span>:<span class="keyword">this</span>,<span class="attr">matches</span>:d.slice(e)&#125;);<span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;i.length&amp;&amp;!c.isPropagationStopped();j++)&#123;p=i[j],c.currentTarget=p.elem;<span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;p.matches.length&amp;&amp;!c.isImmediatePropagationStopped();k++)&#123;r=p.matches[k];<span class="keyword">if</span>(h||!c.namespace&amp;&amp;!r.namespace||c.namespace_re&amp;&amp;c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||&#123;&#125;).handle||r.handler).apply(p.elem,g),n!==b&amp;&amp;(c.result=n,n===!<span class="number">1</span>&amp;&amp;(c.preventDefault(),c.stopPropagation()))&#125;&#125;<span class="keyword">return</span> c.result&#125;,<span class="attr">props</span>:<span class="string">"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which"</span>.split(<span class="string">" "</span>),<span class="attr">fixHooks</span>:&#123;&#125;,<span class="attr">keyHooks</span>:&#123;<span class="attr">props</span>:<span class="string">"char charCode key keyCode"</span>.split(<span class="string">" "</span>),<span class="attr">filter</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;a.which==<span class="literal">null</span>&amp;&amp;(a.which=b.charCode!=<span class="literal">null</span>?b.charCode:b.keyCode);<span class="keyword">return</span> a&#125;&#125;,<span class="attr">mouseHooks</span>:&#123;<span class="attr">props</span>:<span class="string">"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement"</span>.split(<span class="string">" "</span>),<span class="attr">filter</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,d</span>)</span>&#123;<span class="keyword">var</span> e,f,g,h=d.button,i=d.fromElement;a.pageX==<span class="literal">null</span>&amp;&amp;d.clientX!=<span class="literal">null</span>&amp;&amp;(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&amp;&amp;f.scrollLeft||g&amp;&amp;g.scrollLeft||<span class="number">0</span>)-(f&amp;&amp;f.clientLeft||g&amp;&amp;g.clientLeft||<span class="number">0</span>),a.pageY=d.clientY+(f&amp;&amp;f.scrollTop||g&amp;&amp;g.scrollTop||<span class="number">0</span>)-(f&amp;&amp;f.clientTop||g&amp;&amp;g.clientTop||<span class="number">0</span>)),!a.relatedTarget&amp;&amp;i&amp;&amp;(a.relatedTarget=i===a.target?d.toElement:i),!a.which&amp;&amp;h!==b&amp;&amp;(a.which=h&amp;<span class="number">1</span>?<span class="number">1</span>:h&amp;<span class="number">2</span>?<span class="number">3</span>:h&amp;<span class="number">4</span>?<span class="number">2</span>:<span class="number">0</span>);<span class="keyword">return</span> a&#125;&#125;,<span class="attr">fix</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a[f.expando])<span class="keyword">return</span> a;<span class="keyword">var</span> d,e,g=a,h=f.event.fixHooks[a.type]||&#123;&#125;,i=h.props?<span class="keyword">this</span>.props.concat(h.props):<span class="keyword">this</span>.props;a=f.Event(g);<span class="keyword">for</span>(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===<span class="number">3</span>&amp;&amp;(a.target=a.target.parentNode),a.metaKey===b&amp;&amp;(a.metaKey=a.ctrlKey);<span class="keyword">return</span> h.filter?h.filter(a,g):a&#125;,<span class="attr">special</span>:&#123;<span class="attr">ready</span>:&#123;<span class="attr">setup</span>:f.bindReady&#125;,<span class="attr">load</span>:&#123;<span class="attr">noBubble</span>:!<span class="number">0</span>&#125;,<span class="attr">focus</span>:&#123;<span class="attr">delegateType</span>:<span class="string">"focusin"</span>&#125;,<span class="attr">blur</span>:&#123;<span class="attr">delegateType</span>:<span class="string">"focusout"</span>&#125;,<span class="attr">beforeunload</span>:&#123;<span class="attr">setup</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;f.isWindow(<span class="keyword">this</span>)&amp;&amp;(<span class="keyword">this</span>.onbeforeunload=c)&#125;,<span class="attr">teardown</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">this</span>.onbeforeunload===b&amp;&amp;(<span class="keyword">this</span>.onbeforeunload=<span class="literal">null</span>)&#125;&#125;&#125;,<span class="attr">simulate</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">var</span> e=f.extend(<span class="keyword">new</span> f.Event,c,&#123;<span class="attr">type</span>:a,<span class="attr">isSimulated</span>:!<span class="number">0</span>,<span class="attr">originalEvent</span>:&#123;&#125;&#125;);d?f.event.trigger(e,<span class="literal">null</span>,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&amp;&amp;c.preventDefault()&#125;&#125;,f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;a.removeEventListener&amp;&amp;a.removeEventListener(b,c,!<span class="number">1</span>)&#125;:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;a.detachEvent&amp;&amp;a.detachEvent(<span class="string">"on"</span>+b,c)&#125;,f.Event=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(!(<span class="keyword">this</span> <span class="keyword">instanceof</span> f.Event))<span class="keyword">return</span> <span class="keyword">new</span> f.Event(a,b);a&amp;&amp;a.type?(<span class="keyword">this</span>.originalEvent=a,<span class="keyword">this</span>.type=a.type,<span class="keyword">this</span>.isDefaultPrevented=a.defaultPrevented||a.returnValue===!<span class="number">1</span>||a.getPreventDefault&amp;&amp;a.getPreventDefault()?K:J):<span class="keyword">this</span>.type=a,b&amp;&amp;f.extend(<span class="keyword">this</span>,b),<span class="keyword">this</span>.timeStamp=a&amp;&amp;a.timeStamp||f.now(),<span class="keyword">this</span>[f.expando]=!<span class="number">0</span>&#125;,f.Event.prototype=&#123;<span class="attr">preventDefault</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.isDefaultPrevented=K;<span class="keyword">var</span> a=<span class="keyword">this</span>.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!<span class="number">1</span>)&#125;,<span class="attr">stopPropagation</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.isPropagationStopped=K;<span class="keyword">var</span> a=<span class="keyword">this</span>.originalEvent;!a||(a.stopPropagation&amp;&amp;a.stopPropagation(),a.cancelBubble=!<span class="number">0</span>)&#125;,<span class="attr">stopImmediatePropagation</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.isImmediatePropagationStopped=K,<span class="keyword">this</span>.stopPropagation()&#125;,<span class="attr">isDefaultPrevented</span>:J,<span class="attr">isPropagationStopped</span>:J,<span class="attr">isImmediatePropagationStopped</span>:J&#125;,f.each(&#123;<span class="attr">mouseenter</span>:<span class="string">"mouseover"</span>,<span class="attr">mouseleave</span>:<span class="string">"mouseout"</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.event.special[a]=&#123;<span class="attr">delegateType</span>:b,<span class="attr">bindType</span>:b,<span class="attr">handle</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">this</span>,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;<span class="keyword">if</span>(!d||d!==c&amp;&amp;!f.contains(c,d))a.type=e.origType,h=e.handler.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>),a.type=b;<span class="keyword">return</span> h&#125;&#125;&#125;),f.support.submitBubbles||(f.event.special.submit=&#123;<span class="attr">setup</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(f.nodeName(<span class="keyword">this</span>,<span class="string">"form"</span>))<span class="keyword">return</span>!<span class="number">1</span>;f.event.add(<span class="keyword">this</span>,<span class="string">"click._submit keypress._submit"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> c=a.target,d=f.nodeName(c,<span class="string">"input"</span>)||f.nodeName(c,<span class="string">"button"</span>)?c.form:b;d&amp;&amp;!d._submit_attached&amp;&amp;(f.event.add(d,<span class="string">"submit._submit"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.parentNode&amp;&amp;!a.isTrigger&amp;&amp;f.event.simulate(<span class="string">"submit"</span>,<span class="keyword">this</span>.parentNode,a,!<span class="number">0</span>)&#125;),d._submit_attached=!<span class="number">0</span>)&#125;)&#125;,<span class="attr">teardown</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(f.nodeName(<span class="keyword">this</span>,<span class="string">"form"</span>))<span class="keyword">return</span>!<span class="number">1</span>;f.event.remove(<span class="keyword">this</span>,<span class="string">"._submit"</span>)&#125;&#125;),f.support.changeBubbles||(f.event.special.change=&#123;<span class="attr">setup</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(z.test(<span class="keyword">this</span>.nodeName))&#123;<span class="keyword">if</span>(<span class="keyword">this</span>.type===<span class="string">"checkbox"</span>||<span class="keyword">this</span>.type===<span class="string">"radio"</span>)f.event.add(<span class="keyword">this</span>,<span class="string">"propertychange._change"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a.originalEvent.propertyName===<span class="string">"checked"</span>&amp;&amp;(<span class="keyword">this</span>._just_changed=!<span class="number">0</span>)&#125;),f.event.add(<span class="keyword">this</span>,<span class="string">"click._change"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>._just_changed&amp;&amp;!a.isTrigger&amp;&amp;(<span class="keyword">this</span>._just_changed=!<span class="number">1</span>,f.event.simulate(<span class="string">"change"</span>,<span class="keyword">this</span>,a,!<span class="number">0</span>))&#125;);<span class="keyword">return</span>!<span class="number">1</span>&#125;f.event.add(<span class="keyword">this</span>,<span class="string">"beforeactivate._change"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.target;z.test(b.nodeName)&amp;&amp;!b._change_attached&amp;&amp;(f.event.add(b,<span class="string">"change._change"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.parentNode&amp;&amp;!a.isSimulated&amp;&amp;!a.isTrigger&amp;&amp;f.event.simulate(<span class="string">"change"</span>,<span class="keyword">this</span>.parentNode,a,!<span class="number">0</span>)&#125;),b._change_attached=!<span class="number">0</span>)&#125;)&#125;,<span class="attr">handle</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.target;<span class="keyword">if</span>(<span class="keyword">this</span>!==b||a.isSimulated||a.isTrigger||b.type!==<span class="string">"radio"</span>&amp;&amp;b.type!==<span class="string">"checkbox"</span>)<span class="keyword">return</span> a.handleObj.handler.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>)&#125;,<span class="attr">teardown</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.event.remove(<span class="keyword">this</span>,<span class="string">"._change"</span>);<span class="keyword">return</span> z.test(<span class="keyword">this</span>.nodeName)&#125;&#125;),f.support.focusinBubbles||f.each(&#123;<span class="attr">focus</span>:<span class="string">"focusin"</span>,<span class="attr">blur</span>:<span class="string">"focusout"</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> d=<span class="number">0</span>,e=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f.event.simulate(b,a.target,f.event.fix(a),!<span class="number">0</span>)&#125;;f.event.special[b]=&#123;<span class="attr">setup</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;d++===<span class="number">0</span>&amp;&amp;c.addEventListener(a,e,!<span class="number">0</span>)&#125;,<span class="attr">teardown</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;--d===<span class="number">0</span>&amp;&amp;c.removeEventListener(a,e,!<span class="number">0</span>)&#125;&#125;&#125;),f.fn.extend(&#123;<span class="attr">on</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,e,g</span>)</span>&#123;<span class="keyword">var</span> h,i;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"object"</span>)&#123;<span class="keyword">typeof</span> c!=<span class="string">"string"</span>&amp;&amp;(d=c,c=b);<span class="keyword">for</span>(i <span class="keyword">in</span> a)<span class="keyword">this</span>.on(i,c,d,a[i],g);<span class="keyword">return</span> <span class="keyword">this</span>&#125;d==<span class="literal">null</span>&amp;&amp;e==<span class="literal">null</span>?(e=c,d=c=b):e==<span class="literal">null</span>&amp;&amp;(<span class="keyword">typeof</span> c==<span class="string">"string"</span>?(e=d,d=b):(e=d,d=c,c=b));<span class="keyword">if</span>(e===!<span class="number">1</span>)e=J;<span class="keyword">else</span> <span class="keyword">if</span>(!e)<span class="keyword">return</span> <span class="keyword">this</span>;g===<span class="number">1</span>&amp;&amp;(h=e,e=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f().off(a);<span class="keyword">return</span> h.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>)&#125;,e.guid=h.guid||(h.guid=f.guid++));<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.event.add(<span class="keyword">this</span>,a,e,d,c)&#125;)&#125;,<span class="attr">one</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.on.call(<span class="keyword">this</span>,a,b,c,d,<span class="number">1</span>)&#125;,<span class="attr">off</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">if</span>(a&amp;&amp;a.preventDefault&amp;&amp;a.handleObj)&#123;<span class="keyword">var</span> e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+<span class="string">"."</span>+e.namespace:e.type,e.selector,e.handler);<span class="keyword">return</span> <span class="keyword">this</span>&#125;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"object"</span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> g <span class="keyword">in</span> a)<span class="keyword">this</span>.off(g,c,a[g]);<span class="keyword">return</span> <span class="keyword">this</span>&#125;<span class="keyword">if</span>(c===!<span class="number">1</span>||<span class="keyword">typeof</span> c==<span class="string">"function"</span>)d=c,c=b;d===!<span class="number">1</span>&amp;&amp;(d=J);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.event.remove(<span class="keyword">this</span>,a,d,c)&#125;)&#125;,<span class="attr">bind</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.on(a,<span class="literal">null</span>,b,c)&#125;,<span class="attr">unbind</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.off(a,<span class="literal">null</span>,b)&#125;,<span class="attr">live</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;f(<span class="keyword">this</span>.context).on(a,<span class="keyword">this</span>.selector,b,c);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">die</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f(<span class="keyword">this</span>.context).off(a,<span class="keyword">this</span>.selector||<span class="string">"**"</span>,b);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">delegate</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.on(b,a,c,d)&#125;,<span class="attr">undelegate</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">arguments</span>.length==<span class="number">1</span>?<span class="keyword">this</span>.off(a,<span class="string">"**"</span>):<span class="keyword">this</span>.off(b,a,c)&#125;,<span class="attr">trigger</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.event.trigger(a,b,<span class="keyword">this</span>)&#125;)&#125;,<span class="attr">triggerHandler</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>])<span class="keyword">return</span> f.event.trigger(a,b,<span class="keyword">this</span>[<span class="number">0</span>],!<span class="number">0</span>)&#125;,<span class="attr">toggle</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=<span class="built_in">arguments</span>,c=a.guid||f.guid++,d=<span class="number">0</span>,e=<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;<span class="keyword">var</span> e=(f._data(<span class="keyword">this</span>,<span class="string">"lastToggle"</span>+a.guid)||<span class="number">0</span>)%d;f._data(<span class="keyword">this</span>,<span class="string">"lastToggle"</span>+a.guid,e+<span class="number">1</span>),c.preventDefault();<span class="keyword">return</span> b[e].apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>)||!<span class="number">1</span>&#125;;e.guid=c;<span class="keyword">while</span>(d&lt;b.length)b[d++].guid=c;<span class="keyword">return</span> <span class="keyword">this</span>.click(e)&#125;,<span class="attr">hover</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.mouseenter(a).mouseleave(b||a)&#125;&#125;),f.each(<span class="string">"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"</span>.split(<span class="string">" "</span>),<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.fn[b]=<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;c==<span class="literal">null</span>&amp;&amp;(c=a,a=<span class="literal">null</span>);<span class="keyword">return</span> <span class="built_in">arguments</span>.length&gt;<span class="number">0</span>?<span class="keyword">this</span>.on(b,<span class="literal">null</span>,a,c):<span class="keyword">this</span>.trigger(b)&#125;,f.attrFn&amp;&amp;(f.attrFn[b]=!<span class="number">0</span>),C.test(b)&amp;&amp;(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&amp;&amp;(f.event.fixHooks[b]=f.event.mouseHooks)&#125;),<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params">a,b,c,e,f,g</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> h=<span class="number">0</span>,i=e.length;h&lt;i;h++)&#123;<span class="keyword">var</span> j=e[h];<span class="keyword">if</span>(j)&#123;<span class="keyword">var</span> k=!<span class="number">1</span>;j=j[a];<span class="keyword">while</span>(j)&#123;<span class="keyword">if</span>(j[d]===c)&#123;k=e[j.sizset];<span class="keyword">break</span>&#125;<span class="keyword">if</span>(j.nodeType===<span class="number">1</span>)&#123;g||(j[d]=c,j.sizset=h);<span class="keyword">if</span>(<span class="keyword">typeof</span> b!=<span class="string">"string"</span>)&#123;<span class="keyword">if</span>(j===b)&#123;k=!<span class="number">0</span>;<span class="keyword">break</span>&#125;&#125;<span class="keyword">else</span> <span class="keyword">if</span>(m.filter(b,[j]).length&gt;<span class="number">0</span>)&#123;k=j;<span class="keyword">break</span>&#125;&#125;j=j[a]&#125;e[h]=k&#125;&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">w</span>(<span class="params">a,b,c,e,f,g</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> h=<span class="number">0</span>,i=e.length;h&lt;i;h++)&#123;<span class="keyword">var</span> j=e[h];<span class="keyword">if</span>(j)&#123;<span class="keyword">var</span> k=!<span class="number">1</span>;j=j[a];<span class="keyword">while</span>(j)&#123;<span class="keyword">if</span>(j[d]===c)&#123;k=e[j.sizset];<span class="keyword">break</span>&#125;j.nodeType===<span class="number">1</span>&amp;&amp;!g&amp;&amp;(j[d]=c,j.sizset=h);<span class="keyword">if</span>(j.nodeName.toLowerCase()===b)&#123;k=j;<span class="keyword">break</span>&#125;j=j[a]&#125;e[h]=k&#125;&#125;&#125;<span class="keyword">var</span> a=<span class="regexp">/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ &gt;+~,(\[\\]+)+|[&gt;+~])(\s*,\s*)?((?:.|\r|\n)*)/g</span>,d=<span class="string">"sizcache"</span>+(<span class="built_in">Math</span>.random()+<span class="string">""</span>).replace(<span class="string">"."</span>,<span class="string">""</span>),e=<span class="number">0</span>,g=<span class="built_in">Object</span>.prototype.toString,h=!<span class="number">1</span>,i=!<span class="number">0</span>,j=<span class="regexp">/\\/g</span>,k=<span class="regexp">/\r\n/g</span>,l=<span class="regexp">/\W/</span>;[<span class="number">0</span>,<span class="number">0</span>].sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;i=!<span class="number">1</span>;<span class="keyword">return</span> <span class="number">0</span>&#125;);<span class="keyword">var</span> m=<span class="function"><span class="keyword">function</span>(<span class="params">b,d,e,f</span>)</span>&#123;e=e||[],d=d||c;<span class="keyword">var</span> h=d;<span class="keyword">if</span>(d.nodeType!==<span class="number">1</span>&amp;&amp;d.nodeType!==<span class="number">9</span>)<span class="keyword">return</span>[];<span class="keyword">if</span>(!b||<span class="keyword">typeof</span> b!=<span class="string">"string"</span>)<span class="keyword">return</span> e;<span class="keyword">var</span> i,j,k,l,n,q,r,t,u=!<span class="number">0</span>,v=m.isXML(d),w=[],x=b;<span class="keyword">do</span>&#123;a.exec(<span class="string">""</span>),i=a.exec(x);<span class="keyword">if</span>(i)&#123;x=i[<span class="number">3</span>],w.push(i[<span class="number">1</span>]);<span class="keyword">if</span>(i[<span class="number">2</span>])&#123;l=i[<span class="number">3</span>];<span class="keyword">break</span>&#125;&#125;&#125;<span class="keyword">while</span>(i);<span class="keyword">if</span>(w.length&gt;<span class="number">1</span>&amp;&amp;p.exec(b))<span class="keyword">if</span>(w.length===<span class="number">2</span>&amp;&amp;o.relative[w[<span class="number">0</span>]])j=y(w[<span class="number">0</span>]+w[<span class="number">1</span>],d,f);<span class="keyword">else</span>&#123;j=o.relative[w[<span class="number">0</span>]]?[d]:m(w.shift(),d);<span class="keyword">while</span>(w.length)b=w.shift(),o.relative[b]&amp;&amp;(b+=w.shift()),j=y(b,j,f)&#125;<span class="keyword">else</span>&#123;!f&amp;&amp;w.length&gt;<span class="number">1</span>&amp;&amp;d.nodeType===<span class="number">9</span>&amp;&amp;!v&amp;&amp;o.match.ID.test(w[<span class="number">0</span>])&amp;&amp;!o.match.ID.test(w[w.length<span class="number">-1</span>])&amp;&amp;(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[<span class="number">0</span>]:n.set[<span class="number">0</span>]);<span class="keyword">if</span>(d)&#123;n=f?&#123;<span class="attr">expr</span>:w.pop(),<span class="attr">set</span>:s(f)&#125;:m.find(w.pop(),w.length===<span class="number">1</span>&amp;&amp;(w[<span class="number">0</span>]===<span class="string">"~"</span>||w[<span class="number">0</span>]===<span class="string">"+"</span>)&amp;&amp;d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length&gt;<span class="number">0</span>?k=s(j):u=!<span class="number">1</span>;<span class="keyword">while</span>(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q=<span class="string">""</span>,r==<span class="literal">null</span>&amp;&amp;(r=d),o.relative[q](k,r,v)&#125;<span class="keyword">else</span> k=w=[]&#125;k||(k=j),k||m.error(q||b);<span class="keyword">if</span>(g.call(k)===<span class="string">"[object Array]"</span>)<span class="keyword">if</span>(!u)e.push.apply(e,k);<span class="keyword">else</span> <span class="keyword">if</span>(d&amp;&amp;d.nodeType===<span class="number">1</span>)<span class="keyword">for</span>(t=<span class="number">0</span>;k[t]!=<span class="literal">null</span>;t++)k[t]&amp;&amp;(k[t]===!<span class="number">0</span>||k[t].nodeType===<span class="number">1</span>&amp;&amp;m.contains(d,k[t]))&amp;&amp;e.push(j[t]);<span class="keyword">else</span> <span class="keyword">for</span>(t=<span class="number">0</span>;k[t]!=<span class="literal">null</span>;t++)k[t]&amp;&amp;k[t].nodeType===<span class="number">1</span>&amp;&amp;e.push(j[t]);<span class="keyword">else</span> s(k,e);l&amp;&amp;(m(l,h,e,f),m.uniqueSort(e));<span class="keyword">return</span> e&#125;;m.uniqueSort=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(u)&#123;h=i,a.sort(u);<span class="keyword">if</span>(h)<span class="keyword">for</span>(<span class="keyword">var</span> b=<span class="number">1</span>;b&lt;a.length;b++)a[b]===a[b<span class="number">-1</span>]&amp;&amp;a.splice(b--,<span class="number">1</span>)&#125;<span class="keyword">return</span> a&#125;,m.matches=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> m(a,<span class="literal">null</span>,<span class="literal">null</span>,b)&#125;,m.matchesSelector=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> m(b,<span class="literal">null</span>,<span class="literal">null</span>,[a]).length&gt;<span class="number">0</span>&#125;,m.find=<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d,e,f,g,h,i;<span class="keyword">if</span>(!a)<span class="keyword">return</span>[];<span class="keyword">for</span>(e=<span class="number">0</span>,f=o.order.length;e&lt;f;e++)&#123;h=o.order[e];<span class="keyword">if</span>(g=o.leftMatch[h].exec(a))&#123;i=g[<span class="number">1</span>],g.splice(<span class="number">1</span>,<span class="number">1</span>);<span class="keyword">if</span>(i.substr(i.length<span class="number">-1</span>)!==<span class="string">"\\"</span>)&#123;g[<span class="number">1</span>]=(g[<span class="number">1</span>]||<span class="string">""</span>).replace(j,<span class="string">""</span>),d=o.find[h](g,b,c);<span class="keyword">if</span>(d!=<span class="literal">null</span>)&#123;a=a.replace(o.match[h],<span class="string">""</span>);<span class="keyword">break</span>&#125;&#125;&#125;&#125;d||(d=<span class="keyword">typeof</span> b.getElementsByTagName!=<span class="string">"undefined"</span>?b.getElementsByTagName(<span class="string">"*"</span>):[]);<span class="keyword">return</span>&#123;<span class="attr">set</span>:d,<span class="attr">expr</span>:a&#125;&#125;,m.filter=<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,e</span>)</span>&#123;<span class="keyword">var</span> f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&amp;&amp;c[<span class="number">0</span>]&amp;&amp;m.isXML(c[<span class="number">0</span>]);<span class="keyword">while</span>(a&amp;&amp;c.length)&#123;<span class="keyword">for</span>(h <span class="keyword">in</span> o.filter)<span class="keyword">if</span>((f=o.leftMatch[h].exec(a))!=<span class="literal">null</span>&amp;&amp;f[<span class="number">2</span>])&#123;k=o.filter[h],l=f[<span class="number">1</span>],g=!<span class="number">1</span>,f.splice(<span class="number">1</span>,<span class="number">1</span>);<span class="keyword">if</span>(l.substr(l.length<span class="number">-1</span>)===<span class="string">"\\"</span>)<span class="keyword">continue</span>;s===r&amp;&amp;(r=[]);<span class="keyword">if</span>(o.preFilter[h])&#123;f=o.preFilter[h](f,s,d,r,e,t);<span class="keyword">if</span>(!f)g=i=!<span class="number">0</span>;<span class="keyword">else</span> <span class="keyword">if</span>(f===!<span class="number">0</span>)<span class="keyword">continue</span>&#125;<span class="keyword">if</span>(f)<span class="keyword">for</span>(n=<span class="number">0</span>;(j=s[n])!=<span class="literal">null</span>;n++)j&amp;&amp;(i=k(j,f,n,s),p=e^i,d&amp;&amp;i!=<span class="literal">null</span>?p?g=!<span class="number">0</span>:s[n]=!<span class="number">1</span>:p&amp;&amp;(r.push(j),g=!<span class="number">0</span>));<span class="keyword">if</span>(i!==b)&#123;d||(s=r),a=a.replace(o.match[h],<span class="string">""</span>);<span class="keyword">if</span>(!g)<span class="keyword">return</span>[];<span class="keyword">break</span>&#125;&#125;<span class="keyword">if</span>(a===q)<span class="keyword">if</span>(g==<span class="literal">null</span>)m.error(a);<span class="keyword">else</span> <span class="keyword">break</span>;q=a&#125;<span class="keyword">return</span> s&#125;,m.error=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Syntax error, unrecognized expression: "</span>+a)&#125;;<span class="keyword">var</span> n=m.getText=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b,c,d=a.nodeType,e=<span class="string">""</span>;<span class="keyword">if</span>(d)&#123;<span class="keyword">if</span>(d===<span class="number">1</span>||d===<span class="number">9</span>)&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> a.textContent==<span class="string">"string"</span>)<span class="keyword">return</span> a.textContent;<span class="keyword">if</span>(<span class="keyword">typeof</span> a.innerText==<span class="string">"string"</span>)<span class="keyword">return</span> a.innerText.replace(k,<span class="string">""</span>);<span class="keyword">for</span>(a=a.firstChild;a;a=a.nextSibling)e+=n(a)&#125;<span class="keyword">else</span> <span class="keyword">if</span>(d===<span class="number">3</span>||d===<span class="number">4</span>)<span class="keyword">return</span> a.nodeValue&#125;<span class="keyword">else</span> <span class="keyword">for</span>(b=<span class="number">0</span>;c=a[b];b++)c.nodeType!==<span class="number">8</span>&amp;&amp;(e+=n(c));<span class="keyword">return</span> e&#125;,o=m.selectors=&#123;<span class="attr">order</span>:[<span class="string">"ID"</span>,<span class="string">"NAME"</span>,<span class="string">"TAG"</span>],<span class="attr">match</span>:&#123;<span class="attr">ID</span>:<span class="regexp">/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/</span>,<span class="attr">CLASS</span>:<span class="regexp">/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/</span>,<span class="attr">NAME</span>:<span class="regexp">/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/</span>,<span class="attr">ATTR</span>:<span class="regexp">/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/</span>,<span class="attr">TAG</span>:<span class="regexp">/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/</span>,<span class="attr">CHILD</span>:<span class="regexp">/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/</span>,<span class="attr">POS</span>:<span class="regexp">/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/</span>,<span class="attr">PSEUDO</span>:<span class="regexp">/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/</span>&#125;,<span class="attr">leftMatch</span>:&#123;&#125;,<span class="attr">attrMap</span>:&#123;<span class="string">"class"</span>:<span class="string">"className"</span>,<span class="string">"for"</span>:<span class="string">"htmlFor"</span>&#125;,<span class="attr">attrHandle</span>:&#123;<span class="attr">href</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.getAttribute(<span class="string">"href"</span>)&#125;,<span class="attr">type</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.getAttribute(<span class="string">"type"</span>)&#125;&#125;,<span class="attr">relative</span>:&#123;<span class="string">"+"</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">typeof</span> b==<span class="string">"string"</span>,d=c&amp;&amp;!l.test(b),e=c&amp;&amp;!d;d&amp;&amp;(b=b.toLowerCase());<span class="keyword">for</span>(<span class="keyword">var</span> f=<span class="number">0</span>,g=a.length,h;f&lt;g;f++)<span class="keyword">if</span>(h=a[f])&#123;<span class="keyword">while</span>((h=h.previousSibling)&amp;&amp;h.nodeType!==<span class="number">1</span>);a[f]=e||h&amp;&amp;h.nodeName.toLowerCase()===b?h||!<span class="number">1</span>:h===b&#125;e&amp;&amp;m.filter(b,a,!<span class="number">0</span>)&#125;,<span class="string">"&gt;"</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c,d=<span class="keyword">typeof</span> b==<span class="string">"string"</span>,e=<span class="number">0</span>,f=a.length;<span class="keyword">if</span>(d&amp;&amp;!l.test(b))&#123;b=b.toLowerCase();<span class="keyword">for</span>(;e&lt;f;e++)&#123;c=a[e];<span class="keyword">if</span>(c)&#123;<span class="keyword">var</span> g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!<span class="number">1</span>&#125;&#125;&#125;<span class="keyword">else</span>&#123;<span class="keyword">for</span>(;e&lt;f;e++)c=a[e],c&amp;&amp;(a[e]=d?c.parentNode:c.parentNode===b);d&amp;&amp;m.filter(b,a,!<span class="number">0</span>)&#125;&#125;,<span class="string">""</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d,f=e++,g=x;<span class="keyword">typeof</span> b==<span class="string">"string"</span>&amp;&amp;!l.test(b)&amp;&amp;(b=b.toLowerCase(),d=b,g=w),g(<span class="string">"parentNode"</span>,b,f,a,d,c)&#125;,<span class="string">"~"</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d,f=e++,g=x;<span class="keyword">typeof</span> b==<span class="string">"string"</span>&amp;&amp;!l.test(b)&amp;&amp;(b=b.toLowerCase(),d=b,g=w),g(<span class="string">"previousSibling"</span>,b,f,a,d,c)&#125;&#125;,<span class="attr">find</span>:&#123;<span class="attr">ID</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> b.getElementById!=<span class="string">"undefined"</span>&amp;&amp;!c)&#123;<span class="keyword">var</span> d=b.getElementById(a[<span class="number">1</span>]);<span class="keyword">return</span> d&amp;&amp;d.parentNode?[d]:[]&#125;&#125;,<span class="attr">NAME</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> b.getElementsByName!=<span class="string">"undefined"</span>)&#123;<span class="keyword">var</span> c=[],d=b.getElementsByName(a[<span class="number">1</span>]);<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>,f=d.length;e&lt;f;e++)d[e].getAttribute(<span class="string">"name"</span>)===a[<span class="number">1</span>]&amp;&amp;c.push(d[e]);<span class="keyword">return</span> c.length===<span class="number">0</span>?<span class="literal">null</span>:c&#125;&#125;,<span class="attr">TAG</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> b.getElementsByTagName!=<span class="string">"undefined"</span>)<span class="keyword">return</span> b.getElementsByTagName(a[<span class="number">1</span>])&#125;&#125;,<span class="attr">preFilter</span>:&#123;<span class="attr">CLASS</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d,e,f</span>)</span>&#123;a=<span class="string">" "</span>+a[<span class="number">1</span>].replace(j,<span class="string">""</span>)+<span class="string">" "</span>;<span class="keyword">if</span>(f)<span class="keyword">return</span> a;<span class="keyword">for</span>(<span class="keyword">var</span> g=<span class="number">0</span>,h;(h=b[g])!=<span class="literal">null</span>;g++)h&amp;&amp;(e^(h.className&amp;&amp;(<span class="string">" "</span>+h.className+<span class="string">" "</span>).replace(<span class="regexp">/[\t\n\r]/g</span>,<span class="string">" "</span>).indexOf(a)&gt;=<span class="number">0</span>)?c||d.push(h):c&amp;&amp;(b[g]=!<span class="number">1</span>));<span class="keyword">return</span>!<span class="number">1</span>&#125;,<span class="attr">ID</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a[<span class="number">1</span>].replace(j,<span class="string">""</span>)&#125;,<span class="attr">TAG</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a[<span class="number">1</span>].replace(j,<span class="string">""</span>).toLowerCase()&#125;,<span class="attr">CHILD</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a[<span class="number">1</span>]===<span class="string">"nth"</span>)&#123;a[<span class="number">2</span>]||m.error(a[<span class="number">0</span>]),a[<span class="number">2</span>]=a[<span class="number">2</span>].replace(<span class="regexp">/^\+|\s*/g</span>,<span class="string">""</span>);<span class="keyword">var</span> b=<span class="regexp">/(-?)(\d*)(?:n([+\-]?\d*))?/</span>.exec(a[<span class="number">2</span>]===<span class="string">"even"</span>&amp;&amp;<span class="string">"2n"</span>||a[<span class="number">2</span>]===<span class="string">"odd"</span>&amp;&amp;<span class="string">"2n+1"</span>||!<span class="regexp">/\D/</span>.test(a[<span class="number">2</span>])&amp;&amp;<span class="string">"0n+"</span>+a[<span class="number">2</span>]||a[<span class="number">2</span>]);a[<span class="number">2</span>]=b[<span class="number">1</span>]+(b[<span class="number">2</span>]||<span class="number">1</span>)<span class="number">-0</span>,a[<span class="number">3</span>]=b[<span class="number">3</span>]<span class="number">-0</span>&#125;<span class="keyword">else</span> a[<span class="number">2</span>]&amp;&amp;m.error(a[<span class="number">0</span>]);a[<span class="number">0</span>]=e++;<span class="keyword">return</span> a&#125;,<span class="attr">ATTR</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d,e,f</span>)</span>&#123;<span class="keyword">var</span> g=a[<span class="number">1</span>]=a[<span class="number">1</span>].replace(j,<span class="string">""</span>);!f&amp;&amp;o.attrMap[g]&amp;&amp;(a[<span class="number">1</span>]=o.attrMap[g]),a[<span class="number">4</span>]=(a[<span class="number">4</span>]||a[<span class="number">5</span>]||<span class="string">""</span>).replace(j,<span class="string">""</span>),a[<span class="number">2</span>]===<span class="string">"~="</span>&amp;&amp;(a[<span class="number">4</span>]=<span class="string">" "</span>+a[<span class="number">4</span>]+<span class="string">" "</span>);<span class="keyword">return</span> a&#125;,<span class="attr">PSEUDO</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c,d,e,f</span>)</span>&#123;<span class="keyword">if</span>(b[<span class="number">1</span>]===<span class="string">"not"</span>)<span class="keyword">if</span>((a.exec(b[<span class="number">3</span>])||<span class="string">""</span>).length&gt;<span class="number">1</span>||<span class="regexp">/^\w/</span>.test(b[<span class="number">3</span>]))b[<span class="number">3</span>]=m(b[<span class="number">3</span>],<span class="literal">null</span>,<span class="literal">null</span>,c);<span class="keyword">else</span>&#123;<span class="keyword">var</span> g=m.filter(b[<span class="number">3</span>],c,d,!<span class="number">0</span>^f);d||e.push.apply(e,g);<span class="keyword">return</span>!<span class="number">1</span>&#125;<span class="keyword">else</span> <span class="keyword">if</span>(o.match.POS.test(b[<span class="number">0</span>])||o.match.CHILD.test(b[<span class="number">0</span>]))<span class="keyword">return</span>!<span class="number">0</span>;<span class="keyword">return</span> b&#125;,<span class="attr">POS</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a.unshift(!<span class="number">0</span>);<span class="keyword">return</span> a&#125;&#125;,<span class="attr">filters</span>:&#123;<span class="attr">enabled</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.disabled===!<span class="number">1</span>&amp;&amp;a.type!==<span class="string">"hidden"</span>&#125;,<span class="attr">disabled</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.disabled===!<span class="number">0</span>&#125;,<span class="attr">checked</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.checked===!<span class="number">0</span>&#125;,<span class="attr">selected</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a.parentNode&amp;&amp;a.parentNode.selectedIndex;<span class="keyword">return</span> a.selected===!<span class="number">0</span>&#125;,<span class="attr">parent</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!!a.firstChild&#125;,<span class="attr">empty</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!a.firstChild&#125;,<span class="attr">has</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span>!!m(c[<span class="number">3</span>],a).length&#125;,<span class="attr">header</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span><span class="regexp">/h\d/i</span>.test(a.nodeName)&#125;,<span class="attr">text</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.getAttribute(<span class="string">"type"</span>),c=a.type;<span class="keyword">return</span> a.nodeName.toLowerCase()===<span class="string">"input"</span>&amp;&amp;<span class="string">"text"</span>===c&amp;&amp;(b===c||b===<span class="literal">null</span>)&#125;,<span class="attr">radio</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.nodeName.toLowerCase()===<span class="string">"input"</span>&amp;&amp;<span class="string">"radio"</span>===a.type&#125;,<span class="attr">checkbox</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.nodeName.toLowerCase()===<span class="string">"input"</span>&amp;&amp;<span class="string">"checkbox"</span>===a.type&#125;,<span class="attr">file</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.nodeName.toLowerCase()===<span class="string">"input"</span>&amp;&amp;<span class="string">"file"</span>===a.type&#125;,<span class="attr">password</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.nodeName.toLowerCase()===<span class="string">"input"</span>&amp;&amp;<span class="string">"password"</span>===a.type&#125;,<span class="attr">submit</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.nodeName.toLowerCase();<span class="keyword">return</span>(b===<span class="string">"input"</span>||b===<span class="string">"button"</span>)&amp;&amp;<span class="string">"submit"</span>===a.type&#125;,<span class="attr">image</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.nodeName.toLowerCase()===<span class="string">"input"</span>&amp;&amp;<span class="string">"image"</span>===a.type&#125;,<span class="attr">reset</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.nodeName.toLowerCase();<span class="keyword">return</span>(b===<span class="string">"input"</span>||b===<span class="string">"button"</span>)&amp;&amp;<span class="string">"reset"</span>===a.type&#125;,<span class="attr">button</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.nodeName.toLowerCase();<span class="keyword">return</span> b===<span class="string">"input"</span>&amp;&amp;<span class="string">"button"</span>===a.type||b===<span class="string">"button"</span>&#125;,<span class="attr">input</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span><span class="regexp">/input|select|textarea|button/i</span>.test(a.nodeName)&#125;,<span class="attr">focus</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a===a.ownerDocument.activeElement&#125;&#125;,<span class="attr">setFilters</span>:&#123;<span class="attr">first</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b===<span class="number">0</span>&#125;,<span class="attr">last</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">return</span> b===d.length<span class="number">-1</span>&#125;,<span class="attr">even</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b%<span class="number">2</span>===<span class="number">0</span>&#125;,<span class="attr">odd</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b%<span class="number">2</span>===<span class="number">1</span>&#125;,<span class="attr">lt</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> b&lt;c[<span class="number">3</span>]<span class="number">-0</span>&#125;,<span class="attr">gt</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> b&gt;c[<span class="number">3</span>]<span class="number">-0</span>&#125;,<span class="attr">nth</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> c[<span class="number">3</span>]<span class="number">-0</span>===b&#125;,<span class="attr">eq</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> c[<span class="number">3</span>]<span class="number">-0</span>===b&#125;&#125;,<span class="attr">filter</span>:&#123;<span class="attr">PSEUDO</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">var</span> e=b[<span class="number">1</span>],f=o.filters[e];<span class="keyword">if</span>(f)<span class="keyword">return</span> f(a,c,b,d);<span class="keyword">if</span>(e===<span class="string">"contains"</span>)<span class="keyword">return</span>(a.textContent||a.innerText||n([a])||<span class="string">""</span>).indexOf(b[<span class="number">3</span>])&gt;=<span class="number">0</span>;<span class="keyword">if</span>(e===<span class="string">"not"</span>)&#123;<span class="keyword">var</span> g=b[<span class="number">3</span>];<span class="keyword">for</span>(<span class="keyword">var</span> h=<span class="number">0</span>,i=g.length;h&lt;i;h++)<span class="keyword">if</span>(g[h]===a)<span class="keyword">return</span>!<span class="number">1</span>;<span class="keyword">return</span>!<span class="number">0</span>&#125;m.error(e)&#125;,<span class="attr">CHILD</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c,e,f,g,h,i,j,k=b[<span class="number">1</span>],l=a;<span class="keyword">switch</span>(k)&#123;<span class="keyword">case</span><span class="string">"only"</span>:<span class="keyword">case</span><span class="string">"first"</span>:<span class="keyword">while</span>(l=l.previousSibling)<span class="keyword">if</span>(l.nodeType===<span class="number">1</span>)<span class="keyword">return</span>!<span class="number">1</span>;<span class="keyword">if</span>(k===<span class="string">"first"</span>)<span class="keyword">return</span>!<span class="number">0</span>;l=a;<span class="keyword">case</span><span class="string">"last"</span>:<span class="keyword">while</span>(l=l.nextSibling)<span class="keyword">if</span>(l.nodeType===<span class="number">1</span>)<span class="keyword">return</span>!<span class="number">1</span>;<span class="keyword">return</span>!<span class="number">0</span>;<span class="keyword">case</span><span class="string">"nth"</span>:c=b[<span class="number">2</span>],e=b[<span class="number">3</span>];<span class="keyword">if</span>(c===<span class="number">1</span>&amp;&amp;e===<span class="number">0</span>)<span class="keyword">return</span>!<span class="number">0</span>;f=b[<span class="number">0</span>],g=a.parentNode;<span class="keyword">if</span>(g&amp;&amp;(g[d]!==f||!a.nodeIndex))&#123;i=<span class="number">0</span>;<span class="keyword">for</span>(l=g.firstChild;l;l=l.nextSibling)l.nodeType===<span class="number">1</span>&amp;&amp;(l.nodeIndex=++i);g[d]=f&#125;j=a.nodeIndex-e;<span class="keyword">return</span> c===<span class="number">0</span>?j===<span class="number">0</span>:j%c===<span class="number">0</span>&amp;&amp;j/c&gt;=<span class="number">0</span>&#125;&#125;,<span class="attr">ID</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a.nodeType===<span class="number">1</span>&amp;&amp;a.getAttribute(<span class="string">"id"</span>)===b&#125;,<span class="attr">TAG</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> b===<span class="string">"*"</span>&amp;&amp;a.nodeType===<span class="number">1</span>||!!a.nodeName&amp;&amp;a.nodeName.toLowerCase()===b&#125;,<span class="attr">CLASS</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span>(<span class="string">" "</span>+(a.className||a.getAttribute(<span class="string">"class"</span>))+<span class="string">" "</span>).indexOf(b)&gt;<span class="number">-1</span>&#125;,<span class="attr">ATTR</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=b[<span class="number">1</span>],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=<span class="literal">null</span>?a[c]:a.getAttribute(c),e=d+<span class="string">""</span>,f=b[<span class="number">2</span>],g=b[<span class="number">4</span>];<span class="keyword">return</span> d==<span class="literal">null</span>?f===<span class="string">"!="</span>:!f&amp;&amp;m.attr?d!=<span class="literal">null</span>:f===<span class="string">"="</span>?e===g:f===<span class="string">"*="</span>?e.indexOf(g)&gt;=<span class="number">0</span>:f===<span class="string">"~="</span>?(<span class="string">" "</span>+e+<span class="string">" "</span>).indexOf(g)&gt;=<span class="number">0</span>:g?f===<span class="string">"!="</span>?e!==g:f===<span class="string">"^="</span>?e.indexOf(g)===<span class="number">0</span>:f===<span class="string">"$="</span>?e.substr(e.length-g.length)===g:f===<span class="string">"|="</span>?e===g||e.substr(<span class="number">0</span>,g.length+<span class="number">1</span>)===g+<span class="string">"-"</span>:!<span class="number">1</span>:e&amp;&amp;d!==!<span class="number">1</span>&#125;,<span class="attr">POS</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">var</span> e=b[<span class="number">2</span>],f=o.setFilters[e];<span class="keyword">if</span>(f)<span class="keyword">return</span> f(a,c,b,d)&#125;&#125;&#125;,p=o.match.POS,q=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span><span class="string">"\\"</span>+(b<span class="number">-0</span>+<span class="number">1</span>)&#125;;<span class="keyword">for</span>(<span class="keyword">var</span> r <span class="keyword">in</span> o.match)o.match[r]=<span class="keyword">new</span> <span class="built_in">RegExp</span>(o.match[r].source+<span class="regexp">/(?![^\[]*\])(?![^\(]*\))/</span>.source),o.leftMatch[r]=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/(^(?:.|\r|\n)*?)/</span>.source+o.match[r].source.replace(<span class="regexp">/\\(\d+)/g</span>,q));<span class="keyword">var</span> s=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;a=<span class="built_in">Array</span>.prototype.slice.call(a,<span class="number">0</span>);<span class="keyword">if</span>(b)&#123;b.push.apply(b,a);<span class="keyword">return</span> b&#125;<span class="keyword">return</span> a&#125;;<span class="keyword">try</span>&#123;<span class="built_in">Array</span>.prototype.slice.call(c.documentElement.childNodes,<span class="number">0</span>)[<span class="number">0</span>].nodeType&#125;<span class="keyword">catch</span>(t)&#123;s=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=<span class="number">0</span>,d=b||[];<span class="keyword">if</span>(g.call(a)===<span class="string">"[object Array]"</span>)<span class="built_in">Array</span>.prototype.push.apply(d,a);<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> a.length==<span class="string">"number"</span>)<span class="keyword">for</span>(<span class="keyword">var</span> e=a.length;c&lt;e;c++)d.push(a[c]);<span class="keyword">else</span> <span class="keyword">for</span>(;a[c];c++)d.push(a[c]);<span class="keyword">return</span> d&#125;&#125;<span class="keyword">var</span> u,v;c.documentElement.compareDocumentPosition?u=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(a===b)&#123;h=!<span class="number">0</span>;<span class="keyword">return</span> <span class="number">0</span>&#125;<span class="keyword">if</span>(!a.compareDocumentPosition||!b.compareDocumentPosition)<span class="keyword">return</span> a.compareDocumentPosition?<span class="number">-1</span>:<span class="number">1</span>;<span class="keyword">return</span> a.compareDocumentPosition(b)&amp;<span class="number">4</span>?<span class="number">-1</span>:<span class="number">1</span>&#125;:(u=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(a===b)&#123;h=!<span class="number">0</span>;<span class="keyword">return</span> <span class="number">0</span>&#125;<span class="keyword">if</span>(a.sourceIndex&amp;&amp;b.sourceIndex)<span class="keyword">return</span> a.sourceIndex-b.sourceIndex;<span class="keyword">var</span> c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;<span class="keyword">if</span>(g===i)<span class="keyword">return</span> v(a,b);<span class="keyword">if</span>(!g)<span class="keyword">return</span><span class="number">-1</span>;<span class="keyword">if</span>(!i)<span class="keyword">return</span> <span class="number">1</span>;<span class="keyword">while</span>(j)e.unshift(j),j=j.parentNode;j=i;<span class="keyword">while</span>(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;<span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;c&amp;&amp;k&lt;d;k++)<span class="keyword">if</span>(e[k]!==f[k])<span class="keyword">return</span> v(e[k],f[k]);<span class="keyword">return</span> k===c?v(a,f[k],<span class="number">-1</span>):v(e[k],b,<span class="number">1</span>)&#125;,v=<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">if</span>(a===b)<span class="keyword">return</span> c;<span class="keyword">var</span> d=a.nextSibling;<span class="keyword">while</span>(d)&#123;<span class="keyword">if</span>(d===b)<span class="keyword">return</span><span class="number">-1</span>;d=d.nextSibling&#125;<span class="keyword">return</span> <span class="number">1</span>&#125;),<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=c.createElement(<span class="string">"div"</span>),d=<span class="string">"script"</span>+(<span class="keyword">new</span> <span class="built_in">Date</span>).getTime(),e=c.documentElement;a.innerHTML=<span class="string">"&lt;a name='"</span>+d+<span class="string">"'/&gt;"</span>,e.insertBefore(a,e.firstChild),c.getElementById(d)&amp;&amp;(o.find.ID=<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> c.getElementById!=<span class="string">"undefined"</span>&amp;&amp;!d)&#123;<span class="keyword">var</span> e=c.getElementById(a[<span class="number">1</span>]);<span class="keyword">return</span> e?e.id===a[<span class="number">1</span>]||<span class="keyword">typeof</span> e.getAttributeNode!=<span class="string">"undefined"</span>&amp;&amp;e.getAttributeNode(<span class="string">"id"</span>).nodeValue===a[<span class="number">1</span>]?[e]:b:[]&#125;&#125;,o.filter.ID=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">typeof</span> a.getAttributeNode!=<span class="string">"undefined"</span>&amp;&amp;a.getAttributeNode(<span class="string">"id"</span>);<span class="keyword">return</span> a.nodeType===<span class="number">1</span>&amp;&amp;c&amp;&amp;c.nodeValue===b&#125;),e.removeChild(a),e=a=<span class="literal">null</span>&#125;(),<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=c.createElement(<span class="string">"div"</span>);a.appendChild(c.createComment(<span class="string">""</span>)),a.getElementsByTagName(<span class="string">"*"</span>).length&gt;<span class="number">0</span>&amp;&amp;(o.find.TAG=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=b.getElementsByTagName(a[<span class="number">1</span>]);<span class="keyword">if</span>(a[<span class="number">1</span>]===<span class="string">"*"</span>)&#123;<span class="keyword">var</span> d=[];<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;c[e];e++)c[e].nodeType===<span class="number">1</span>&amp;&amp;d.push(c[e]);c=d&#125;<span class="keyword">return</span> c&#125;),a.innerHTML=<span class="string">"&lt;a href='#'&gt;&lt;/a&gt;"</span>,a.firstChild&amp;&amp;<span class="keyword">typeof</span> a.firstChild.getAttribute!=<span class="string">"undefined"</span>&amp;&amp;a.firstChild.getAttribute(<span class="string">"href"</span>)!==<span class="string">"#"</span>&amp;&amp;(o.attrHandle.href=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> a.getAttribute(<span class="string">"href"</span>,<span class="number">2</span>)&#125;),a=<span class="literal">null</span>&#125;(),c.querySelectorAll&amp;&amp;<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=m,b=c.createElement(<span class="string">"div"</span>),d=<span class="string">"__sizzle__"</span>;b.innerHTML=<span class="string">"&lt;p class='TEST'&gt;&lt;/p&gt;"</span>;<span class="keyword">if</span>(!b.querySelectorAll||b.querySelectorAll(<span class="string">".TEST"</span>).length!==<span class="number">0</span>)&#123;m=<span class="function"><span class="keyword">function</span>(<span class="params">b,e,f,g</span>)</span>&#123;e=e||c;<span class="keyword">if</span>(!g&amp;&amp;!m.isXML(e))&#123;<span class="keyword">var</span> h=<span class="regexp">/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/</span>.exec(b);<span class="keyword">if</span>(h&amp;&amp;(e.nodeType===<span class="number">1</span>||e.nodeType===<span class="number">9</span>))&#123;<span class="keyword">if</span>(h[<span class="number">1</span>])<span class="keyword">return</span> s(e.getElementsByTagName(b),f);<span class="keyword">if</span>(h[<span class="number">2</span>]&amp;&amp;o.find.CLASS&amp;&amp;e.getElementsByClassName)<span class="keyword">return</span> s(e.getElementsByClassName(h[<span class="number">2</span>]),f)&#125;<span class="keyword">if</span>(e.nodeType===<span class="number">9</span>)&#123;<span class="keyword">if</span>(b===<span class="string">"body"</span>&amp;&amp;e.body)<span class="keyword">return</span> s([e.body],f);<span class="keyword">if</span>(h&amp;&amp;h[<span class="number">3</span>])&#123;<span class="keyword">var</span> i=e.getElementById(h[<span class="number">3</span>]);<span class="keyword">if</span>(!i||!i.parentNode)<span class="keyword">return</span> s([],f);<span class="keyword">if</span>(i.id===h[<span class="number">3</span>])<span class="keyword">return</span> s([i],f)&#125;<span class="keyword">try</span>&#123;<span class="keyword">return</span> s(e.querySelectorAll(b),f)&#125;<span class="keyword">catch</span>(j)&#123;&#125;&#125;<span class="keyword">else</span> <span class="keyword">if</span>(e.nodeType===<span class="number">1</span>&amp;&amp;e.nodeName.toLowerCase()!==<span class="string">"object"</span>)&#123;<span class="keyword">var</span> k=e,l=e.getAttribute(<span class="string">"id"</span>),n=l||d,p=e.parentNode,q=<span class="regexp">/^\s*[+~]/</span>.test(b);l?n=n.replace(<span class="regexp">/'/g</span>,<span class="string">"\\$&amp;"</span>):e.setAttribute(<span class="string">"id"</span>,n),q&amp;&amp;p&amp;&amp;(e=e.parentNode);<span class="keyword">try</span>&#123;<span class="keyword">if</span>(!q||p)<span class="keyword">return</span> s(e.querySelectorAll(<span class="string">"[id='"</span>+n+<span class="string">"'] "</span>+b),f)&#125;<span class="keyword">catch</span>(r)&#123;&#125;<span class="keyword">finally</span>&#123;l||k.removeAttribute(<span class="string">"id"</span>)&#125;&#125;&#125;<span class="keyword">return</span> a(b,e,f,g)&#125;;<span class="keyword">for</span>(<span class="keyword">var</span> e <span class="keyword">in</span> a)m[e]=a[e];b=<span class="literal">null</span>&#125;&#125;(),<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;<span class="keyword">if</span>(b)&#123;<span class="keyword">var</span> d=!b.call(c.createElement(<span class="string">"div"</span>),<span class="string">"div"</span>),e=!<span class="number">1</span>;<span class="keyword">try</span>&#123;b.call(c.documentElement,<span class="string">"[test!='']:sizzle"</span>)&#125;<span class="keyword">catch</span>(f)&#123;e=!<span class="number">0</span>&#125;m.matchesSelector=<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;c=c.replace(<span class="regexp">/\=\s*([^'"\]]*)\s*\]/g</span>,<span class="string">"='$1']"</span>);<span class="keyword">if</span>(!m.isXML(a))<span class="keyword">try</span>&#123;<span class="keyword">if</span>(e||!o.match.PSEUDO.test(c)&amp;&amp;!<span class="regexp">/!=/</span>.test(c))&#123;<span class="keyword">var</span> f=b.call(a,c);<span class="keyword">if</span>(f||!d||a.document&amp;&amp;a.document.nodeType!==<span class="number">11</span>)<span class="keyword">return</span> f&#125;&#125;<span class="keyword">catch</span>(g)&#123;&#125;<span class="keyword">return</span> m(c,<span class="literal">null</span>,<span class="literal">null</span>,[a]).length&gt;<span class="number">0</span>&#125;&#125;&#125;(),<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=c.createElement(<span class="string">"div"</span>);a.innerHTML=<span class="string">"&lt;div class='test e'&gt;&lt;/div&gt;&lt;div class='test'&gt;&lt;/div&gt;"</span>;<span class="keyword">if</span>(!!a.getElementsByClassName&amp;&amp;a.getElementsByClassName(<span class="string">"e"</span>).length!==<span class="number">0</span>)&#123;a.lastChild.className=<span class="string">"e"</span>;<span class="keyword">if</span>(a.getElementsByClassName(<span class="string">"e"</span>).length===<span class="number">1</span>)<span class="keyword">return</span>;o.order.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="string">"CLASS"</span>),o.find.CLASS=<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> b.getElementsByClassName!=<span class="string">"undefined"</span>&amp;&amp;!c)<span class="keyword">return</span> b.getElementsByClassName(a[<span class="number">1</span>])&#125;,a=<span class="literal">null</span>&#125;&#125;(),c.documentElement.contains?m.contains=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a!==b&amp;&amp;(a.contains?a.contains(b):!<span class="number">0</span>)&#125;:c.documentElement.compareDocumentPosition?m.contains=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span>!!(a.compareDocumentPosition(b)&amp;<span class="number">16</span>)&#125;:m.contains=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!<span class="number">1</span>&#125;,m.isXML=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=(a?a.ownerDocument||a:<span class="number">0</span>).documentElement;<span class="keyword">return</span> b?b.nodeName!==<span class="string">"HTML"</span>:!<span class="number">1</span>&#125;;<span class="keyword">var</span> y=<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d,e=[],f=<span class="string">""</span>,g=b.nodeType?[b]:b;<span class="keyword">while</span>(d=o.match.PSEUDO.exec(a))f+=d[<span class="number">0</span>],a=a.replace(o.match.PSEUDO,<span class="string">""</span>);a=o.relative[a]?a+<span class="string">"*"</span>:a;<span class="keyword">for</span>(<span class="keyword">var</span> h=<span class="number">0</span>,i=g.length;h&lt;i;h++)m(a,g[h],e,c);<span class="keyword">return</span> m.filter(f,e)&#125;;m.attr=f.attr,m.selectors.attrMap=&#123;&#125;,f.find=m,f.expr=m.selectors,f.expr[<span class="string">":"</span>]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains&#125;();<span class="keyword">var</span> L=<span class="regexp">/Until$/</span>,M=<span class="regexp">/^(?:parents|prevUntil|prevAll)/</span>,N=<span class="regexp">/,/</span>,O=<span class="regexp">/^.[^:#\[\.,]*$/</span>,P=<span class="built_in">Array</span>.prototype.slice,Q=f.expr.match.POS,R=&#123;<span class="attr">children</span>:!<span class="number">0</span>,<span class="attr">contents</span>:!<span class="number">0</span>,<span class="attr">next</span>:!<span class="number">0</span>,<span class="attr">prev</span>:!<span class="number">0</span>&#125;;f.fn.extend(&#123;<span class="attr">find</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=<span class="keyword">this</span>,c,d;<span class="keyword">if</span>(<span class="keyword">typeof</span> a!=<span class="string">"string"</span>)<span class="keyword">return</span> f(a).filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(c=<span class="number">0</span>,d=b.length;c&lt;d;c++)<span class="keyword">if</span>(f.contains(b[c],<span class="keyword">this</span>))<span class="keyword">return</span>!<span class="number">0</span>&#125;);<span class="keyword">var</span> e=<span class="keyword">this</span>.pushStack(<span class="string">""</span>,<span class="string">"find"</span>,a),g,h,i;<span class="keyword">for</span>(c=<span class="number">0</span>,d=<span class="keyword">this</span>.length;c&lt;d;c++)&#123;g=e.length,f.find(a,<span class="keyword">this</span>[c],e);<span class="keyword">if</span>(c&gt;<span class="number">0</span>)<span class="keyword">for</span>(h=g;h&lt;e.length;h++)<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;g;i++)<span class="keyword">if</span>(e[i]===e[h])&#123;e.splice(h--,<span class="number">1</span>);<span class="keyword">break</span>&#125;&#125;<span class="keyword">return</span> e&#125;,<span class="attr">has</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=f(a);<span class="keyword">return</span> <span class="keyword">this</span>.filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=<span class="number">0</span>,c=b.length;a&lt;c;a++)<span class="keyword">if</span>(f.contains(<span class="keyword">this</span>,b[a]))<span class="keyword">return</span>!<span class="number">0</span>&#125;)&#125;,<span class="attr">not</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(T(<span class="keyword">this</span>,a,!<span class="number">1</span>),<span class="string">"not"</span>,a)&#125;,<span class="attr">filter</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(T(<span class="keyword">this</span>,a,!<span class="number">0</span>),<span class="string">"filter"</span>,a)&#125;,<span class="attr">is</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!!a&amp;&amp;(<span class="keyword">typeof</span> a==<span class="string">"string"</span>?Q.test(a)?f(a,<span class="keyword">this</span>.context).index(<span class="keyword">this</span>[<span class="number">0</span>])&gt;=<span class="number">0</span>:f.filter(a,<span class="keyword">this</span>).length&gt;<span class="number">0</span>:<span class="keyword">this</span>.filter(a).length&gt;<span class="number">0</span>)&#125;,<span class="attr">closest</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=[],d,e,g=<span class="keyword">this</span>[<span class="number">0</span>];<span class="keyword">if</span>(f.isArray(a))&#123;<span class="keyword">var</span> h=<span class="number">1</span>;<span class="keyword">while</span>(g&amp;&amp;g.ownerDocument&amp;&amp;g!==b)&#123;<span class="keyword">for</span>(d=<span class="number">0</span>;d&lt;a.length;d++)f(g).is(a[d])&amp;&amp;c.push(&#123;<span class="attr">selector</span>:a[d],<span class="attr">elem</span>:g,<span class="attr">level</span>:h&#125;);g=g.parentNode,h++&#125;<span class="keyword">return</span> c&#125;<span class="keyword">var</span> i=Q.test(a)||<span class="keyword">typeof</span> a!=<span class="string">"string"</span>?f(a,b||<span class="keyword">this</span>.context):<span class="number">0</span>;<span class="keyword">for</span>(d=<span class="number">0</span>,e=<span class="keyword">this</span>.length;d&lt;e;d++)&#123;g=<span class="keyword">this</span>[d];<span class="keyword">while</span>(g)&#123;<span class="keyword">if</span>(i?i.index(g)&gt;<span class="number">-1</span>:f.find.matchesSelector(g,a))&#123;c.push(g);<span class="keyword">break</span>&#125;g=g.parentNode;<span class="keyword">if</span>(!g||!g.ownerDocument||g===b||g.nodeType===<span class="number">11</span>)<span class="keyword">break</span>&#125;&#125;c=c.length&gt;<span class="number">1</span>?f.unique(c):c;<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(c,<span class="string">"closest"</span>,a)&#125;,<span class="attr">index</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(!a)<span class="keyword">return</span> <span class="keyword">this</span>[<span class="number">0</span>]&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].parentNode?<span class="keyword">this</span>.prevAll().length:<span class="number">-1</span>;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"string"</span>)<span class="keyword">return</span> f.inArray(<span class="keyword">this</span>[<span class="number">0</span>],f(a));<span class="keyword">return</span> f.inArray(a.jquery?a[<span class="number">0</span>]:a,<span class="keyword">this</span>)&#125;,<span class="attr">add</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">typeof</span> a==<span class="string">"string"</span>?f(a,b):f.makeArray(a&amp;&amp;a.nodeType?[a]:a),d=f.merge(<span class="keyword">this</span>.get(),c);<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(S(c[<span class="number">0</span>])||S(d[<span class="number">0</span>])?d:f.unique(d))&#125;,<span class="attr">andSelf</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.add(<span class="keyword">this</span>.prevObject)&#125;&#125;),f.each(&#123;<span class="attr">parent</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.parentNode;<span class="keyword">return</span> b&amp;&amp;b.nodeType!==<span class="number">11</span>?b:<span class="literal">null</span>&#125;,<span class="attr">parents</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.dir(a,<span class="string">"parentNode"</span>)&#125;,<span class="attr">parentsUntil</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> f.dir(a,<span class="string">"parentNode"</span>,c)&#125;,<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.nth(a,<span class="number">2</span>,<span class="string">"nextSibling"</span>)&#125;,<span class="attr">prev</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.nth(a,<span class="number">2</span>,<span class="string">"previousSibling"</span>)&#125;,<span class="attr">nextAll</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.dir(a,<span class="string">"nextSibling"</span>)&#125;,<span class="attr">prevAll</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.dir(a,<span class="string">"previousSibling"</span>)&#125;,<span class="attr">nextUntil</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> f.dir(a,<span class="string">"nextSibling"</span>,c)&#125;,<span class="attr">prevUntil</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> f.dir(a,<span class="string">"previousSibling"</span>,c)&#125;,<span class="attr">siblings</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.sibling(a.parentNode.firstChild,a)&#125;,<span class="attr">children</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.sibling(a.firstChild)&#125;,<span class="attr">contents</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.nodeName(a,<span class="string">"iframe"</span>)?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)&#125;&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.fn[a]=<span class="function"><span class="keyword">function</span>(<span class="params">c,d</span>)</span>&#123;<span class="keyword">var</span> e=f.map(<span class="keyword">this</span>,b,c);L.test(a)||(d=c),d&amp;&amp;<span class="keyword">typeof</span> d==<span class="string">"string"</span>&amp;&amp;(e=f.filter(d,e)),e=<span class="keyword">this</span>.length&gt;<span class="number">1</span>&amp;&amp;!R[a]?f.unique(e):e,(<span class="keyword">this</span>.length&gt;<span class="number">1</span>||N.test(d))&amp;&amp;M.test(a)&amp;&amp;(e=e.reverse());<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(e,a,P.call(<span class="built_in">arguments</span>).join(<span class="string">","</span>))&#125;&#125;),f.extend(&#123;<span class="attr">filter</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;c&amp;&amp;(a=<span class="string">":not("</span>+a+<span class="string">")"</span>);<span class="keyword">return</span> b.length===<span class="number">1</span>?f.find.matchesSelector(b[<span class="number">0</span>],a)?[b[<span class="number">0</span>]]:[]:f.find.matches(a,b)&#125;,<span class="attr">dir</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> e=[],g=a[c];<span class="keyword">while</span>(g&amp;&amp;g.nodeType!==<span class="number">9</span>&amp;&amp;(d===b||g.nodeType!==<span class="number">1</span>||!f(g).is(d)))g.nodeType===<span class="number">1</span>&amp;&amp;e.push(g),g=g[c];<span class="keyword">return</span> e&#125;,<span class="attr">nth</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;b=b||<span class="number">1</span>;<span class="keyword">var</span> e=<span class="number">0</span>;<span class="keyword">for</span>(;a;a=a[c])<span class="keyword">if</span>(a.nodeType===<span class="number">1</span>&amp;&amp;++e===b)<span class="keyword">break</span>;<span class="keyword">return</span> a&#125;,<span class="attr">sibling</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=[];<span class="keyword">for</span>(;a;a=a.nextSibling)a.nodeType===<span class="number">1</span>&amp;&amp;a!==b&amp;&amp;c.push(a);<span class="keyword">return</span> c&#125;&#125;);<span class="keyword">var</span> V=<span class="string">"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"</span>,W=<span class="regexp">/ jQuery\d+="(?:\d+|null)"/g</span>,X=<span class="regexp">/^\s+/</span>,Y=<span class="regexp">/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^&gt;]*)\/&gt;/ig</span>,Z=<span class="regexp">/&lt;([\w:]+)/</span>,$=<span class="regexp">/&lt;tbody/i</span>,_=<span class="regexp">/&lt;|&amp;#?\w+;/</span>,ba=<span class="regexp">/&lt;(?:script|style)/i</span>,bb=<span class="regexp">/&lt;(?:script|object|embed|option|style)/i</span>,bc=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"&lt;(?:"</span>+V+<span class="string">")"</span>,<span class="string">"i"</span>),bd=<span class="regexp">/checked\s*(?:[^=]|=\s*.checked.)/i</span>,be=<span class="regexp">/\/(java|ecma)script/i</span>,bf=<span class="regexp">/^\s*&lt;!(?:\[CDATA\[|\-\-)/</span>,bg=&#123;<span class="attr">option</span>:[<span class="number">1</span>,<span class="string">"&lt;select multiple='multiple'&gt;"</span>,<span class="string">"&lt;/select&gt;"</span>],<span class="attr">legend</span>:[<span class="number">1</span>,<span class="string">"&lt;fieldset&gt;"</span>,<span class="string">"&lt;/fieldset&gt;"</span>],<span class="attr">thead</span>:[<span class="number">1</span>,<span class="string">"&lt;table&gt;"</span>,<span class="string">"&lt;/table&gt;"</span>],<span class="attr">tr</span>:[<span class="number">2</span>,<span class="string">"&lt;table&gt;&lt;tbody&gt;"</span>,<span class="string">"&lt;/tbody&gt;&lt;/table&gt;"</span>],<span class="attr">td</span>:[<span class="number">3</span>,<span class="string">"&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;"</span>,<span class="string">"&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"</span>],<span class="attr">col</span>:[<span class="number">2</span>,<span class="string">"&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;"</span>,<span class="string">"&lt;/colgroup&gt;&lt;/table&gt;"</span>],<span class="attr">area</span>:[<span class="number">1</span>,<span class="string">"&lt;map&gt;"</span>,<span class="string">"&lt;/map&gt;"</span>],<span class="attr">_default</span>:[<span class="number">0</span>,<span class="string">""</span>,<span class="string">""</span>]&#125;,bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[<span class="number">1</span>,<span class="string">"div&lt;div&gt;"</span>,<span class="string">"&lt;/div&gt;"</span>]),f.fn.extend(&#123;<span class="attr">text</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">var</span> c=f(<span class="keyword">this</span>);c.text(a.call(<span class="keyword">this</span>,b,c.text()))&#125;);<span class="keyword">if</span>(<span class="keyword">typeof</span> a!=<span class="string">"object"</span>&amp;&amp;a!==b)<span class="keyword">return</span> <span class="keyword">this</span>.empty().append((<span class="keyword">this</span>[<span class="number">0</span>]&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].ownerDocument||c).createTextNode(a));<span class="keyword">return</span> f.text(<span class="keyword">this</span>)&#125;,<span class="attr">wrapAll</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;f(<span class="keyword">this</span>).wrapAll(a.call(<span class="keyword">this</span>,b))&#125;);<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>])&#123;<span class="keyword">var</span> b=f(a,<span class="keyword">this</span>[<span class="number">0</span>].ownerDocument).eq(<span class="number">0</span>).clone(!<span class="number">0</span>);<span class="keyword">this</span>[<span class="number">0</span>].parentNode&amp;&amp;b.insertBefore(<span class="keyword">this</span>[<span class="number">0</span>]),b.map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=<span class="keyword">this</span>;<span class="keyword">while</span>(a.firstChild&amp;&amp;a.firstChild.nodeType===<span class="number">1</span>)a=a.firstChild;<span class="keyword">return</span> a&#125;).append(<span class="keyword">this</span>)&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">wrapInner</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;f(<span class="keyword">this</span>).wrapInner(a.call(<span class="keyword">this</span>,b))&#125;);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b=f(<span class="keyword">this</span>),c=b.contents();c.length?c.wrapAll(a):b.append(a)&#125;)&#125;,<span class="attr">wrap</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=f.isFunction(a);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;f(<span class="keyword">this</span>).wrapAll(b?a.call(<span class="keyword">this</span>,c):a)&#125;)&#125;,<span class="attr">unwrap</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.parent().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.nodeName(<span class="keyword">this</span>,<span class="string">"body"</span>)||f(<span class="keyword">this</span>).replaceWith(<span class="keyword">this</span>.childNodes)&#125;).end()&#125;,<span class="attr">append</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.domManip(<span class="built_in">arguments</span>,!<span class="number">0</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.nodeType===<span class="number">1</span>&amp;&amp;<span class="keyword">this</span>.appendChild(a)&#125;)&#125;,<span class="attr">prepend</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.domManip(<span class="built_in">arguments</span>,!<span class="number">0</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.nodeType===<span class="number">1</span>&amp;&amp;<span class="keyword">this</span>.insertBefore(a,<span class="keyword">this</span>.firstChild)&#125;)&#125;,<span class="attr">before</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>]&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].parentNode)<span class="keyword">return</span> <span class="keyword">this</span>.domManip(<span class="built_in">arguments</span>,!<span class="number">1</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.parentNode.insertBefore(a,<span class="keyword">this</span>)&#125;);<span class="keyword">if</span>(<span class="built_in">arguments</span>.length)&#123;<span class="keyword">var</span> a=f.clean(<span class="built_in">arguments</span>);a.push.apply(a,<span class="keyword">this</span>.toArray());<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(a,<span class="string">"before"</span>,<span class="built_in">arguments</span>)&#125;&#125;,<span class="attr">after</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>]&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].parentNode)<span class="keyword">return</span> <span class="keyword">this</span>.domManip(<span class="built_in">arguments</span>,!<span class="number">1</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.parentNode.insertBefore(a,<span class="keyword">this</span>.nextSibling)&#125;);<span class="keyword">if</span>(<span class="built_in">arguments</span>.length)&#123;<span class="keyword">var</span> a=<span class="keyword">this</span>.pushStack(<span class="keyword">this</span>,<span class="string">"after"</span>,<span class="built_in">arguments</span>);a.push.apply(a,f.clean(<span class="built_in">arguments</span>));<span class="keyword">return</span> a&#125;&#125;,<span class="attr">remove</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> c=<span class="number">0</span>,d;(d=<span class="keyword">this</span>[c])!=<span class="literal">null</span>;c++)<span class="keyword">if</span>(!a||f.filter(a,[d]).length)!b&amp;&amp;d.nodeType===<span class="number">1</span>&amp;&amp;(f.cleanData(d.getElementsByTagName(<span class="string">"*"</span>)),f.cleanData([d])),d.parentNode&amp;&amp;d.parentNode.removeChild(d);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">empty</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=<span class="number">0</span>,b;(b=<span class="keyword">this</span>[a])!=<span class="literal">null</span>;a++)&#123;b.nodeType===<span class="number">1</span>&amp;&amp;f.cleanData(b.getElementsByTagName(<span class="string">"*"</span>));<span class="keyword">while</span>(b.firstChild)b.removeChild(b.firstChild)&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">clone</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;a=a==<span class="literal">null</span>?!<span class="number">1</span>:a,b=b==<span class="literal">null</span>?a:b;<span class="keyword">return</span> <span class="keyword">this</span>.map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> f.clone(<span class="keyword">this</span>,a,b)&#125;)&#125;,<span class="attr">html</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a===b)<span class="keyword">return</span> <span class="keyword">this</span>[<span class="number">0</span>]&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].nodeType===<span class="number">1</span>?<span class="keyword">this</span>[<span class="number">0</span>].innerHTML.replace(W,<span class="string">""</span>):<span class="literal">null</span>;<span class="keyword">if</span>(<span class="keyword">typeof</span> a==<span class="string">"string"</span>&amp;&amp;!ba.test(a)&amp;&amp;(f.support.leadingWhitespace||!X.test(a))&amp;&amp;!bg[(Z.exec(a)||[<span class="string">""</span>,<span class="string">""</span>])[<span class="number">1</span>].toLowerCase()])&#123;a=a.replace(Y,<span class="string">"&lt;$1&gt;&lt;/$2&gt;"</span>);<span class="keyword">try</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> c=<span class="number">0</span>,d=<span class="keyword">this</span>.length;c&lt;d;c++)<span class="keyword">this</span>[c].nodeType===<span class="number">1</span>&amp;&amp;(f.cleanData(<span class="keyword">this</span>[c].getElementsByTagName(<span class="string">"*"</span>)),<span class="keyword">this</span>[c].innerHTML=a)&#125;<span class="keyword">catch</span>(e)&#123;<span class="keyword">this</span>.empty().append(a)&#125;&#125;<span class="keyword">else</span> f.isFunction(a)?<span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">var</span> c=f(<span class="keyword">this</span>);c.html(a.call(<span class="keyword">this</span>,b,c.html()))&#125;):<span class="keyword">this</span>.empty().append(a);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">replaceWith</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>]&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].parentNode)&#123;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">var</span> c=f(<span class="keyword">this</span>),d=c.html();c.replaceWith(a.call(<span class="keyword">this</span>,b,d))&#125;);<span class="keyword">typeof</span> a!=<span class="string">"string"</span>&amp;&amp;(a=f(a).detach());<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b=<span class="keyword">this</span>.nextSibling,c=<span class="keyword">this</span>.parentNode;f(<span class="keyword">this</span>).remove(),b?f(b).before(a):f(c).append(a)&#125;)&#125;<span class="keyword">return</span> <span class="keyword">this</span>.length?<span class="keyword">this</span>.pushStack(f(f.isFunction(a)?a():a),<span class="string">"replaceWith"</span>,a):<span class="keyword">this</span>&#125;,<span class="attr">detach</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.remove(a,!<span class="number">0</span>)&#125;,<span class="attr">domManip</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> e,g,h,i,j=a[<span class="number">0</span>],k=[];<span class="keyword">if</span>(!f.support.checkClone&amp;&amp;<span class="built_in">arguments</span>.length===<span class="number">3</span>&amp;&amp;<span class="keyword">typeof</span> j==<span class="string">"string"</span>&amp;&amp;bd.test(j))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f(<span class="keyword">this</span>).domManip(a,c,d,!<span class="number">0</span>)&#125;);<span class="keyword">if</span>(f.isFunction(j))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> g=f(<span class="keyword">this</span>);a[<span class="number">0</span>]=j.call(<span class="keyword">this</span>,e,c?g.html():b),g.domManip(a,c,d)&#125;);<span class="keyword">if</span>(<span class="keyword">this</span>[<span class="number">0</span>])&#123;i=j&amp;&amp;j.parentNode,f.support.parentNode&amp;&amp;i&amp;&amp;i.nodeType===<span class="number">11</span>&amp;&amp;i.childNodes.length===<span class="keyword">this</span>.length?e=&#123;<span class="attr">fragment</span>:i&#125;:e=f.buildFragment(a,<span class="keyword">this</span>,k),h=e.fragment,h.childNodes.length===<span class="number">1</span>?g=h=h.firstChild:g=h.firstChild;<span class="keyword">if</span>(g)&#123;c=c&amp;&amp;f.nodeName(g,<span class="string">"tr"</span>);<span class="keyword">for</span>(<span class="keyword">var</span> l=<span class="number">0</span>,m=<span class="keyword">this</span>.length,n=m<span class="number">-1</span>;l&lt;m;l++)d.call(c?bi(<span class="keyword">this</span>[l],g):<span class="keyword">this</span>[l],e.cacheable||m&gt;<span class="number">1</span>&amp;&amp;l&lt;n?f.clone(h,!<span class="number">0</span>,!<span class="number">0</span>):h)&#125;k.length&amp;&amp;f.each(k,bp)&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;&#125;),f.buildFragment=<span class="function"><span class="keyword">function</span>(<span class="params">a,b,d</span>)</span>&#123;<span class="keyword">var</span> e,g,h,i,j=a[<span class="number">0</span>];b&amp;&amp;b[<span class="number">0</span>]&amp;&amp;(i=b[<span class="number">0</span>].ownerDocument||b[<span class="number">0</span>]),i.createDocumentFragment||(i=c),a.length===<span class="number">1</span>&amp;&amp;<span class="keyword">typeof</span> j==<span class="string">"string"</span>&amp;&amp;j.length&lt;<span class="number">512</span>&amp;&amp;i===c&amp;&amp;j.charAt(<span class="number">0</span>)===<span class="string">"&lt;"</span>&amp;&amp;!bb.test(j)&amp;&amp;(f.support.checkClone||!bd.test(j))&amp;&amp;(f.support.html5Clone||!bc.test(j))&amp;&amp;(g=!<span class="number">0</span>,h=f.fragments[j],h&amp;&amp;h!==<span class="number">1</span>&amp;&amp;(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&amp;&amp;(f.fragments[j]=h?e:<span class="number">1</span>);<span class="keyword">return</span>&#123;<span class="attr">fragment</span>:e,<span class="attr">cacheable</span>:g&#125;&#125;,f.fragments=&#123;&#125;,f.each(&#123;<span class="attr">appendTo</span>:<span class="string">"append"</span>,<span class="attr">prependTo</span>:<span class="string">"prepend"</span>,<span class="attr">insertBefore</span>:<span class="string">"before"</span>,<span class="attr">insertAfter</span>:<span class="string">"after"</span>,<span class="attr">replaceAll</span>:<span class="string">"replaceWith"</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.fn[a]=<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;<span class="keyword">var</span> d=[],e=f(c),g=<span class="keyword">this</span>.length===<span class="number">1</span>&amp;&amp;<span class="keyword">this</span>[<span class="number">0</span>].parentNode;<span class="keyword">if</span>(g&amp;&amp;g.nodeType===<span class="number">11</span>&amp;&amp;g.childNodes.length===<span class="number">1</span>&amp;&amp;e.length===<span class="number">1</span>)&#123;e[b](<span class="keyword">this</span>[<span class="number">0</span>]);<span class="keyword">return</span> <span class="keyword">this</span>&#125;<span class="keyword">for</span>(<span class="keyword">var</span> h=<span class="number">0</span>,i=e.length;h&lt;i;h++)&#123;<span class="keyword">var</span> j=(h&gt;<span class="number">0</span>?<span class="keyword">this</span>.clone(!<span class="number">0</span>):<span class="keyword">this</span>).get();f(e[h])[b](j),d=d.concat(j)&#125;<span class="keyword">return</span> <span class="keyword">this</span>.pushStack(d,a,e.selector)&#125;&#125;),f.extend(&#123;<span class="attr">clone</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d,e,g,h=f.support.html5Clone||!bc.test(<span class="string">"&lt;"</span>+a.nodeName)?a.cloneNode(!<span class="number">0</span>):bo(a);<span class="keyword">if</span>((!f.support.noCloneEvent||!f.support.noCloneChecked)&amp;&amp;(a.nodeType===<span class="number">1</span>||a.nodeType===<span class="number">11</span>)&amp;&amp;!f.isXMLDoc(a))&#123;bk(a,h),d=bl(a),e=bl(h);<span class="keyword">for</span>(g=<span class="number">0</span>;d[g];++g)e[g]&amp;&amp;bk(d[g],e[g])&#125;<span class="keyword">if</span>(b)&#123;bj(a,h);<span class="keyword">if</span>(c)&#123;d=bl(a),e=bl(h);<span class="keyword">for</span>(g=<span class="number">0</span>;d[g];++g)bj(d[g],e[g])&#125;&#125;d=e=<span class="literal">null</span>;<span class="keyword">return</span> h&#125;,<span class="attr">clean</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,d,e</span>)</span>&#123;<span class="keyword">var</span> g;b=b||c,<span class="keyword">typeof</span> b.createElement==<span class="string">"undefined"</span>&amp;&amp;(b=b.ownerDocument||b[<span class="number">0</span>]&amp;&amp;b[<span class="number">0</span>].ownerDocument||c);<span class="keyword">var</span> h=[],i;<span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>,k;(k=a[j])!=<span class="literal">null</span>;j++)&#123;<span class="keyword">typeof</span> k==<span class="string">"number"</span>&amp;&amp;(k+=<span class="string">""</span>);<span class="keyword">if</span>(!k)<span class="keyword">continue</span>;<span class="keyword">if</span>(<span class="keyword">typeof</span> k==<span class="string">"string"</span>)<span class="keyword">if</span>(!_.test(k))k=b.createTextNode(k);<span class="keyword">else</span>&#123;k=k.replace(Y,<span class="string">"&lt;$1&gt;&lt;/$2&gt;"</span>);<span class="keyword">var</span> l=(Z.exec(k)||[<span class="string">""</span>,<span class="string">""</span>])[<span class="number">1</span>].toLowerCase(),m=bg[l]||bg._default,n=m[<span class="number">0</span>],o=b.createElement(<span class="string">"div"</span>);b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[<span class="number">1</span>]+k+m[<span class="number">2</span>];<span class="keyword">while</span>(n--)o=o.lastChild;<span class="keyword">if</span>(!f.support.tbody)&#123;<span class="keyword">var</span> p=$.test(k),q=l===<span class="string">"table"</span>&amp;&amp;!p?o.firstChild&amp;&amp;o.firstChild.childNodes:m[<span class="number">1</span>]===<span class="string">"&lt;table&gt;"</span>&amp;&amp;!p?o.childNodes:[];<span class="keyword">for</span>(i=q.length<span class="number">-1</span>;i&gt;=<span class="number">0</span>;--i)f.nodeName(q[i],<span class="string">"tbody"</span>)&amp;&amp;!q[i].childNodes.length&amp;&amp;q[i].parentNode.removeChild(q[i])&#125;!f.support.leadingWhitespace&amp;&amp;X.test(k)&amp;&amp;o.insertBefore(b.createTextNode(X.exec(k)[<span class="number">0</span>]),o.firstChild),k=o.childNodes&#125;<span class="keyword">var</span> r;<span class="keyword">if</span>(!f.support.appendChecked)<span class="keyword">if</span>(k[<span class="number">0</span>]&amp;&amp;<span class="keyword">typeof</span> (r=k.length)==<span class="string">"number"</span>)<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;r;i++)bn(k[i]);<span class="keyword">else</span> bn(k);k.nodeType?h.push(k):h=f.merge(h,k)&#125;<span class="keyword">if</span>(d)&#123;g=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!a.type||be.test(a.type)&#125;;<span class="keyword">for</span>(j=<span class="number">0</span>;h[j];j++)<span class="keyword">if</span>(e&amp;&amp;f.nodeName(h[j],<span class="string">"script"</span>)&amp;&amp;(!h[j].type||h[j].type.toLowerCase()===<span class="string">"text/javascript"</span>))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);<span class="keyword">else</span>&#123;<span class="keyword">if</span>(h[j].nodeType===<span class="number">1</span>)&#123;<span class="keyword">var</span> s=f.grep(h[j].getElementsByTagName(<span class="string">"script"</span>),g);h.splice.apply(h,[j+<span class="number">1</span>,<span class="number">0</span>].concat(s))&#125;d.appendChild(h[j])&#125;&#125;<span class="keyword">return</span> h&#125;,<span class="attr">cleanData</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;<span class="keyword">for</span>(<span class="keyword">var</span> h=<span class="number">0</span>,i;(i=a[h])!=<span class="literal">null</span>;h++)&#123;<span class="keyword">if</span>(i.nodeName&amp;&amp;f.noData[i.nodeName.toLowerCase()])<span class="keyword">continue</span>;c=i[f.expando];<span class="keyword">if</span>(c)&#123;b=d[c];<span class="keyword">if</span>(b&amp;&amp;b.events)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> j <span class="keyword">in</span> b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&amp;&amp;(b.handle.elem=<span class="literal">null</span>)&#125;g?<span class="keyword">delete</span> i[f.expando]:i.removeAttribute&amp;&amp;i.removeAttribute(f.expando),<span class="keyword">delete</span> d[c]&#125;&#125;&#125;&#125;);<span class="keyword">var</span> bq=<span class="regexp">/alpha\([^)]*\)/i</span>,br=<span class="regexp">/opacity=([^)]*)/</span>,bs=<span class="regexp">/([A-Z]|^ms)/g</span>,bt=<span class="regexp">/^-?\d+(?:px)?$/i</span>,bu=<span class="regexp">/^-?\d/</span>,bv=<span class="regexp">/^([\-+])=([\-+.\de]+)/</span>,bw=&#123;<span class="attr">position</span>:<span class="string">"absolute"</span>,<span class="attr">visibility</span>:<span class="string">"hidden"</span>,<span class="attr">display</span>:<span class="string">"block"</span>&#125;,bx=[<span class="string">"Left"</span>,<span class="string">"Right"</span>],by=[<span class="string">"Top"</span>,<span class="string">"Bottom"</span>],bz,bA,bB;f.fn.css=<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">if</span>(<span class="built_in">arguments</span>.length===<span class="number">2</span>&amp;&amp;c===b)<span class="keyword">return</span> <span class="keyword">this</span>;<span class="keyword">return</span> f.access(<span class="keyword">this</span>,a,c,!<span class="number">0</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">return</span> d!==b?f.style(a,c,d):f.css(a,c)&#125;)&#125;,f.extend(&#123;<span class="attr">cssHooks</span>:&#123;<span class="attr">opacity</span>:&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(b)&#123;<span class="keyword">var</span> c=bz(a,<span class="string">"opacity"</span>,<span class="string">"opacity"</span>);<span class="keyword">return</span> c===<span class="string">""</span>?<span class="string">"1"</span>:c&#125;<span class="keyword">return</span> a.style.opacity&#125;&#125;&#125;,<span class="attr">cssNumber</span>:&#123;<span class="attr">fillOpacity</span>:!<span class="number">0</span>,<span class="attr">fontWeight</span>:!<span class="number">0</span>,<span class="attr">lineHeight</span>:!<span class="number">0</span>,<span class="attr">opacity</span>:!<span class="number">0</span>,<span class="attr">orphans</span>:!<span class="number">0</span>,<span class="attr">widows</span>:!<span class="number">0</span>,<span class="attr">zIndex</span>:!<span class="number">0</span>,<span class="attr">zoom</span>:!<span class="number">0</span>&#125;,<span class="attr">cssProps</span>:&#123;<span class="string">"float"</span>:f.support.cssFloat?<span class="string">"cssFloat"</span>:<span class="string">"styleFloat"</span>&#125;,<span class="attr">style</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d,e</span>)</span>&#123;<span class="keyword">if</span>(!!a&amp;&amp;a.nodeType!==<span class="number">3</span>&amp;&amp;a.nodeType!==<span class="number">8</span>&amp;&amp;!!a.style)&#123;<span class="keyword">var</span> g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;<span class="keyword">if</span>(d===b)&#123;<span class="keyword">if</span>(k&amp;&amp;<span class="string">"get"</span><span class="keyword">in</span> k&amp;&amp;(g=k.get(a,!<span class="number">1</span>,e))!==b)<span class="keyword">return</span> g;<span class="keyword">return</span> j[c]&#125;h=<span class="keyword">typeof</span> d,h===<span class="string">"string"</span>&amp;&amp;(g=bv.exec(d))&amp;&amp;(d=+(g[<span class="number">1</span>]+<span class="number">1</span>)*+g[<span class="number">2</span>]+<span class="built_in">parseFloat</span>(f.css(a,c)),h=<span class="string">"number"</span>);<span class="keyword">if</span>(d==<span class="literal">null</span>||h===<span class="string">"number"</span>&amp;&amp;<span class="built_in">isNaN</span>(d))<span class="keyword">return</span>;h===<span class="string">"number"</span>&amp;&amp;!f.cssNumber[i]&amp;&amp;(d+=<span class="string">"px"</span>);<span class="keyword">if</span>(!k||!(<span class="string">"set"</span><span class="keyword">in</span> k)||(d=k.set(a,d))!==b)<span class="keyword">try</span>&#123;j[c]=d&#125;<span class="keyword">catch</span>(l)&#123;&#125;&#125;&#125;,<span class="attr">css</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c===<span class="string">"cssFloat"</span>&amp;&amp;(c=<span class="string">"float"</span>);<span class="keyword">if</span>(g&amp;&amp;<span class="string">"get"</span><span class="keyword">in</span> g&amp;&amp;(e=g.get(a,!<span class="number">0</span>,d))!==b)<span class="keyword">return</span> e;<span class="keyword">if</span>(bz)<span class="keyword">return</span> bz(a,c)&#125;,<span class="attr">swap</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=&#123;&#125;;<span class="keyword">for</span>(<span class="keyword">var</span> e <span class="keyword">in</span> b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);<span class="keyword">for</span>(e <span class="keyword">in</span> b)a.style[e]=d[e]&#125;&#125;),f.curCSS=f.css,f.each([<span class="string">"height"</span>,<span class="string">"width"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.cssHooks[b]=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">var</span> e;<span class="keyword">if</span>(c)&#123;<span class="keyword">if</span>(a.offsetWidth!==<span class="number">0</span>)<span class="keyword">return</span> bC(a,b,d);f.swap(a,bw,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e=bC(a,b,d)&#125;);<span class="keyword">return</span> e&#125;&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(!bt.test(b))<span class="keyword">return</span> b;b=<span class="built_in">parseFloat</span>(b);<span class="keyword">if</span>(b&gt;=<span class="number">0</span>)<span class="keyword">return</span> b+<span class="string">"px"</span>&#125;&#125;&#125;),f.support.opacity||(f.cssHooks.opacity=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> br.test((b&amp;&amp;a.currentStyle?a.currentStyle.filter:a.style.filter)||<span class="string">""</span>)?<span class="built_in">parseFloat</span>(<span class="built_in">RegExp</span>.$<span class="number">1</span>)/<span class="number">100</span>+<span class="string">""</span>:b?<span class="string">"1"</span>:<span class="string">""</span>&#125;,<span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=a.style,d=a.currentStyle,e=f.isNumeric(b)?<span class="string">"alpha(opacity="</span>+b*<span class="number">100</span>+<span class="string">")"</span>:<span class="string">""</span>,g=d&amp;&amp;d.filter||c.filter||<span class="string">""</span>;c.zoom=<span class="number">1</span>;<span class="keyword">if</span>(b&gt;=<span class="number">1</span>&amp;&amp;f.trim(g.replace(bq,<span class="string">""</span>))===<span class="string">""</span>)&#123;c.removeAttribute(<span class="string">"filter"</span>);<span class="keyword">if</span>(d&amp;&amp;!d.filter)<span class="keyword">return</span>&#125;c.filter=bq.test(g)?g.replace(bq,e):g+<span class="string">" "</span>+e&#125;&#125;),f(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;f.support.reliableMarginRight||(f.cssHooks.marginRight=&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c;f.swap(a,&#123;<span class="attr">display</span>:<span class="string">"inline-block"</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;b?c=bz(a,<span class="string">"margin-right"</span>,<span class="string">"marginRight"</span>):c=a.style.marginRight&#125;);<span class="keyword">return</span> c&#125;&#125;)&#125;),c.defaultView&amp;&amp;c.defaultView.getComputedStyle&amp;&amp;(bA=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c,d,e;b=b.replace(bs,<span class="string">"-$1"</span>).toLowerCase(),(d=a.ownerDocument.defaultView)&amp;&amp;(e=d.getComputedStyle(a,<span class="literal">null</span>))&amp;&amp;(c=e.getPropertyValue(b),c===<span class="string">""</span>&amp;&amp;!f.contains(a.ownerDocument.documentElement,a)&amp;&amp;(c=f.style(a,b)));<span class="keyword">return</span> c&#125;),c.documentElement.currentStyle&amp;&amp;(bB=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c,d,e,f=a.currentStyle&amp;&amp;a.currentStyle[b],g=a.style;f===<span class="literal">null</span>&amp;&amp;g&amp;&amp;(e=g[b])&amp;&amp;(f=e),!bt.test(f)&amp;&amp;bu.test(f)&amp;&amp;(c=g.left,d=a.runtimeStyle&amp;&amp;a.runtimeStyle.left,d&amp;&amp;(a.runtimeStyle.left=a.currentStyle.left),g.left=b===<span class="string">"fontSize"</span>?<span class="string">"1em"</span>:f||<span class="number">0</span>,f=g.pixelLeft+<span class="string">"px"</span>,g.left=c,d&amp;&amp;(a.runtimeStyle.left=d));<span class="keyword">return</span> f===<span class="string">""</span>?<span class="string">"auto"</span>:f&#125;),bz=bA||bB,f.expr&amp;&amp;f.expr.filters&amp;&amp;(f.expr.filters.hidden=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.offsetWidth,c=a.offsetHeight;<span class="keyword">return</span> b===<span class="number">0</span>&amp;&amp;c===<span class="number">0</span>||!f.support.reliableHiddenOffsets&amp;&amp;(a.style&amp;&amp;a.style.display||f.css(a,<span class="string">"display"</span>))===<span class="string">"none"</span>&#125;,f.expr.filters.visible=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span>!f.expr.filters.hidden(a)&#125;);<span class="keyword">var</span> bD=<span class="regexp">/%20/g</span>,bE=<span class="regexp">/\[\]$/</span>,bF=<span class="regexp">/\r?\n/g</span>,bG=<span class="regexp">/#.*$/</span>,bH=<span class="regexp">/^(.*?):[ \t]*([^\r\n]*)\r?$/mg</span>,bI=<span class="regexp">/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i</span>,bJ=<span class="regexp">/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/</span>,bK=<span class="regexp">/^(?:GET|HEAD)$/</span>,bL=<span class="regexp">/^\/\//</span>,bM=<span class="regexp">/\?/</span>,bN=<span class="regexp">/&lt;script\b[^&lt;]*(?:(?!&lt;\/script&gt;)&lt;[^&lt;]*)*&lt;\/script&gt;/gi</span>,bO=<span class="regexp">/^(?:select|textarea)/i</span>,bP=<span class="regexp">/\s+/</span>,bQ=<span class="regexp">/([?&amp;])_=[^&amp;]*/</span>,bR=<span class="regexp">/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/</span>,bS=f.fn.load,bT=&#123;&#125;,bU=&#123;&#125;,bV,bW,bX=[<span class="string">"*/"</span>]+[<span class="string">"*"</span>];<span class="keyword">try</span>&#123;bV=e.href&#125;<span class="keyword">catch</span>(bY)&#123;bV=c.createElement(<span class="string">"a"</span>),bV.href=<span class="string">""</span>,bV=bV.href&#125;bW=bR.exec(bV.toLowerCase())||[],f.fn.extend(&#123;<span class="attr">load</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> a!=<span class="string">"string"</span>&amp;&amp;bS)<span class="keyword">return</span> bS.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);<span class="keyword">if</span>(!<span class="keyword">this</span>.length)<span class="keyword">return</span> <span class="keyword">this</span>;<span class="keyword">var</span> e=a.indexOf(<span class="string">" "</span>);<span class="keyword">if</span>(e&gt;=<span class="number">0</span>)&#123;<span class="keyword">var</span> g=a.slice(e,a.length);a=a.slice(<span class="number">0</span>,e)&#125;<span class="keyword">var</span> h=<span class="string">"GET"</span>;c&amp;&amp;(f.isFunction(c)?(d=c,c=b):<span class="keyword">typeof</span> c==<span class="string">"object"</span>&amp;&amp;(c=f.param(c,f.ajaxSettings.traditional),h=<span class="string">"POST"</span>));<span class="keyword">var</span> i=<span class="keyword">this</span>;f.ajax(&#123;<span class="attr">url</span>:a,<span class="attr">type</span>:h,<span class="attr">dataType</span>:<span class="string">"html"</span>,<span class="attr">data</span>:c,<span class="attr">complete</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;c=a.responseText,a.isResolved()&amp;&amp;(a.done(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;c=a&#125;),i.html(g?f(<span class="string">"&lt;div&gt;"</span>).append(c.replace(bN,<span class="string">""</span>)).find(g):c)),d&amp;&amp;i.each(d,[c,b,a])&#125;&#125;);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">serialize</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> f.param(<span class="keyword">this</span>.serializeArray())&#125;,<span class="attr">serializeArray</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.elements?f.makeArray(<span class="keyword">this</span>.elements):<span class="keyword">this</span>&#125;).filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.name&amp;&amp;!<span class="keyword">this</span>.disabled&amp;&amp;(<span class="keyword">this</span>.checked||bO.test(<span class="keyword">this</span>.nodeName)||bI.test(<span class="keyword">this</span>.type))&#125;).map(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">var</span> c=f(<span class="keyword">this</span>).val();<span class="keyword">return</span> c==<span class="literal">null</span>?<span class="literal">null</span>:f.isArray(c)?f.map(c,<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">name</span>:b.name,<span class="attr">value</span>:a.replace(bF,<span class="string">"\r\n"</span>)&#125;&#125;):&#123;<span class="attr">name</span>:b.name,<span class="attr">value</span>:c.replace(bF,<span class="string">"\r\n"</span>)&#125;&#125;).get()&#125;&#125;),f.each(<span class="string">"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend"</span>.split(<span class="string">" "</span>),<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.fn[b]=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.on(b,a)&#125;&#125;),f.each([<span class="string">"get"</span>,<span class="string">"post"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;f[c]=<span class="function"><span class="keyword">function</span>(<span class="params">a,d,e,g</span>)</span>&#123;f.isFunction(d)&amp;&amp;(g=g||e,e=d,d=b);<span class="keyword">return</span> f.ajax(&#123;<span class="attr">type</span>:c,<span class="attr">url</span>:a,<span class="attr">data</span>:d,<span class="attr">success</span>:e,<span class="attr">dataType</span>:g&#125;)&#125;&#125;),f.extend(&#123;<span class="attr">getScript</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">return</span> f.get(a,b,c,<span class="string">"script"</span>)&#125;,<span class="attr">getJSON</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> f.get(a,b,c,<span class="string">"json"</span>)&#125;,<span class="attr">ajaxSetup</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);<span class="keyword">return</span> a&#125;,<span class="attr">ajaxSettings</span>:&#123;<span class="attr">url</span>:bV,<span class="attr">isLocal</span>:bJ.test(bW[<span class="number">1</span>]),<span class="attr">global</span>:!<span class="number">0</span>,<span class="attr">type</span>:<span class="string">"GET"</span>,<span class="attr">contentType</span>:<span class="string">"application/x-www-form-urlencoded"</span>,<span class="attr">processData</span>:!<span class="number">0</span>,<span class="attr">async</span>:!<span class="number">0</span>,<span class="attr">accepts</span>:&#123;<span class="attr">xml</span>:<span class="string">"application/xml, text/xml"</span>,<span class="attr">html</span>:<span class="string">"text/html"</span>,<span class="attr">text</span>:<span class="string">"text/plain"</span>,<span class="attr">json</span>:<span class="string">"application/json, text/javascript"</span>,<span class="string">"*"</span>:bX&#125;,<span class="attr">contents</span>:&#123;<span class="attr">xml</span>:<span class="regexp">/xml/</span>,<span class="attr">html</span>:<span class="regexp">/html/</span>,<span class="attr">json</span>:<span class="regexp">/json/</span>&#125;,<span class="attr">responseFields</span>:&#123;<span class="attr">xml</span>:<span class="string">"responseXML"</span>,<span class="attr">text</span>:<span class="string">"responseText"</span>&#125;,<span class="attr">converters</span>:&#123;<span class="string">"* text"</span>:a.String,<span class="string">"text html"</span>:!<span class="number">0</span>,<span class="string">"text json"</span>:f.parseJSON,<span class="string">"text xml"</span>:f.parseXML&#125;,<span class="attr">flatOptions</span>:&#123;<span class="attr">context</span>:!<span class="number">0</span>,<span class="attr">url</span>:!<span class="number">0</span>&#125;&#125;,<span class="attr">ajaxPrefilter</span>:bZ(bT),<span class="attr">ajaxTransport</span>:bZ(bU),<span class="attr">ajax</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">w</span>(<span class="params">a,c,l,m</span>)</span>&#123;<span class="keyword">if</span>(s!==<span class="number">2</span>)&#123;s=<span class="number">2</span>,q&amp;&amp;clearTimeout(q),p=b,n=m||<span class="string">""</span>,v.readyState=a&gt;<span class="number">0</span>?<span class="number">4</span>:<span class="number">0</span>;<span class="keyword">var</span> o,r,u,w=c,x=l?cb(d,v,l):b,y,z;<span class="keyword">if</span>(a&gt;=<span class="number">200</span>&amp;&amp;a&lt;<span class="number">300</span>||a===<span class="number">304</span>)&#123;<span class="keyword">if</span>(d.ifModified)&#123;<span class="keyword">if</span>(y=v.getResponseHeader(<span class="string">"Last-Modified"</span>))f.lastModified[k]=y;<span class="keyword">if</span>(z=v.getResponseHeader(<span class="string">"Etag"</span>))f.etag[k]=z&#125;<span class="keyword">if</span>(a===<span class="number">304</span>)w=<span class="string">"notmodified"</span>,o=!<span class="number">0</span>;<span class="keyword">else</span> <span class="keyword">try</span>&#123;r=cc(d,x),w=<span class="string">"success"</span>,o=!<span class="number">0</span>&#125;<span class="keyword">catch</span>(A)&#123;w=<span class="string">"parsererror"</span>,u=A&#125;&#125;<span class="keyword">else</span>&#123;u=w;<span class="keyword">if</span>(!w||a)w=<span class="string">"error"</span>,a&lt;<span class="number">0</span>&amp;&amp;(a=<span class="number">0</span>)&#125;v.status=a,v.statusText=<span class="string">""</span>+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&amp;&amp;g.trigger(<span class="string">"ajax"</span>+(o?<span class="string">"Success"</span>:<span class="string">"Error"</span>),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&amp;&amp;(g.trigger(<span class="string">"ajaxComplete"</span>,[v,d]),--f.active||f.event.trigger(<span class="string">"ajaxStop"</span>))&#125;&#125;<span class="keyword">typeof</span> a==<span class="string">"object"</span>&amp;&amp;(c=a,a=b),c=c||&#123;&#125;;<span class="keyword">var</span> d=f.ajaxSetup(&#123;&#125;,c),e=d.context||d,g=e!==d&amp;&amp;(e.nodeType||e <span class="keyword">instanceof</span> f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks(<span class="string">"once memory"</span>),j=d.statusCode||&#123;&#125;,k,l=&#123;&#125;,m=&#123;&#125;,n,o,p,q,r,s=<span class="number">0</span>,t,u,v=&#123;<span class="attr">readyState</span>:<span class="number">0</span>,<span class="attr">setRequestHeader</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(!s)&#123;<span class="keyword">var</span> c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">getAllResponseHeaders</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> s===<span class="number">2</span>?n:<span class="literal">null</span>&#125;,<span class="attr">getResponseHeader</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> c;<span class="keyword">if</span>(s===<span class="number">2</span>)&#123;<span class="keyword">if</span>(!o)&#123;o=&#123;&#125;;<span class="keyword">while</span>(c=bH.exec(n))o[c[<span class="number">1</span>].toLowerCase()]=c[<span class="number">2</span>]&#125;c=o[a.toLowerCase()]&#125;<span class="keyword">return</span> c===b?<span class="literal">null</span>:c&#125;,<span class="attr">overrideMimeType</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;s||(d.mimeType=a);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">abort</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a=a||<span class="string">"abort"</span>,p&amp;&amp;p.abort(a),w(<span class="number">0</span>,a);<span class="keyword">return</span> <span class="keyword">this</span>&#125;&#125;;h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a)&#123;<span class="keyword">var</span> b;<span class="keyword">if</span>(s&lt;<span class="number">2</span>)<span class="keyword">for</span>(b <span class="keyword">in</span> a)j[b]=[j[b],a[b]];<span class="keyword">else</span> b=a[v.status],v.then(b,b)&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,d.url=((a||d.url)+<span class="string">""</span>).replace(bG,<span class="string">""</span>).replace(bL,bW[<span class="number">1</span>]+<span class="string">"//"</span>),d.dataTypes=f.trim(d.dataType||<span class="string">"*"</span>).toLowerCase().split(bP),d.crossDomain==<span class="literal">null</span>&amp;&amp;(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[<span class="number">1</span>]==bW[<span class="number">1</span>]&amp;&amp;r[<span class="number">2</span>]==bW[<span class="number">2</span>]&amp;&amp;(r[<span class="number">3</span>]||(r[<span class="number">1</span>]===<span class="string">"http:"</span>?<span class="number">80</span>:<span class="number">443</span>))==(bW[<span class="number">3</span>]||(bW[<span class="number">1</span>]===<span class="string">"http:"</span>?<span class="number">80</span>:<span class="number">443</span>)))),d.data&amp;&amp;d.processData&amp;&amp;<span class="keyword">typeof</span> d.data!=<span class="string">"string"</span>&amp;&amp;(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);<span class="keyword">if</span>(s===<span class="number">2</span>)<span class="keyword">return</span>!<span class="number">1</span>;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&amp;&amp;f.active++===<span class="number">0</span>&amp;&amp;f.event.trigger(<span class="string">"ajaxStart"</span>);<span class="keyword">if</span>(!d.hasContent)&#123;d.data&amp;&amp;(d.url+=(bM.test(d.url)?<span class="string">"&amp;"</span>:<span class="string">"?"</span>)+d.data,<span class="keyword">delete</span> d.data),k=d.url;<span class="keyword">if</span>(d.cache===!<span class="number">1</span>)&#123;<span class="keyword">var</span> x=f.now(),y=d.url.replace(bQ,<span class="string">"$1_="</span>+x);d.url=y+(y===d.url?(bM.test(d.url)?<span class="string">"&amp;"</span>:<span class="string">"?"</span>)+<span class="string">"_="</span>+x:<span class="string">""</span>)&#125;&#125;(d.data&amp;&amp;d.hasContent&amp;&amp;d.contentType!==!<span class="number">1</span>||c.contentType)&amp;&amp;v.setRequestHeader(<span class="string">"Content-Type"</span>,d.contentType),d.ifModified&amp;&amp;(k=k||d.url,f.lastModified[k]&amp;&amp;v.setRequestHeader(<span class="string">"If-Modified-Since"</span>,f.lastModified[k]),f.etag[k]&amp;&amp;v.setRequestHeader(<span class="string">"If-None-Match"</span>,f.etag[k])),v.setRequestHeader(<span class="string">"Accept"</span>,d.dataTypes[<span class="number">0</span>]&amp;&amp;d.accepts[d.dataTypes[<span class="number">0</span>]]?d.accepts[d.dataTypes[<span class="number">0</span>]]+(d.dataTypes[<span class="number">0</span>]!==<span class="string">"*"</span>?<span class="string">", "</span>+bX+<span class="string">"; q=0.01"</span>:<span class="string">""</span>):d.accepts[<span class="string">"*"</span>]);<span class="keyword">for</span>(u <span class="keyword">in</span> d.headers)v.setRequestHeader(u,d.headers[u]);<span class="keyword">if</span>(d.beforeSend&amp;&amp;(d.beforeSend.call(e,v,d)===!<span class="number">1</span>||s===<span class="number">2</span>))&#123;v.abort();<span class="keyword">return</span>!<span class="number">1</span>&#125;<span class="keyword">for</span>(u <span class="keyword">in</span>&#123;<span class="attr">success</span>:<span class="number">1</span>,<span class="attr">error</span>:<span class="number">1</span>,<span class="attr">complete</span>:<span class="number">1</span>&#125;)v[u](d[u]);p=b$(bU,d,c,v);<span class="keyword">if</span>(!p)w(<span class="number">-1</span>,<span class="string">"No Transport"</span>);<span class="keyword">else</span>&#123;v.readyState=<span class="number">1</span>,t&amp;&amp;g.trigger(<span class="string">"ajaxSend"</span>,[v,d]),d.async&amp;&amp;d.timeout&gt;<span class="number">0</span>&amp;&amp;(q=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;v.abort(<span class="string">"timeout"</span>)&#125;,d.timeout));<span class="keyword">try</span>&#123;s=<span class="number">1</span>,p.send(l,w)&#125;<span class="keyword">catch</span>(z)&#123;<span class="keyword">if</span>(s&lt;<span class="number">2</span>)w(<span class="number">-1</span>,z);<span class="keyword">else</span> <span class="keyword">throw</span> z&#125;&#125;<span class="keyword">return</span> v&#125;,<span class="attr">param</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d=[],e=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;b=f.isFunction(b)?b():b,d[d.length]=<span class="built_in">encodeURIComponent</span>(a)+<span class="string">"="</span>+<span class="built_in">encodeURIComponent</span>(b)&#125;;c===b&amp;&amp;(c=f.ajaxSettings.traditional);<span class="keyword">if</span>(f.isArray(a)||a.jquery&amp;&amp;!f.isPlainObject(a))f.each(a,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e(<span class="keyword">this</span>.name,<span class="keyword">this</span>.value)&#125;);<span class="keyword">else</span> <span class="keyword">for</span>(<span class="keyword">var</span> g <span class="keyword">in</span> a)ca(g,a[g],c,e);<span class="keyword">return</span> d.join(<span class="string">"&amp;"</span>).replace(bD,<span class="string">"+"</span>)&#125;&#125;),f.extend(&#123;<span class="attr">active</span>:<span class="number">0</span>,<span class="attr">lastModified</span>:&#123;&#125;,<span class="attr">etag</span>:&#123;&#125;&#125;);<span class="keyword">var</span> cd=f.now(),ce=<span class="regexp">/(\=)\?(&amp;|$)|\?\?/i</span>;f.ajaxSetup(&#123;<span class="attr">jsonp</span>:<span class="string">"callback"</span>,<span class="attr">jsonpCallback</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> f.expando+<span class="string">"_"</span>+cd++&#125;&#125;),f.ajaxPrefilter(<span class="string">"json jsonp"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">b,c,d</span>)</span>&#123;<span class="keyword">var</span> e=b.contentType===<span class="string">"application/x-www-form-urlencoded"</span>&amp;&amp;<span class="keyword">typeof</span> b.data==<span class="string">"string"</span>;<span class="keyword">if</span>(b.dataTypes[<span class="number">0</span>]===<span class="string">"jsonp"</span>||b.jsonp!==!<span class="number">1</span>&amp;&amp;(ce.test(b.url)||e&amp;&amp;ce.test(b.data)))&#123;<span class="keyword">var</span> g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l=<span class="string">"$1"</span>+h+<span class="string">"$2"</span>;b.jsonp!==!<span class="number">1</span>&amp;&amp;(j=j.replace(ce,l),b.url===j&amp;&amp;(e&amp;&amp;(k=k.replace(ce,l)),b.data===k&amp;&amp;(j+=(<span class="regexp">/\?/</span>.test(j)?<span class="string">"&amp;"</span>:<span class="string">"?"</span>)+b.jsonp+<span class="string">"="</span>+h))),b.url=j,b.data=k,a[h]=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;g=[a]&#125;,d.always(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;a[h]=i,g&amp;&amp;f.isFunction(i)&amp;&amp;a[h](g[<span class="number">0</span>])&#125;),b.converters[<span class="string">"script json"</span>]=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;g||f.error(h+<span class="string">" was not called"</span>);<span class="keyword">return</span> g[<span class="number">0</span>]&#125;,b.dataTypes[<span class="number">0</span>]=<span class="string">"json"</span>;<span class="keyword">return</span><span class="string">"script"</span>&#125;&#125;),f.ajaxSetup(&#123;<span class="attr">accepts</span>:&#123;<span class="attr">script</span>:<span class="string">"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"</span>&#125;,<span class="attr">contents</span>:&#123;<span class="attr">script</span>:<span class="regexp">/javascript|ecmascript/</span>&#125;,<span class="attr">converters</span>:&#123;<span class="string">"text script"</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f.globalEval(a);<span class="keyword">return</span> a&#125;&#125;&#125;),f.ajaxPrefilter(<span class="string">"script"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a.cache===b&amp;&amp;(a.cache=!<span class="number">1</span>),a.crossDomain&amp;&amp;(a.type=<span class="string">"GET"</span>,a.global=!<span class="number">1</span>)&#125;),f.ajaxTransport(<span class="string">"script"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a.crossDomain)&#123;<span class="keyword">var</span> d,e=c.head||c.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>]||c.documentElement;<span class="keyword">return</span>&#123;<span class="attr">send</span>:<span class="function"><span class="keyword">function</span>(<span class="params">f,g</span>)</span>&#123;d=c.createElement(<span class="string">"script"</span>),d.async=<span class="string">"async"</span>,a.scriptCharset&amp;&amp;(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">if</span>(c||!d.readyState||<span class="regexp">/loaded|complete/</span>.test(d.readyState))d.onload=d.onreadystatechange=<span class="literal">null</span>,e&amp;&amp;d.parentNode&amp;&amp;e.removeChild(d),d=b,c||g(<span class="number">200</span>,<span class="string">"success"</span>)&#125;,e.insertBefore(d,e.firstChild)&#125;,<span class="attr">abort</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;d&amp;&amp;d.onload(<span class="number">0</span>,<span class="number">1</span>)&#125;&#125;&#125;&#125;);<span class="keyword">var</span> cf=a.ActiveXObject?<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a <span class="keyword">in</span> ch)ch[a](<span class="number">0</span>,<span class="number">1</span>)&#125;:!<span class="number">1</span>,cg=<span class="number">0</span>,ch;f.ajaxSettings.xhr=a.ActiveXObject?<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>!<span class="keyword">this</span>.isLocal&amp;&amp;ci()||cj()&#125;:ci,<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f.extend(f.support,&#123;<span class="attr">ajax</span>:!!a,<span class="attr">cors</span>:!!a&amp;&amp;<span class="string">"withCredentials"</span><span class="keyword">in</span> a&#125;)&#125;(f.ajaxSettings.xhr()),f.support.ajax&amp;&amp;f.ajaxTransport(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;<span class="keyword">if</span>(!c.crossDomain||f.support.cors)&#123;<span class="keyword">var</span> d;<span class="keyword">return</span>&#123;<span class="attr">send</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e,g</span>)</span>&#123;<span class="keyword">var</span> h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);<span class="keyword">if</span>(c.xhrFields)<span class="keyword">for</span>(j <span class="keyword">in</span> c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&amp;&amp;h.overrideMimeType&amp;&amp;h.overrideMimeType(c.mimeType),!c.crossDomain&amp;&amp;!e[<span class="string">"X-Requested-With"</span>]&amp;&amp;(e[<span class="string">"X-Requested-With"</span>]=<span class="string">"XMLHttpRequest"</span>);<span class="keyword">try</span>&#123;<span class="keyword">for</span>(j <span class="keyword">in</span> e)h.setRequestHeader(j,e[j])&#125;<span class="keyword">catch</span>(k)&#123;&#125;h.send(c.hasContent&amp;&amp;c.data||<span class="literal">null</span>),d=<span class="function"><span class="keyword">function</span>(<span class="params">a,e</span>)</span>&#123;<span class="keyword">var</span> j,k,l,m,n;<span class="keyword">try</span>&#123;<span class="keyword">if</span>(d&amp;&amp;(e||h.readyState===<span class="number">4</span>))&#123;d=b,i&amp;&amp;(h.onreadystatechange=f.noop,cf&amp;&amp;<span class="keyword">delete</span> ch[i]);<span class="keyword">if</span>(e)h.readyState!==<span class="number">4</span>&amp;&amp;h.abort();<span class="keyword">else</span>&#123;j=h.status,l=h.getAllResponseHeaders(),m=&#123;&#125;,n=h.responseXML,n&amp;&amp;n.documentElement&amp;&amp;(m.xml=n),m.text=h.responseText;<span class="keyword">try</span>&#123;k=h.statusText&#125;<span class="keyword">catch</span>(o)&#123;k=<span class="string">""</span>&#125;!j&amp;&amp;c.isLocal&amp;&amp;!c.crossDomain?j=m.text?<span class="number">200</span>:<span class="number">404</span>:j===<span class="number">1223</span>&amp;&amp;(j=<span class="number">204</span>)&#125;&#125;&#125;<span class="keyword">catch</span>(p)&#123;e||g(<span class="number">-1</span>,p)&#125;m&amp;&amp;g(j,k,m,l)&#125;,!c.async||h.readyState===<span class="number">4</span>?d():(i=++cg,cf&amp;&amp;(ch||(ch=&#123;&#125;,f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)&#125;,<span class="attr">abort</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;d&amp;&amp;d(<span class="number">0</span>,<span class="number">1</span>)&#125;&#125;&#125;&#125;);<span class="keyword">var</span> ck=&#123;&#125;,cl,cm,cn=<span class="regexp">/^(?:toggle|show|hide)$/</span>,co=<span class="regexp">/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i</span>,cp,cq=[[<span class="string">"height"</span>,<span class="string">"marginTop"</span>,<span class="string">"marginBottom"</span>,<span class="string">"paddingTop"</span>,<span class="string">"paddingBottom"</span>],[<span class="string">"width"</span>,<span class="string">"marginLeft"</span>,<span class="string">"marginRight"</span>,<span class="string">"paddingLeft"</span>,<span class="string">"paddingRight"</span>],[<span class="string">"opacity"</span>]],cr;f.fn.extend(&#123;<span class="attr">show</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d,e;<span class="keyword">if</span>(a||a===<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">this</span>.animate(cu(<span class="string">"show"</span>,<span class="number">3</span>),a,b,c);<span class="keyword">for</span>(<span class="keyword">var</span> g=<span class="number">0</span>,h=<span class="keyword">this</span>.length;g&lt;h;g++)d=<span class="keyword">this</span>[g],d.style&amp;&amp;(e=d.style.display,!f._data(d,<span class="string">"olddisplay"</span>)&amp;&amp;e===<span class="string">"none"</span>&amp;&amp;(e=d.style.display=<span class="string">""</span>),e===<span class="string">""</span>&amp;&amp;f.css(d,<span class="string">"display"</span>)===<span class="string">"none"</span>&amp;&amp;f._data(d,<span class="string">"olddisplay"</span>,cv(d.nodeName)));<span class="keyword">for</span>(g=<span class="number">0</span>;g&lt;h;g++)&#123;d=<span class="keyword">this</span>[g];<span class="keyword">if</span>(d.style)&#123;e=d.style.display;<span class="keyword">if</span>(e===<span class="string">""</span>||e===<span class="string">"none"</span>)d.style.display=f._data(d,<span class="string">"olddisplay"</span>)||<span class="string">""</span>&#125;&#125;<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">hide</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">if</span>(a||a===<span class="number">0</span>)<span class="keyword">return</span> <span class="keyword">this</span>.animate(cu(<span class="string">"hide"</span>,<span class="number">3</span>),a,b,c);<span class="keyword">var</span> d,e,g=<span class="number">0</span>,h=<span class="keyword">this</span>.length;<span class="keyword">for</span>(;g&lt;h;g++)d=<span class="keyword">this</span>[g],d.style&amp;&amp;(e=f.css(d,<span class="string">"display"</span>),e!==<span class="string">"none"</span>&amp;&amp;!f._data(d,<span class="string">"olddisplay"</span>)&amp;&amp;f._data(d,<span class="string">"olddisplay"</span>,e));<span class="keyword">for</span>(g=<span class="number">0</span>;g&lt;h;g++)<span class="keyword">this</span>[g].style&amp;&amp;(<span class="keyword">this</span>[g].style.display=<span class="string">"none"</span>);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">_toggle</span>:f.fn.toggle,<span class="attr">toggle</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=<span class="keyword">typeof</span> a==<span class="string">"boolean"</span>;f.isFunction(a)&amp;&amp;f.isFunction(b)?<span class="keyword">this</span>._toggle.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>):a==<span class="literal">null</span>||d?<span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b=d?a:f(<span class="keyword">this</span>).is(<span class="string">":hidden"</span>);f(<span class="keyword">this</span>)[b?<span class="string">"show"</span>:<span class="string">"hide"</span>]()&#125;):<span class="keyword">this</span>.animate(cu(<span class="string">"toggle"</span>,<span class="number">3</span>),a,b,c);<span class="keyword">return</span> <span class="keyword">this</span>&#125;,<span class="attr">fadeTo</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.filter(<span class="string">":hidden"</span>).css(<span class="string">"opacity"</span>,<span class="number">0</span>).show().end().animate(&#123;<span class="attr">opacity</span>:b&#125;,a,c,d)&#125;,<span class="attr">animate</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>)</span>&#123;e.queue===!<span class="number">1</span>&amp;&amp;f._mark(<span class="keyword">this</span>);<span class="keyword">var</span> b=f.extend(&#123;&#125;,e),c=<span class="keyword">this</span>.nodeType===<span class="number">1</span>,d=c&amp;&amp;f(<span class="keyword">this</span>).is(<span class="string">":hidden"</span>),g,h,i,j,k,l,m,n,o;b.animatedProperties=&#123;&#125;;<span class="keyword">for</span>(i <span class="keyword">in</span> a)&#123;g=f.camelCase(i),i!==g&amp;&amp;(a[g]=a[i],<span class="keyword">delete</span> a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[<span class="number">1</span>],h=a[g]=h[<span class="number">0</span>]):b.animatedProperties[g]=b.specialEasing&amp;&amp;b.specialEasing[g]||b.easing||<span class="string">"swing"</span>;<span class="keyword">if</span>(h===<span class="string">"hide"</span>&amp;&amp;d||h===<span class="string">"show"</span>&amp;&amp;!d)<span class="keyword">return</span> b.complete.call(<span class="keyword">this</span>);c&amp;&amp;(g===<span class="string">"height"</span>||g===<span class="string">"width"</span>)&amp;&amp;(b.overflow=[<span class="keyword">this</span>.style.overflow,<span class="keyword">this</span>.style.overflowX,<span class="keyword">this</span>.style.overflowY],f.css(<span class="keyword">this</span>,<span class="string">"display"</span>)===<span class="string">"inline"</span>&amp;&amp;f.css(<span class="keyword">this</span>,<span class="string">"float"</span>)===<span class="string">"none"</span>&amp;&amp;(!f.support.inlineBlockNeedsLayout||cv(<span class="keyword">this</span>.nodeName)===<span class="string">"inline"</span>?<span class="keyword">this</span>.style.display=<span class="string">"inline-block"</span>:<span class="keyword">this</span>.style.zoom=<span class="number">1</span>))&#125;b.overflow!=<span class="literal">null</span>&amp;&amp;(<span class="keyword">this</span>.style.overflow=<span class="string">"hidden"</span>);<span class="keyword">for</span>(i <span class="keyword">in</span> a)j=<span class="keyword">new</span> f.fx(<span class="keyword">this</span>,b,i),h=a[i],cn.test(h)?(o=f._data(<span class="keyword">this</span>,<span class="string">"toggle"</span>+i)||(h===<span class="string">"toggle"</span>?d?<span class="string">"show"</span>:<span class="string">"hide"</span>:<span class="number">0</span>),o?(f._data(<span class="keyword">this</span>,<span class="string">"toggle"</span>+i,o===<span class="string">"show"</span>?<span class="string">"hide"</span>:<span class="string">"show"</span>),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=<span class="built_in">parseFloat</span>(k[<span class="number">2</span>]),n=k[<span class="number">3</span>]||(f.cssNumber[i]?<span class="string">""</span>:<span class="string">"px"</span>),n!==<span class="string">"px"</span>&amp;&amp;(f.style(<span class="keyword">this</span>,i,(m||<span class="number">1</span>)+n),l=(m||<span class="number">1</span>)/j.cur()*l,f.style(<span class="keyword">this</span>,i,l+n)),k[<span class="number">1</span>]&amp;&amp;(m=(k[<span class="number">1</span>]===<span class="string">"-="</span>?<span class="number">-1</span>:<span class="number">1</span>)*m+l),j.custom(l,m,n)):j.custom(l,h,<span class="string">""</span>));<span class="keyword">return</span>!<span class="number">0</span>&#125;<span class="keyword">var</span> e=f.speed(b,c,d);<span class="keyword">if</span>(f.isEmptyObject(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(e.complete,[!<span class="number">1</span>]);a=f.extend(&#123;&#125;,a);<span class="keyword">return</span> e.queue===!<span class="number">1</span>?<span class="keyword">this</span>.each(g):<span class="keyword">this</span>.queue(e.queue,g)&#125;,<span class="attr">stop</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">typeof</span> a!=<span class="string">"string"</span>&amp;&amp;(d=c,c=a,a=b),c&amp;&amp;a!==!<span class="number">1</span>&amp;&amp;<span class="keyword">this</span>.queue(a||<span class="string">"fx"</span>,[]);<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> e=b[c];f.removeData(a,c,!<span class="number">0</span>),e.stop(d)&#125;<span class="keyword">var</span> b,c=!<span class="number">1</span>,e=f.timers,g=f._data(<span class="keyword">this</span>);d||f._unmark(!<span class="number">0</span>,<span class="keyword">this</span>);<span class="keyword">if</span>(a==<span class="literal">null</span>)<span class="keyword">for</span>(b <span class="keyword">in</span> g)g[b]&amp;&amp;g[b].stop&amp;&amp;b.indexOf(<span class="string">".run"</span>)===b.length<span class="number">-4</span>&amp;&amp;h(<span class="keyword">this</span>,g,b);<span class="keyword">else</span> g[b=a+<span class="string">".run"</span>]&amp;&amp;g[b].stop&amp;&amp;h(<span class="keyword">this</span>,g,b);<span class="keyword">for</span>(b=e.length;b--;)e[b].elem===<span class="keyword">this</span>&amp;&amp;(a==<span class="literal">null</span>||e[b].queue===a)&amp;&amp;(d?e[b](!<span class="number">0</span>):e[b].saveState(),c=!<span class="number">0</span>,e.splice(b,<span class="number">1</span>));(!d||!c)&amp;&amp;f.dequeue(<span class="keyword">this</span>,a)&#125;)&#125;&#125;),f.each(&#123;<span class="attr">slideDown</span>:cu(<span class="string">"show"</span>,<span class="number">1</span>),<span class="attr">slideUp</span>:cu(<span class="string">"hide"</span>,<span class="number">1</span>),<span class="attr">slideToggle</span>:cu(<span class="string">"toggle"</span>,<span class="number">1</span>),<span class="attr">fadeIn</span>:&#123;<span class="attr">opacity</span>:<span class="string">"show"</span>&#125;,<span class="attr">fadeOut</span>:&#123;<span class="attr">opacity</span>:<span class="string">"hide"</span>&#125;,<span class="attr">fadeToggle</span>:&#123;<span class="attr">opacity</span>:<span class="string">"toggle"</span>&#125;&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.fn[a]=<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.animate(b,a,c,d)&#125;&#125;),f.extend(&#123;<span class="attr">speed</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=a&amp;&amp;<span class="keyword">typeof</span> a==<span class="string">"object"</span>?f.extend(&#123;&#125;,a):&#123;<span class="attr">complete</span>:c||!c&amp;&amp;b||f.isFunction(a)&amp;&amp;a,<span class="attr">duration</span>:a,<span class="attr">easing</span>:c&amp;&amp;b||b&amp;&amp;!f.isFunction(b)&amp;&amp;b&#125;;d.duration=f.fx.off?<span class="number">0</span>:<span class="keyword">typeof</span> d.duration==<span class="string">"number"</span>?d.duration:d.duration <span class="keyword">in</span> f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;<span class="keyword">if</span>(d.queue==<span class="literal">null</span>||d.queue===!<span class="number">0</span>)d.queue=<span class="string">"fx"</span>;d.old=d.complete,d.complete=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f.isFunction(d.old)&amp;&amp;d.old.call(<span class="keyword">this</span>),d.queue?f.dequeue(<span class="keyword">this</span>,d.queue):a!==!<span class="number">1</span>&amp;&amp;f._unmark(<span class="keyword">this</span>)&#125;;<span class="keyword">return</span> d&#125;,<span class="attr">easing</span>:&#123;<span class="attr">linear</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">return</span> c+d*a&#125;,<span class="attr">swing</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c,d</span>)</span>&#123;<span class="keyword">return</span>(-<span class="built_in">Math</span>.cos(a*<span class="built_in">Math</span>.PI)/<span class="number">2</span>+<span class="number">.5</span>)*d+c&#125;&#125;,<span class="attr">timers</span>:[],<span class="attr">fx</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">this</span>.options=b,<span class="keyword">this</span>.elem=a,<span class="keyword">this</span>.prop=c,b.orig=b.orig||&#123;&#125;&#125;&#125;),f.fx.prototype=&#123;<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.options.step&amp;&amp;<span class="keyword">this</span>.options.step.call(<span class="keyword">this</span>.elem,<span class="keyword">this</span>.now,<span class="keyword">this</span>),(f.fx.step[<span class="keyword">this</span>.prop]||f.fx.step._default)(<span class="keyword">this</span>)&#125;,<span class="attr">cur</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>.elem[<span class="keyword">this</span>.prop]!=<span class="literal">null</span>&amp;&amp;(!<span class="keyword">this</span>.elem.style||<span class="keyword">this</span>.elem.style[<span class="keyword">this</span>.prop]==<span class="literal">null</span>))<span class="keyword">return</span> <span class="keyword">this</span>.elem[<span class="keyword">this</span>.prop];<span class="keyword">var</span> a,b=f.css(<span class="keyword">this</span>.elem,<span class="keyword">this</span>.prop);<span class="keyword">return</span> <span class="built_in">isNaN</span>(a=<span class="built_in">parseFloat</span>(b))?!b||b===<span class="string">"auto"</span>?<span class="number">0</span>:b:a&#125;,<span class="attr">custom</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> e.step(a)&#125;<span class="keyword">var</span> e=<span class="keyword">this</span>,g=f.fx;<span class="keyword">this</span>.startTime=cr||cs(),<span class="keyword">this</span>.end=c,<span class="keyword">this</span>.now=<span class="keyword">this</span>.start=a,<span class="keyword">this</span>.pos=<span class="keyword">this</span>.state=<span class="number">0</span>,<span class="keyword">this</span>.unit=d||<span class="keyword">this</span>.unit||(f.cssNumber[<span class="keyword">this</span>.prop]?<span class="string">""</span>:<span class="string">"px"</span>),h.queue=<span class="keyword">this</span>.options.queue,h.elem=<span class="keyword">this</span>.elem,h.saveState=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.options.hide&amp;&amp;f._data(e.elem,<span class="string">"fxshow"</span>+e.prop)===b&amp;&amp;f._data(e.elem,<span class="string">"fxshow"</span>+e.prop,e.start)&#125;,h()&amp;&amp;f.timers.push(h)&amp;&amp;!cp&amp;&amp;(cp=setInterval(g.tick,g.interval))&#125;,<span class="attr">show</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=f._data(<span class="keyword">this</span>.elem,<span class="string">"fxshow"</span>+<span class="keyword">this</span>.prop);<span class="keyword">this</span>.options.orig[<span class="keyword">this</span>.prop]=a||f.style(<span class="keyword">this</span>.elem,<span class="keyword">this</span>.prop),<span class="keyword">this</span>.options.show=!<span class="number">0</span>,a!==b?<span class="keyword">this</span>.custom(<span class="keyword">this</span>.cur(),a):<span class="keyword">this</span>.custom(<span class="keyword">this</span>.prop===<span class="string">"width"</span>||<span class="keyword">this</span>.prop===<span class="string">"height"</span>?<span class="number">1</span>:<span class="number">0</span>,<span class="keyword">this</span>.cur()),f(<span class="keyword">this</span>.elem).show()&#125;,<span class="attr">hide</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.options.orig[<span class="keyword">this</span>.prop]=f._data(<span class="keyword">this</span>.elem,<span class="string">"fxshow"</span>+<span class="keyword">this</span>.prop)||f.style(<span class="keyword">this</span>.elem,<span class="keyword">this</span>.prop),<span class="keyword">this</span>.options.hide=!<span class="number">0</span>,<span class="keyword">this</span>.custom(<span class="keyword">this</span>.cur(),<span class="number">0</span>)&#125;,<span class="attr">step</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b,c,d,e=cr||cs(),g=!<span class="number">0</span>,h=<span class="keyword">this</span>.elem,i=<span class="keyword">this</span>.options;<span class="keyword">if</span>(a||e&gt;=i.duration+<span class="keyword">this</span>.startTime)&#123;<span class="keyword">this</span>.now=<span class="keyword">this</span>.end,<span class="keyword">this</span>.pos=<span class="keyword">this</span>.state=<span class="number">1</span>,<span class="keyword">this</span>.update(),i.animatedProperties[<span class="keyword">this</span>.prop]=!<span class="number">0</span>;<span class="keyword">for</span>(b <span class="keyword">in</span> i.animatedProperties)i.animatedProperties[b]!==!<span class="number">0</span>&amp;&amp;(g=!<span class="number">1</span>);<span class="keyword">if</span>(g)&#123;i.overflow!=<span class="literal">null</span>&amp;&amp;!f.support.shrinkWrapBlocks&amp;&amp;f.each([<span class="string">""</span>,<span class="string">"X"</span>,<span class="string">"Y"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;h.style[<span class="string">"overflow"</span>+b]=i.overflow[a]&#125;),i.hide&amp;&amp;f(h).hide();<span class="keyword">if</span>(i.hide||i.show)<span class="keyword">for</span>(b <span class="keyword">in</span> i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,<span class="string">"fxshow"</span>+b,!<span class="number">0</span>),f.removeData(h,<span class="string">"toggle"</span>+b,!<span class="number">0</span>);d=i.complete,d&amp;&amp;(i.complete=!<span class="number">1</span>,d.call(h))&#125;<span class="keyword">return</span>!<span class="number">1</span>&#125;i.duration==<span class="literal">Infinity</span>?<span class="keyword">this</span>.now=e:(c=e-<span class="keyword">this</span>.startTime,<span class="keyword">this</span>.state=c/i.duration,<span class="keyword">this</span>.pos=f.easing[i.animatedProperties[<span class="keyword">this</span>.prop]](<span class="keyword">this</span>.state,c,<span class="number">0</span>,<span class="number">1</span>,i.duration),<span class="keyword">this</span>.now=<span class="keyword">this</span>.start+(<span class="keyword">this</span>.end-<span class="keyword">this</span>.start)*<span class="keyword">this</span>.pos),<span class="keyword">this</span>.update();<span class="keyword">return</span>!<span class="number">0</span>&#125;&#125;,f.extend(f.fx,&#123;<span class="attr">tick</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a,b=f.timers,c=<span class="number">0</span>;<span class="keyword">for</span>(;c&lt;b.length;c++)a=b[c],!a()&amp;&amp;b[c]===a&amp;&amp;b.splice(c--,<span class="number">1</span>);b.length||f.fx.stop()&#125;,<span class="attr">interval</span>:<span class="number">13</span>,<span class="attr">stop</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;clearInterval(cp),cp=<span class="literal">null</span>&#125;,<span class="attr">speeds</span>:&#123;<span class="attr">slow</span>:<span class="number">600</span>,<span class="attr">fast</span>:<span class="number">200</span>,<span class="attr">_default</span>:<span class="number">400</span>&#125;,<span class="attr">step</span>:&#123;<span class="attr">opacity</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f.style(a.elem,<span class="string">"opacity"</span>,a.now)&#125;,<span class="attr">_default</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a.elem.style&amp;&amp;a.elem.style[a.prop]!=<span class="literal">null</span>?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now&#125;&#125;&#125;),f.each([<span class="string">"width"</span>,<span class="string">"height"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;f.fx.step[b]=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;f.style(a.elem,b,<span class="built_in">Math</span>.max(<span class="number">0</span>,a.now)+a.unit)&#125;&#125;),f.expr&amp;&amp;f.expr.filters&amp;&amp;(f.expr.filters.animated=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> f.grep(f.timers,<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">return</span> a===b.elem&#125;).length&#125;);<span class="keyword">var</span> cw=<span class="regexp">/^t(?:able|d|h)$/i</span>,cx=<span class="regexp">/^(?:body|html)$/i</span>;<span class="string">"getBoundingClientRect"</span><span class="keyword">in</span> c.documentElement?f.fn.offset=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=<span class="keyword">this</span>[<span class="number">0</span>],c;<span class="keyword">if</span>(a)<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;f.offset.setOffset(<span class="keyword">this</span>,a,b)&#125;);<span class="keyword">if</span>(!b||!b.ownerDocument)<span class="keyword">return</span> <span class="literal">null</span>;<span class="keyword">if</span>(b===b.ownerDocument.body)<span class="keyword">return</span> f.offset.bodyOffset(b);<span class="keyword">try</span>&#123;c=b.getBoundingClientRect()&#125;<span class="keyword">catch</span>(d)&#123;&#125;<span class="keyword">var</span> e=b.ownerDocument,g=e.documentElement;<span class="keyword">if</span>(!c||!f.contains(g,b))<span class="keyword">return</span> c?&#123;<span class="attr">top</span>:c.top,<span class="attr">left</span>:c.left&#125;:&#123;<span class="attr">top</span>:<span class="number">0</span>,<span class="attr">left</span>:<span class="number">0</span>&#125;;<span class="keyword">var</span> h=e.body,i=cy(e),j=g.clientTop||h.clientTop||<span class="number">0</span>,k=g.clientLeft||h.clientLeft||<span class="number">0</span>,l=i.pageYOffset||f.support.boxModel&amp;&amp;g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&amp;&amp;g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;<span class="keyword">return</span>&#123;<span class="attr">top</span>:n,<span class="attr">left</span>:o&#125;&#125;:f.fn.offset=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=<span class="keyword">this</span>[<span class="number">0</span>];<span class="keyword">if</span>(a)<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;f.offset.setOffset(<span class="keyword">this</span>,a,b)&#125;);<span class="keyword">if</span>(!b||!b.ownerDocument)<span class="keyword">return</span> <span class="literal">null</span>;<span class="keyword">if</span>(b===b.ownerDocument.body)<span class="keyword">return</span> f.offset.bodyOffset(b);<span class="keyword">var</span> c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,<span class="literal">null</span>):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;<span class="keyword">while</span>((b=b.parentNode)&amp;&amp;b!==i&amp;&amp;b!==h)&#123;<span class="keyword">if</span>(f.support.fixedPosition&amp;&amp;k.position===<span class="string">"fixed"</span>)<span class="keyword">break</span>;c=j?j.getComputedStyle(b,<span class="literal">null</span>):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&amp;&amp;(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&amp;&amp;(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&amp;&amp;(l+=<span class="built_in">parseFloat</span>(c.borderTopWidth)||<span class="number">0</span>,m+=<span class="built_in">parseFloat</span>(c.borderLeftWidth)||<span class="number">0</span>),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&amp;&amp;c.overflow!==<span class="string">"visible"</span>&amp;&amp;(l+=<span class="built_in">parseFloat</span>(c.borderTopWidth)||<span class="number">0</span>,m+=<span class="built_in">parseFloat</span>(c.borderLeftWidth)||<span class="number">0</span>),k=c&#125;<span class="keyword">if</span>(k.position===<span class="string">"relative"</span>||k.position===<span class="string">"static"</span>)l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&amp;&amp;k.position===<span class="string">"fixed"</span>&amp;&amp;(l+=<span class="built_in">Math</span>.max(h.scrollTop,i.scrollTop),m+=<span class="built_in">Math</span>.max(h.scrollLeft,i.scrollLeft));<span class="keyword">return</span>&#123;<span class="attr">top</span>:l,<span class="attr">left</span>:m&#125;&#125;,f.offset=&#123;<span class="attr">bodyOffset</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&amp;&amp;(b+=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"marginTop"</span>))||<span class="number">0</span>,c+=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"marginLeft"</span>))||<span class="number">0</span>);<span class="keyword">return</span>&#123;<span class="attr">top</span>:b,<span class="attr">left</span>:c&#125;&#125;,<span class="attr">setOffset</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">var</span> d=f.css(a,<span class="string">"position"</span>);d===<span class="string">"static"</span>&amp;&amp;(a.style.position=<span class="string">"relative"</span>);<span class="keyword">var</span> e=f(a),g=e.offset(),h=f.css(a,<span class="string">"top"</span>),i=f.css(a,<span class="string">"left"</span>),j=(d===<span class="string">"absolute"</span>||d===<span class="string">"fixed"</span>)&amp;&amp;f.inArray(<span class="string">"auto"</span>,[h,i])&gt;<span class="number">-1</span>,k=&#123;&#125;,l=&#123;&#125;,m,n;j?(l=e.position(),m=l.top,n=l.left):(m=<span class="built_in">parseFloat</span>(h)||<span class="number">0</span>,n=<span class="built_in">parseFloat</span>(i)||<span class="number">0</span>),f.isFunction(b)&amp;&amp;(b=b.call(a,c,g)),b.top!=<span class="literal">null</span>&amp;&amp;(k.top=b.top-g.top+m),b.left!=<span class="literal">null</span>&amp;&amp;(k.left=b.left-g.left+n),<span class="string">"using"</span><span class="keyword">in</span> b?b.using.call(a,k):e.css(k)&#125;&#125;,f.fn.extend(&#123;<span class="attr">position</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(!<span class="keyword">this</span>[<span class="number">0</span>])<span class="keyword">return</span> <span class="literal">null</span>;<span class="keyword">var</span> a=<span class="keyword">this</span>[<span class="number">0</span>],b=<span class="keyword">this</span>.offsetParent(),c=<span class="keyword">this</span>.offset(),d=cx.test(b[<span class="number">0</span>].nodeName)?&#123;<span class="attr">top</span>:<span class="number">0</span>,<span class="attr">left</span>:<span class="number">0</span>&#125;:b.offset();c.top-=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"marginTop"</span>))||<span class="number">0</span>,c.left-=<span class="built_in">parseFloat</span>(f.css(a,<span class="string">"marginLeft"</span>))||<span class="number">0</span>,d.top+=<span class="built_in">parseFloat</span>(f.css(b[<span class="number">0</span>],<span class="string">"borderTopWidth"</span>))||<span class="number">0</span>,d.left+=<span class="built_in">parseFloat</span>(f.css(b[<span class="number">0</span>],<span class="string">"borderLeftWidth"</span>))||<span class="number">0</span>;<span class="keyword">return</span>&#123;<span class="attr">top</span>:c.top-d.top,<span class="attr">left</span>:c.left-d.left&#125;&#125;,<span class="attr">offsetParent</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">this</span>.map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=<span class="keyword">this</span>.offsetParent||c.body;<span class="keyword">while</span>(a&amp;&amp;!cx.test(a.nodeName)&amp;&amp;f.css(a,<span class="string">"position"</span>)===<span class="string">"static"</span>)a=a.offsetParent;<span class="keyword">return</span> a&#125;)&#125;&#125;),f.each([<span class="string">"Left"</span>,<span class="string">"Top"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d=<span class="string">"scroll"</span>+c;f.fn[d]=<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;<span class="keyword">var</span> e,g;<span class="keyword">if</span>(c===b)&#123;e=<span class="keyword">this</span>[<span class="number">0</span>];<span class="keyword">if</span>(!e)<span class="keyword">return</span> <span class="literal">null</span>;g=cy(e);<span class="keyword">return</span> g?<span class="string">"pageXOffset"</span><span class="keyword">in</span> g?g[a?<span class="string">"pageYOffset"</span>:<span class="string">"pageXOffset"</span>]:f.support.boxModel&amp;&amp;g.document.documentElement[d]||g.document.body[d]:e[d]&#125;<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;g=cy(<span class="keyword">this</span>),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):<span class="keyword">this</span>[d]=c&#125;)&#125;&#125;),f.each([<span class="string">"Height"</span>,<span class="string">"Width"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">var</span> d=c.toLowerCase();f.fn[<span class="string">"inner"</span>+c]=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=<span class="keyword">this</span>[<span class="number">0</span>];<span class="keyword">return</span> a?a.style?<span class="built_in">parseFloat</span>(f.css(a,d,<span class="string">"padding"</span>)):<span class="keyword">this</span>[d]():<span class="literal">null</span>&#125;,f.fn[<span class="string">"outer"</span>+c]=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=<span class="keyword">this</span>[<span class="number">0</span>];<span class="keyword">return</span> b?b.style?<span class="built_in">parseFloat</span>(f.css(b,d,a?<span class="string">"margin"</span>:<span class="string">"border"</span>)):<span class="keyword">this</span>[d]():<span class="literal">null</span>&#125;,f.fn[d]=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> e=<span class="keyword">this</span>[<span class="number">0</span>];<span class="keyword">if</span>(!e)<span class="keyword">return</span> a==<span class="literal">null</span>?<span class="literal">null</span>:<span class="keyword">this</span>;<span class="keyword">if</span>(f.isFunction(a))<span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">var</span> c=f(<span class="keyword">this</span>);c[d](a.call(<span class="keyword">this</span>,b,c[d]()))&#125;);<span class="keyword">if</span>(f.isWindow(e))&#123;<span class="keyword">var</span> g=e.document.documentElement[<span class="string">"client"</span>+c],h=e.document.body;<span class="keyword">return</span> e.document.compatMode===<span class="string">"CSS1Compat"</span>&amp;&amp;g||h&amp;&amp;h[<span class="string">"client"</span>+c]||g&#125;<span class="keyword">if</span>(e.nodeType===<span class="number">9</span>)<span class="keyword">return</span> <span class="built_in">Math</span>.max(e.documentElement[<span class="string">"client"</span>+c],e.body[<span class="string">"scroll"</span>+c],e.documentElement[<span class="string">"scroll"</span>+c],e.body[<span class="string">"offset"</span>+c],e.documentElement[<span class="string">"offset"</span>+c]);<span class="keyword">if</span>(a===b)&#123;<span class="keyword">var</span> i=f.css(e,d),j=<span class="built_in">parseFloat</span>(i);<span class="keyword">return</span> f.isNumeric(j)?j:i&#125;<span class="keyword">return</span> <span class="keyword">this</span>.css(d,<span class="keyword">typeof</span> a==<span class="string">"string"</span>?a:a+<span class="string">"px"</span>)&#125;&#125;),a.jQuery=a.$=f,<span class="keyword">typeof</span> define==<span class="string">"function"</span>&amp;&amp;define.amd&amp;&amp;define.amd.jQuery&amp;&amp;define(<span class="string">"jquery"</span>,[],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> f&#125;)&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jscex.min.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> b=&#123;<span class="attr">DEBUG</span>:<span class="number">1</span>,<span class="attr">INFO</span>:<span class="number">2</span>,<span class="attr">WARN</span>:<span class="number">3</span>,<span class="attr">ERROR</span>:<span class="number">4</span>&#125;,d=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">this</span>.level=b.WARN&#125;;d.prototype=&#123;<span class="attr">log</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">try</span>&#123;<span class="built_in">console</span>.log(a)&#125;<span class="keyword">catch</span>(b)&#123;&#125;&#125;,<span class="attr">debug</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.level&lt;=b.DEBUG&amp;&amp;<span class="keyword">this</span>.log(a)&#125;,<span class="attr">info</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.level&lt;=b.INFO&amp;&amp;<span class="keyword">this</span>.log(a)&#125;,<span class="attr">warn</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.level&lt;=b.WARN&amp;&amp;<span class="keyword">this</span>.log(a)&#125;,<span class="attr">error</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.level&lt;=b.ERROR&amp;&amp;<span class="keyword">this</span>.log(a)&#125;&#125;;<span class="keyword">var</span> e=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=[],c;<span class="keyword">for</span>(c <span class="keyword">in</span> a)b.push(c);<span class="keyword">return</span> b&#125;,c=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;a._forInKeys=e;a.Logging=&#123;<span class="attr">Logger</span>:d,<span class="attr">Level</span>:b&#125;;a.logger=<span class="keyword">new</span> d;a.modules=&#123;&#125;;a.binders=</span><br><span class="line">&#123;&#125;;a.builders=&#123;&#125;&#125;,f=<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;!define.amd,g=<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;define.amd;<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> <span class="built_in">module</span>!==<span class="string">"undefined"</span>&amp;&amp;<span class="built_in">module</span>.exports?c(<span class="built_in">module</span>.exports):f?define(<span class="string">"jscex"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">a,b,d</span>)</span>&#123;c(d.exports)&#125;):g?define(<span class="string">"jscex"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;c(a);<span class="keyword">return</span> a&#125;):(<span class="keyword">typeof</span> Jscex==<span class="string">"undefined"</span>&amp;&amp;(Jscex=&#123;&#125;),c(Jscex))&#125;)();</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jscex-async.min.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> k=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;k.prototype=&#123;<span class="attr">isCancellation</span>:!<span class="number">0</span>,<span class="attr">message</span>:<span class="string">"The task has been cancelled."</span>&#125;;<span class="keyword">typeof</span> __jscex__async__taskIdSeed===<span class="string">"undefined"</span>&amp;&amp;(__jscex__async__taskIdSeed=<span class="number">0</span>);<span class="keyword">var</span> l=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">typeof</span> b.start===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> b.addEventListener===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> b.removeEventListener===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> b.complete===<span class="string">"function"</span>&#125;,j=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">if</span>(!b.modules.async)&#123;<span class="keyword">var</span> d=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;d.prototype=&#123;<span class="attr">register</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.isCancellationRequested&amp;&amp;a();<span class="keyword">if</span>(!<span class="keyword">this</span>._handlers)<span class="keyword">this</span>._handlers=</span><br><span class="line">[];<span class="keyword">this</span>._handlers.push(a)&#125;,<span class="attr">unregister</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>._handlers&amp;&amp;(a=<span class="keyword">this</span>._handlers.indexOf(a),a&gt;=<span class="number">0</span>&amp;&amp;<span class="keyword">this</span>._handlers.splice(a,<span class="number">1</span>))&#125;,<span class="attr">cancel</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(!<span class="keyword">this</span>.isCancellationRequested)&#123;<span class="keyword">this</span>.isCancellationRequested=!<span class="number">0</span>;<span class="keyword">var</span> a=<span class="keyword">this</span>._handlers;<span class="keyword">delete</span> <span class="keyword">this</span>._handlers;<span class="keyword">for</span>(<span class="keyword">var</span> f=<span class="number">0</span>;f&lt;a.length;f++)<span class="keyword">try</span>&#123;a[f]()&#125;<span class="keyword">catch</span>(c)&#123;b.logger.warn(<span class="string">"[WARNING] Cancellation handler threw an error: "</span>+c)&#125;&#125;&#125;,<span class="attr">throwIfCancellationRequested</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>.isCancellationRequested)<span class="keyword">throw</span> <span class="keyword">new</span> k;&#125;&#125;;<span class="keyword">var</span> e=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">this</span>.id=++__jscex__async__taskIdSeed;</span><br><span class="line"><span class="keyword">this</span>._delegate=a;<span class="keyword">this</span>._listeners=&#123;&#125;;<span class="keyword">this</span>.status=<span class="string">"ready"</span>&#125;;e.prototype=&#123;<span class="attr">start</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>.status!=<span class="string">"ready"</span>)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Task can only be started in "ready" status.'</span>);<span class="keyword">this</span>.status=<span class="string">"running"</span>;<span class="keyword">this</span>._delegate(<span class="keyword">this</span>)&#125;,<span class="attr">complete</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,f</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>.status!=<span class="string">"running"</span>)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'The "complete" method can only be called in "running" status.'</span>);<span class="keyword">var</span> c=<span class="keyword">this</span>._listeners;<span class="keyword">delete</span> <span class="keyword">this</span>._listeners;<span class="keyword">if</span>(a==<span class="string">"success"</span>)<span class="keyword">this</span>.result=f,<span class="keyword">this</span>.status=<span class="string">"succeeded"</span>,<span class="keyword">this</span>._notify(<span class="string">"success"</span>,c.success);<span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">"failure"</span>)<span class="keyword">this</span>.error=</span><br><span class="line">f,<span class="keyword">this</span>.status=f.isCancellation?<span class="string">"canceled"</span>:<span class="string">"faulted"</span>,<span class="keyword">this</span>._notify(<span class="string">"failure"</span>,c.failure);<span class="keyword">else</span> <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">"Unsupported type: "</span>+a);<span class="keyword">this</span>._notify(<span class="string">"complete"</span>,c.complete);<span class="keyword">this</span>.error&amp;&amp;!c.failure&amp;&amp;!c.complete&amp;&amp;b.logger.warn(<span class="string">"[WARNING] An unhandled error occurred: "</span>+<span class="keyword">this</span>.error)&#125;,<span class="attr">_notify</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,f</span>)</span>&#123;<span class="keyword">if</span>(f)<span class="keyword">for</span>(<span class="keyword">var</span> c=<span class="number">0</span>;c&lt;f.length;c++)<span class="keyword">try</span>&#123;f[c](<span class="keyword">this</span>)&#125;<span class="keyword">catch</span>(i)&#123;b.logger.warn(<span class="string">"[WARNING] The task's "</span>+a+<span class="string">" listener threw an error: "</span>+i)&#125;&#125;,<span class="attr">addEventListener</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">this</span>._listeners&amp;&amp;(<span class="keyword">this</span>._listeners[a]||(<span class="keyword">this</span>._listeners[a]=</span><br><span class="line">[]),<span class="keyword">this</span>._listeners[a].push(b))&#125;,<span class="attr">removeEventListener</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">this</span>._listeners)&#123;<span class="keyword">var</span> c=<span class="keyword">this</span>._listeners[a];<span class="keyword">if</span>(c)&#123;<span class="keyword">var</span> i=c.indexOf(b);i&gt;=<span class="number">0</span>&amp;&amp;c.splice(i,<span class="number">1</span>)&#125;&#125;&#125;&#125;;e.create=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> e(a)&#125;;e.isTask=l;<span class="keyword">var</span> h=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;h.prototype=&#123;<span class="attr">Start</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> e.create(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;b.next(a,<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">if</span>(a==<span class="string">"normal"</span>||a==<span class="string">"return"</span>)c.complete(<span class="string">"success"</span>,b);<span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">"throw"</span>)c.complete(<span class="string">"failure"</span>,b);<span class="keyword">else</span> <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">"Unsupported type: "</span>+a);&#125;)&#125;)&#125;,<span class="attr">Bind</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c,e</span>)</span>&#123;<span class="keyword">var</span> d=</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(a.error)e(<span class="string">"throw"</span>,a.error);<span class="keyword">else</span>&#123;<span class="keyword">var</span> d;<span class="keyword">try</span>&#123;d=b.call(c,a.result)&#125;<span class="keyword">catch</span>(h)&#123;e(<span class="string">"throw"</span>,h);<span class="keyword">return</span>&#125;d.next(c,e)&#125;&#125;;a.status==<span class="string">"ready"</span>?(a.addEventListener(<span class="string">"complete"</span>,d),a.start()):a.status==<span class="string">"running"</span>?a.addEventListener(<span class="string">"complete"</span>,d):d(a)&#125;&#125;&#125;&#125;;<span class="keyword">for</span>(<span class="keyword">var</span> g <span class="keyword">in</span> b.BuilderBase.prototype)h.prototype[g]=b.BuilderBase.prototype[g];<span class="keyword">if</span>(!b.Async)b.Async=&#123;&#125;;g=b.Async;g.CancellationToken=d;g.CanceledError=k;g.Task=e;g.AsyncBuilder=h;<span class="keyword">if</span>(!b.builders)b.builders=&#123;&#125;;b.binders.async=<span class="string">"$await"</span>;b.builders.async=<span class="keyword">new</span> h;</span><br><span class="line">b.modules.async=!<span class="number">0</span>&#125;&#125;,m=<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;!define.amd,n=<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;define.amd;<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> <span class="built_in">module</span>!==<span class="string">"undefined"</span>&amp;&amp;<span class="built_in">module</span>.exports)<span class="built_in">module</span>.exports.init=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">if</span>(!b.modules.builderbase)&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> __dirname===<span class="string">"string"</span>)<span class="keyword">try</span>&#123;<span class="built_in">require</span>.paths.unshift(__dirname)&#125;<span class="keyword">catch</span>(d)&#123;<span class="keyword">try</span>&#123;<span class="built_in">module</span>.paths.unshift(__dirname)&#125;<span class="keyword">catch</span>(e)&#123;&#125;&#125;<span class="built_in">require</span>(<span class="string">"jscex-builderbase"</span>).init(b)&#125;j(b)&#125;;<span class="keyword">else</span> <span class="keyword">if</span>(m)define(<span class="string">"jscex-async"</span>,[<span class="string">"jscex-builderbase"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">b,d,</span></span></span><br><span class="line"><span class="function"><span class="params">e</span>)</span>&#123;e.exports.init=<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;d.modules.builderbase||b(<span class="string">"jscex-builderbase"</span>).init(d);j(d)&#125;&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(n)define(<span class="string">"jscex-async"</span>,[<span class="string">"jscex-builderbase"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">init</span>:<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;d.modules.builderbase||b.init(d);j(d)&#125;&#125;&#125;);<span class="keyword">else</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> Jscex===<span class="string">"undefined"</span>)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Missing the root object, please load "jscex" module first.'</span>);<span class="keyword">if</span>(!Jscex.modules.builderbase)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Missing essential components, please initialize "builderbase" module first.'</span>);j(Jscex)&#125;&#125;)();</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jscex-async-powerpack.min.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> m=<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;<span class="keyword">if</span>(j.length&lt;=<span class="number">1</span>)<span class="keyword">return</span> <span class="literal">null</span>;<span class="keyword">for</span>(<span class="keyword">var</span> f=[],h=<span class="number">1</span>;h&lt;j.length;h++)f.push(j[h]);<span class="keyword">return</span> f&#125;,n=<span class="function"><span class="keyword">function</span>(<span class="params">j,f</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> h=[],k=<span class="number">0</span>;k&lt;j.length;k++)h.push(j[k]);<span class="keyword">for</span>(;h.length&lt;f;)h.push(<span class="keyword">void</span> <span class="number">0</span>);<span class="keyword">return</span> h&#125;,l=<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;<span class="keyword">if</span>(!j.modules[<span class="string">"async-powerpack"</span>])&#123;<span class="keyword">if</span>(!j.modules.async)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Missing essential components, please initialize "jscex-async" module first.'</span>);<span class="keyword">var</span> f=j.Async,h=f.Task,k=f.CanceledError;f.sleep=<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> h.create(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;b&amp;&amp;b.isCancellationRequested&amp;&amp;c.complete(<span class="string">"failure"</span>,</span><br><span class="line"><span class="keyword">new</span> k);<span class="keyword">var</span> e,d;b&amp;&amp;(d=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;clearTimeout(e);c.complete(<span class="string">"failure"</span>,<span class="keyword">new</span> k)&#125;);e=setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;b&amp;&amp;b.unregister(d);c.complete(<span class="string">"success"</span>)&#125;,a);b&amp;&amp;b.register(d)&#125;)&#125;;f.onEvent=<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;<span class="keyword">return</span> h.create(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;c&amp;&amp;c.isCancellationRequested&amp;&amp;e.complete(<span class="string">"failure"</span>,<span class="keyword">new</span> k);<span class="keyword">var</span> d=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;a.removeEventListener?a.removeEventListener(b,g):a.removeListener?a.removeListener(b,g):a.detachEvent(b,g)&#125;,g,i;c&amp;&amp;(i=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;d();e.complete(<span class="string">"failure"</span>,<span class="keyword">new</span> k)&#125;);g=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;c&amp;&amp;c.unregister(i);d();e.complete(<span class="string">"success"</span>,</span><br><span class="line">a)&#125;;a.addEventListener?a.addEventListener(b,g):a.addListener?a.addListener(b,g):a.attachEvent(b,g);c&amp;&amp;c.register(i)&#125;)&#125;;h.whenAll=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;,b;<span class="keyword">if</span>(<span class="built_in">arguments</span>.length==<span class="number">1</span>)&#123;<span class="keyword">var</span> c=<span class="built_in">arguments</span>[<span class="number">0</span>];h.isTask(c)?(a[<span class="number">0</span>]=c,b=!<span class="number">0</span>):(a=c,b=<span class="built_in">Object</span>.prototype.toString.call(a)===<span class="string">"[object Array]"</span>)&#125;<span class="keyword">else</span>&#123;<span class="keyword">for</span>(c=<span class="number">0</span>;c&lt;<span class="built_in">arguments</span>.length;c++)a[c]=<span class="built_in">arguments</span>[c];b=!<span class="number">0</span>&#125;<span class="keyword">return</span> h.create(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> d=&#123;&#125;,g;<span class="keyword">for</span>(g <span class="keyword">in</span> a)<span class="keyword">if</span>(a.hasOwnProperty(g))&#123;<span class="keyword">var</span> i=a[g];h.isTask(i)&amp;&amp;(d[i.id]=g)&#125;<span class="keyword">for</span>(<span class="keyword">var</span> c <span class="keyword">in</span> d)i=a[d[c]],i.status==<span class="string">"ready"</span>&amp;&amp;i.start();</span><br><span class="line"><span class="keyword">for</span>(c <span class="keyword">in</span> d)<span class="keyword">if</span>(i=a[d[c]],i.error)&#123;e.complete(<span class="string">"failure"</span>,i.error);<span class="keyword">return</span>&#125;<span class="keyword">var</span> f=b?[]:&#123;&#125;,j=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">if</span>(b.error)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> c <span class="keyword">in</span> d)a[d[c]].removeEventListener(<span class="string">"complete"</span>,j);e.complete(<span class="string">"failure"</span>,b.error)&#125;<span class="keyword">else</span> f[d[b.id]]=b.result,<span class="keyword">delete</span> d[b.id],k--,k==<span class="number">0</span>&amp;&amp;e.complete(<span class="string">"success"</span>,f)&#125;,k=<span class="number">0</span>;<span class="keyword">for</span>(c <span class="keyword">in</span> d)g=d[c],i=a[g],i.status==<span class="string">"succeeded"</span>?(f[g]=i.result,<span class="keyword">delete</span> d[i.id]):(k++,i.addEventListener(<span class="string">"complete"</span>,j));k==<span class="number">0</span>&amp;&amp;e.complete(<span class="string">"success"</span>,f)&#125;)&#125;;h.whenAny=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">if</span>(<span class="built_in">arguments</span>.length==<span class="number">1</span>)&#123;<span class="keyword">var</span> b=<span class="built_in">arguments</span>[<span class="number">0</span>];h.isTask(b)?</span><br><span class="line">a[<span class="number">0</span>]=b:a=b&#125;<span class="keyword">else</span> <span class="keyword">for</span>(b=<span class="number">0</span>;b&lt;<span class="built_in">arguments</span>.length;b++)a[b]=<span class="built_in">arguments</span>[b];<span class="keyword">return</span> h.create(<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">var</span> e=&#123;&#125;,d;<span class="keyword">for</span>(d <span class="keyword">in</span> a)<span class="keyword">if</span>(a.hasOwnProperty(d))&#123;<span class="keyword">var</span> g=a[d];h.isTask(g)&amp;&amp;(e[g.id]=d)&#125;<span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> e)g=a[e[i]],g.status==<span class="string">"ready"</span>&amp;&amp;g.start();<span class="keyword">for</span>(i <span class="keyword">in</span> e)<span class="keyword">if</span>(d=e[i],g=a[d],g.error||g.status==<span class="string">"succeeded"</span>)&#123;b.complete(<span class="string">"success"</span>,&#123;<span class="attr">key</span>:d,<span class="attr">task</span>:g&#125;);<span class="keyword">return</span>&#125;<span class="keyword">var</span> f=<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> g <span class="keyword">in</span> e)a[e[g]].removeEventListener(<span class="string">"complete"</span>,f);b.complete(<span class="string">"success"</span>,&#123;<span class="attr">key</span>:e[d.id],<span class="attr">task</span>:d&#125;)&#125;;<span class="keyword">for</span>(i <span class="keyword">in</span> e)a[e[i]].addEventListener(<span class="string">"complete"</span>,f)&#125;)&#125;;</span><br><span class="line"><span class="keyword">if</span>(!f.Jscexify)f.Jscexify=&#123;&#125;;f=f.Jscexify;f.fromStandard=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=m(<span class="built_in">arguments</span>);<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">this</span>,e=n(<span class="built_in">arguments</span>,a.length<span class="number">-1</span>);<span class="keyword">return</span> h.create(<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;e.push(<span class="function"><span class="keyword">function</span>(<span class="params">a,c</span>)</span>&#123;<span class="keyword">if</span>(a)d.complete(<span class="string">"failure"</span>,a);<span class="keyword">else</span> <span class="keyword">if</span>(b)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=&#123;&#125;,f=<span class="number">0</span>;f&lt;b.length;f++)e[b[f]]=<span class="built_in">arguments</span>[f+<span class="number">1</span>];<span class="keyword">return</span> d.complete(<span class="string">"success"</span>,e)&#125;<span class="keyword">else</span> d.complete(<span class="string">"success"</span>,c)&#125;);a.apply(c,e)&#125;)&#125;&#125;;f.fromCallback=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">var</span> b=m(<span class="built_in">arguments</span>);<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> c=<span class="keyword">this</span>,e=n(<span class="built_in">arguments</span>,a.length<span class="number">-1</span>);<span class="keyword">return</span> h.create(<span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123;e.push(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">if</span>(b)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> c=</span><br><span class="line">&#123;&#125;,e=<span class="number">0</span>;e&lt;b.length;e++)c[b[e]]=<span class="built_in">arguments</span>[e];d.complete(<span class="string">"success"</span>,c)&#125;<span class="keyword">else</span> d.complete(<span class="string">"success"</span>,a)&#125;);a.apply(c,e)&#125;)&#125;&#125;;j.modules[<span class="string">"async-powerpack"</span>]=!<span class="number">0</span>&#125;&#125;,o=<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;!define.amd,p=<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;define.amd;<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> <span class="built_in">module</span>!==<span class="string">"undefined"</span>&amp;&amp;<span class="built_in">module</span>.exports)<span class="built_in">module</span>.exports.init=l;<span class="keyword">else</span> <span class="keyword">if</span>(o)define(<span class="string">"jscex-async-powerpack"</span>,[<span class="string">"jscex-async"</span>],<span class="function"><span class="keyword">function</span>(<span class="params">j,f,h</span>)</span>&#123;h.exports.init=l&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(p)define(<span class="string">"jscex-async-powerpack"</span>,[<span class="string">"jscex-async"</span>],</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">init</span>:l&#125;&#125;);<span class="keyword">else</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> Jscex===<span class="string">"undefined"</span>)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Missing the root object, please load "jscex" module first.'</span>);l(Jscex)&#125;&#125;)();</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jscex-builderbase.min.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> j=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;j.prototype=&#123;<span class="attr">Loop</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c,a,d</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e,i</span>)</span>&#123;<span class="keyword">var</span> f=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;a.next(e,<span class="function"><span class="keyword">function</span>(<span class="params">a,e</span>)</span>&#123;<span class="keyword">if</span>(a==<span class="string">"normal"</span>||a==<span class="string">"continue"</span>)g(b);<span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">"throw"</span>||a==<span class="string">"return"</span>)i(a,e);<span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">"break"</span>)i(<span class="string">"normal"</span>);<span class="keyword">else</span> <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Invalid type for "Loop": '</span>+a);&#125;)&#125;,g=<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;<span class="keyword">try</span>&#123;c&amp;&amp;!a&amp;&amp;c.call(e),!b||b.call(e)?f(!<span class="number">1</span>):i(<span class="string">"normal"</span>)&#125;<span class="keyword">catch</span>(d)&#123;i(<span class="string">"throw"</span>,d)&#125;&#125;;d?f(!<span class="number">0</span>):g(!<span class="number">0</span>)&#125;&#125;&#125;,<span class="attr">Delay</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c,a</span>)</span>&#123;<span class="keyword">try</span>&#123;b.call(c).next(c,a)&#125;<span class="keyword">catch</span>(d)&#123;a(<span class="string">"throw"</span>,d)&#125;&#125;&#125;&#125;,<span class="attr">Combine</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,</span></span></span><br><span class="line"><span class="function"><span class="params">c</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">a,d</span>)</span>&#123;b.next(a,<span class="function"><span class="keyword">function</span>(<span class="params">b,i,f</span>)</span>&#123;<span class="keyword">if</span>(b==<span class="string">"normal"</span>)<span class="keyword">try</span>&#123;c.next(a,d)&#125;<span class="keyword">catch</span>(g)&#123;d(<span class="string">"throw"</span>,g)&#125;<span class="keyword">else</span> d(b,i,f)&#125;)&#125;&#125;&#125;,<span class="attr">Return</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c,a</span>)</span>&#123;a(<span class="string">"return"</span>,b)&#125;&#125;&#125;,<span class="attr">Normal</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;c(<span class="string">"normal"</span>)&#125;&#125;&#125;,<span class="attr">Break</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;c(<span class="string">"break"</span>)&#125;&#125;&#125;,<span class="attr">Continue</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c</span>)</span>&#123;c(<span class="string">"continue"</span>)&#125;&#125;&#125;,<span class="attr">Throw</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">c,a</span>)</span>&#123;a(<span class="string">"throw"</span>,b)&#125;&#125;&#125;,<span class="attr">Try</span>:<span class="function"><span class="keyword">function</span>(<span class="params">b,c,a</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">next</span>:<span class="function"><span class="keyword">function</span>(<span class="params">d,e</span>)</span>&#123;b.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">b,f,g</span>)</span>&#123;<span class="keyword">if</span>(b!=</span><br><span class="line"><span class="string">"throw"</span>||!c)a?a.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;a==<span class="string">"normal"</span>?e(b,f,g):e(a,c,d)&#125;):e(b,f,g);<span class="keyword">else</span> <span class="keyword">if</span>(c)&#123;<span class="keyword">var</span> h;<span class="keyword">try</span>&#123;h=c.call(d,f)&#125;<span class="keyword">catch</span>(j)&#123;a?a.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;a==<span class="string">"normal"</span>?e(<span class="string">"throw"</span>,j):e(a,b,c)&#125;):e(<span class="string">"throw"</span>,j)&#125;h&amp;&amp;h.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">b,c,f</span>)</span>&#123;b==<span class="string">"throw"</span>?a?a.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">a,d,g</span>)</span>&#123;a==<span class="string">"normal"</span>?e(b,c,f):e(a,d,g)&#125;):e(b,c,f):a?a.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">a,d,g</span>)</span>&#123;a==<span class="string">"normal"</span>?e(b,c,f):e(a,d,g)&#125;):e(b,c,f)&#125;)&#125;<span class="keyword">else</span> a.next(d,<span class="function"><span class="keyword">function</span>(<span class="params">a,c,d</span>)</span>&#123;a==<span class="string">"normal"</span>?e(b,f,g):e(a,c,d)&#125;)&#125;)&#125;&#125;&#125;&#125;;<span class="keyword">var</span> h=<span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;<span class="keyword">if</span>(!b.modules)b.modules=&#123;&#125;;<span class="keyword">if</span>(!b.modules.builderbase)b.modules.builderbase=</span><br><span class="line">!<span class="number">0</span>,b.BuilderBase=j&#125;,k=<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;!define.amd,l=<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> define===<span class="string">"function"</span>&amp;&amp;define.amd;<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">require</span>===<span class="string">"function"</span>&amp;&amp;<span class="keyword">typeof</span> <span class="built_in">module</span>!==<span class="string">"undefined"</span>&amp;&amp;<span class="built_in">module</span>.exports)<span class="built_in">module</span>.exports.init=h;<span class="keyword">else</span> <span class="keyword">if</span>(k)define(<span class="string">"jscex-builderbase"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">b,c,a</span>)</span>&#123;a.exports.init=h&#125;);<span class="keyword">else</span> <span class="keyword">if</span>(l)define(<span class="string">"jscex-builderbase"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">init</span>:h&#125;&#125;);<span class="keyword">else</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> Jscex===<span class="string">"undefined"</span>)<span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Missing the root object, please load "jscex" module first.'</span>);h(Jscex)&#125;&#125;)();</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jscex-jit.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> codeGenerator = (<span class="keyword">typeof</span> <span class="built_in">eval</span>(<span class="string">"(function () &#123;&#125;)"</span>) == <span class="string">"function"</span>) ?</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">code</span>) </span>&#123; <span class="keyword">return</span> code; &#125; :</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">code</span>) </span>&#123; <span class="keyword">return</span> <span class="string">"false || "</span> + code; &#125;;</span><br><span class="line">        </span><br><span class="line">    <span class="comment">// support string type only.</span></span><br><span class="line">    <span class="keyword">var</span> stringify = (<span class="keyword">typeof</span> <span class="built_in">JSON</span> !== <span class="string">"undefined"</span> &amp;&amp; <span class="built_in">JSON</span>.stringify) ?</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(s); &#125; :</span><br><span class="line">        (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// Implementation comes from JSON2 (http://www.json.org/js.html)</span></span><br><span class="line">        </span><br><span class="line">            <span class="keyword">var</span> escapable = <span class="regexp">/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">var</span> meta = &#123;    <span class="comment">// table of character substitutions</span></span><br><span class="line">                <span class="string">'\b'</span>: <span class="string">'\\b'</span>,</span><br><span class="line">                <span class="string">'\t'</span>: <span class="string">'\\t'</span>,</span><br><span class="line">                <span class="string">'\n'</span>: <span class="string">'\\n'</span>,</span><br><span class="line">                <span class="string">'\f'</span>: <span class="string">'\\f'</span>,</span><br><span class="line">                <span class="string">'\r'</span>: <span class="string">'\\r'</span>,</span><br><span class="line">                <span class="string">'"'</span> : <span class="string">'\\"'</span>,</span><br><span class="line">                <span class="string">'\\'</span>: <span class="string">'\\\\'</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// If the string contains no control characters, no quote characters, and no</span></span><br><span class="line">                <span class="comment">// backslash characters, then we can safely slap some quotes around it.</span></span><br><span class="line">                <span class="comment">// Otherwise we must also replace the offending characters with safe escape</span></span><br><span class="line">                <span class="comment">// sequences.</span></span><br><span class="line"></span><br><span class="line">                escapable.lastIndex = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">return</span> escapable.test(s) ? <span class="string">'"'</span> + s.replace(escapable, <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> c = meta[a];</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">typeof</span> c === <span class="string">'s'</span> ? c :</span><br><span class="line">                        <span class="string">'\\u'</span> + (<span class="string">'0000'</span> + a.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)).slice(<span class="number">-4</span>);</span><br><span class="line">                &#125;) + <span class="string">'"'</span> : <span class="string">'"'</span> + s + <span class="string">'"'</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;)();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// seed defined in global</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> __jscex__tempVarSeed === <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        __jscex__tempVarSeed = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> init = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (root.modules[<span class="string">"jit"</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">JscexTreeGenerator</span>(<span class="params">binder</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>._binder = binder;</span><br><span class="line">            <span class="keyword">this</span>._root = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        JscexTreeGenerator.prototype = &#123;</span><br><span class="line"></span><br><span class="line">            generate: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> params = ast[<span class="number">2</span>], statements = ast[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._root = &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [] &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._visitStatements(statements, <span class="keyword">this</span>._root.stmts);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>._root;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _getBindInfo: <span class="function"><span class="keyword">function</span> (<span class="params">stmt</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> type = stmt[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">if</span> (type == <span class="string">"stat"</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> expr = stmt[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (expr[<span class="number">0</span>] == <span class="string">"call"</span>) &#123;</span><br><span class="line">                        <span class="keyword">var</span> callee = expr[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">if</span> (callee[<span class="number">0</span>] == <span class="string">"name"</span> &amp;&amp; callee[<span class="number">1</span>] == <span class="keyword">this</span>._binder &amp;&amp; expr[<span class="number">2</span>].length == <span class="number">1</span>) &#123;</span><br><span class="line">                            <span class="keyword">return</span> &#123;</span><br><span class="line">                                expression: expr[<span class="number">2</span>][<span class="number">0</span>],</span><br><span class="line">                                argName: <span class="string">""</span>,</span><br><span class="line">                                assignee: <span class="literal">null</span></span><br><span class="line">                            &#125;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (expr[<span class="number">0</span>] == <span class="string">"assign"</span>) &#123;</span><br><span class="line">                        <span class="keyword">var</span> assignee = expr[<span class="number">2</span>];</span><br><span class="line">                        expr = expr[<span class="number">3</span>];</span><br><span class="line">                        <span class="keyword">if</span> (expr[<span class="number">0</span>] == <span class="string">"call"</span>) &#123;</span><br><span class="line">                            <span class="keyword">var</span> callee = expr[<span class="number">1</span>];</span><br><span class="line">                            <span class="keyword">if</span> (callee[<span class="number">0</span>] == <span class="string">"name"</span> &amp;&amp; callee[<span class="number">1</span>] == <span class="keyword">this</span>._binder &amp;&amp; expr[<span class="number">2</span>].length == <span class="number">1</span>) &#123;</span><br><span class="line">                                <span class="keyword">return</span> &#123;</span><br><span class="line">                                    expression: expr[<span class="number">2</span>][<span class="number">0</span>],</span><br><span class="line">                                    argName: <span class="string">"$$_result_$$"</span>,</span><br><span class="line">                                    assignee: assignee</span><br><span class="line">                                &#125;;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">"var"</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> defs = stmt[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (defs.length == <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="keyword">var</span> item = defs[<span class="number">0</span>];</span><br><span class="line">                        <span class="keyword">var</span> name = item[<span class="number">0</span>];</span><br><span class="line">                        <span class="keyword">var</span> expr = item[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">if</span> (expr &amp;&amp; expr[<span class="number">0</span>] == <span class="string">"call"</span>) &#123;</span><br><span class="line">                            <span class="keyword">var</span> callee = expr[<span class="number">1</span>];</span><br><span class="line">                            <span class="keyword">if</span> (callee[<span class="number">0</span>] == <span class="string">"name"</span> &amp;&amp; callee[<span class="number">1</span>] == <span class="keyword">this</span>._binder &amp;&amp; expr[<span class="number">2</span>].length == <span class="number">1</span>) &#123;</span><br><span class="line">                                <span class="keyword">return</span> &#123;</span><br><span class="line">                                    expression: expr[<span class="number">2</span>][<span class="number">0</span>],</span><br><span class="line">                                    argName: name,</span><br><span class="line">                                    assignee: <span class="literal">null</span></span><br><span class="line">                                &#125;;                            </span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">"return"</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> expr = stmt[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (expr &amp;&amp; expr[<span class="number">0</span>] == <span class="string">"call"</span>) &#123;</span><br><span class="line">                        <span class="keyword">var</span> callee = expr[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">if</span> (callee[<span class="number">0</span>] == <span class="string">"name"</span> &amp;&amp; callee[<span class="number">1</span>] == <span class="keyword">this</span>._binder &amp;&amp; expr[<span class="number">2</span>].length == <span class="number">1</span>) &#123;</span><br><span class="line">                            <span class="keyword">return</span> &#123;</span><br><span class="line">                                expression: expr[<span class="number">2</span>][<span class="number">0</span>],</span><br><span class="line">                                argName: <span class="string">"$$_result_$$"</span>,</span><br><span class="line">                                assignee: <span class="string">"return"</span></span><br><span class="line">                            &#125;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitStatements: <span class="function"><span class="keyword">function</span> (<span class="params">statements, stmts, index</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt;= <span class="number">2</span>) index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (index &gt;= statements.length) &#123;</span><br><span class="line">                    stmts.push(&#123; <span class="attr">type</span>: <span class="string">"normal"</span> &#125;);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> currStmt = statements[index];</span><br><span class="line">                <span class="keyword">var</span> bindInfo = <span class="keyword">this</span>._getBindInfo(currStmt);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (bindInfo) &#123;</span><br><span class="line">                    <span class="keyword">var</span> bindStmt = &#123; <span class="attr">type</span>: <span class="string">"bind"</span>, <span class="attr">info</span>: bindInfo &#125;;</span><br><span class="line">                    stmts.push(bindStmt);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (bindInfo.assignee != <span class="string">"return"</span>) &#123;</span><br><span class="line">                        bindStmt.stmts = [];</span><br><span class="line">                        <span class="keyword">this</span>._visitStatements(statements, bindStmt.stmts, index + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">var</span> type = currStmt[<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">if</span> (type == <span class="string">"return"</span> || type == <span class="string">"break"</span> || type == <span class="string">"continue"</span> || type == <span class="string">"throw"</span>) &#123;</span><br><span class="line"></span><br><span class="line">                        stmts.push(&#123; <span class="attr">type</span>: type, <span class="attr">stmt</span>: currStmt &#125;);</span><br><span class="line"></span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">"if"</span> || type == <span class="string">"try"</span> || type == <span class="string">"for"</span> || type == <span class="string">"do"</span></span><br><span class="line">                               || type == <span class="string">"while"</span> || type == <span class="string">"switch"</span> || type == <span class="string">"for-in"</span>) &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> newStmt = <span class="keyword">this</span>._visit(currStmt);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (newStmt.type == <span class="string">"raw"</span>) &#123;</span><br><span class="line">                            stmts.push(newStmt);</span><br><span class="line">                            <span class="keyword">this</span>._visitStatements(statements, stmts, index + <span class="number">1</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">var</span> isLast = (index == statements.length - <span class="number">1</span>);</span><br><span class="line">                            <span class="keyword">if</span> (isLast) &#123;</span><br><span class="line">                                stmts.push(newStmt);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                                <span class="keyword">var</span> combineStmt = &#123;</span><br><span class="line">                                    type: <span class="string">"combine"</span>,</span><br><span class="line">                                    first: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [newStmt] &#125;,</span><br><span class="line">                                    second: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [] &#125;</span><br><span class="line">                                &#125;;</span><br><span class="line">                                stmts.push(combineStmt);</span><br><span class="line"></span><br><span class="line">                                <span class="keyword">this</span>._visitStatements(statements, combineStmt.second.stmts, index + <span class="number">1</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                        stmts.push(&#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: currStmt &#125;);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitStatements(statements, stmts, index + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visit: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> type = ast[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">                <span class="function"><span class="keyword">function</span> <span class="title">throwUnsupportedError</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'"'</span> + type + <span class="string">'" is not currently supported.'</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> visitor = <span class="keyword">this</span>._visitors[type];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (visitor) &#123;</span><br><span class="line">                    <span class="keyword">return</span> visitor.call(<span class="keyword">this</span>, ast);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    throwUnsupportedError();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitBody: <span class="function"><span class="keyword">function</span> (<span class="params">ast, stmts</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (ast[<span class="number">0</span>] == <span class="string">"block"</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitStatements(ast[<span class="number">1</span>], stmts);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitStatements([ast], stmts);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _noBinding: <span class="function"><span class="keyword">function</span> (<span class="params">stmts</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">switch</span> (stmts[stmts.length - <span class="number">1</span>].type) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"normal"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"return"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"break"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"throw"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"continue"</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _collectCaseStatements: <span class="function"><span class="keyword">function</span> (<span class="params">cases, index</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> res = [];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = index; i &lt; cases.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> rawStmts = cases[i][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; rawStmts.length; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (rawStmts[j][<span class="number">0</span>] == <span class="string">"break"</span>) &#123;</span><br><span class="line">                            <span class="keyword">return</span> res</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        res.push(rawStmts[j]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitors: &#123;</span><br><span class="line"></span><br><span class="line">                <span class="string">"for"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> bodyStmts = [];</span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">4</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitBody(body, bodyStmts);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._noBinding(bodyStmts)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> delayStmt = &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [] &#125;;</span><br><span class="line">            </span><br><span class="line">                    <span class="keyword">var</span> setup = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (setup) &#123;</span><br><span class="line">                        delayStmt.stmts.push(&#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: setup &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> loopStmt = &#123; <span class="attr">type</span>: <span class="string">"loop"</span>, <span class="attr">bodyFirst</span>: <span class="literal">false</span>, <span class="attr">bodyStmt</span>: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: bodyStmts &#125; &#125;;</span><br><span class="line">                    delayStmt.stmts.push(loopStmt);</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">if</span> (condition) &#123;</span><br><span class="line">                        loopStmt.condition = condition;</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">var</span> update = ast[<span class="number">3</span>];</span><br><span class="line">                    <span class="keyword">if</span> (update) &#123;</span><br><span class="line">                        loopStmt.update = update;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> delayStmt;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"for-in"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">4</span>];</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">var</span> bodyStmts = [];</span><br><span class="line">                    <span class="keyword">this</span>._visitBody(body, bodyStmts);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._noBinding(bodyStmts)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;;</span><br><span class="line">                    &#125;</span><br><span class="line">                </span><br><span class="line">                    <span class="keyword">var</span> id = (__jscex__tempVarSeed++);</span><br><span class="line">                    <span class="keyword">var</span> keysVar = <span class="string">"$$_keys_$$_"</span> + id;</span><br><span class="line">                    <span class="keyword">var</span> indexVar = <span class="string">"$$_index_$$_"</span> + id;</span><br><span class="line">                    <span class="comment">// var memVar = "$$_mem_$$_" + id;</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> delayStmt = &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [] &#125;;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// var members = Jscex._forInKeys(obj);</span></span><br><span class="line">                    <span class="keyword">var</span> keysAst = root.parse(<span class="string">"var "</span> + keysVar + <span class="string">" = Jscex._forInKeys(obj);"</span>)[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">                    keysAst[<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>][<span class="number">2</span>][<span class="number">0</span>] = ast[<span class="number">3</span>]; <span class="comment">// replace obj with real AST;</span></span><br><span class="line">                    delayStmt.stmts.push(&#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: keysAst &#125;);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">/*</span></span><br><span class="line"><span class="comment">                    // var members = [];</span></span><br><span class="line"><span class="comment">                    delayStmt.stmts.push(&#123;</span></span><br><span class="line"><span class="comment">                        type: "raw",</span></span><br><span class="line"><span class="comment">                        stmt: uglifyJS.parse("var " + membersVar + " = [];")[1][0]</span></span><br><span class="line"><span class="comment">                    &#125;);</span></span><br><span class="line"><span class="comment">                    </span></span><br><span class="line"><span class="comment">                    // for (var mem in obj) members.push(mem);</span></span><br><span class="line"><span class="comment">                    var keysAst = uglifyJS.parse("for (var " + memVar +" in obj) " + membersVar + ".push(" + memVar + ");")[1][0];</span></span><br><span class="line"><span class="comment">                    keysAst[3] = ast[3]; // replace the "obj" with real AST.</span></span><br><span class="line"><span class="comment">                    delayStmt.stmts.push(&#123; type : "raw", stmt: keysAst&#125;);</span></span><br><span class="line"><span class="comment">                    */</span></span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// var index = 0;</span></span><br><span class="line">                    delayStmt.stmts.push(&#123;</span><br><span class="line">                        type: <span class="string">"raw"</span>,</span><br><span class="line">                        stmt: root.parse(<span class="string">"var "</span> + indexVar + <span class="string">" = 0;"</span>)[<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                    &#125;);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// index &lt; members.length</span></span><br><span class="line">                    <span class="keyword">var</span> condition = root.parse(indexVar + <span class="string">" &lt; "</span> + keysVar + <span class="string">".length"</span>)[<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// index++</span></span><br><span class="line">                    <span class="keyword">var</span> update = root.parse(indexVar + <span class="string">"++"</span>)[<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> loopStmt = &#123;</span><br><span class="line">                        type: <span class="string">"loop"</span>,</span><br><span class="line">                        bodyFirst: <span class="literal">false</span>,</span><br><span class="line">                        update: update,</span><br><span class="line">                        condition: condition,</span><br><span class="line">                        bodyStmt: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [] &#125;</span><br><span class="line">                    &#125;;</span><br><span class="line">                    delayStmt.stmts.push(loopStmt);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> varName = ast[<span class="number">2</span>][<span class="number">1</span>]; <span class="comment">// ast[2] == ["name", m]</span></span><br><span class="line">                    <span class="keyword">if</span> (ast[<span class="number">1</span>][<span class="number">0</span>] == <span class="string">"var"</span>) &#123;</span><br><span class="line">                        loopStmt.bodyStmt.stmts.push(&#123;</span><br><span class="line">                            type: <span class="string">"raw"</span>,</span><br><span class="line">                            stmt: root.parse(<span class="string">"var "</span> + varName + <span class="string">" = "</span> + keysVar + <span class="string">"["</span> + indexVar + <span class="string">"];"</span>)[<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        loopStmt.bodyStmt.stmts.push(&#123;</span><br><span class="line">                            type: <span class="string">"raw"</span>,</span><br><span class="line">                            stmt: root.parse(varName + <span class="string">" = "</span> + keysVar + <span class="string">"["</span> + indexVar + <span class="string">"];"</span>)[<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._visitBody(body, loopStmt.bodyStmt.stmts);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> delayStmt;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"while"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> bodyStmts = [];</span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitBody(body, bodyStmts);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._noBinding(bodyStmts)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> loopStmt = &#123; <span class="attr">type</span>: <span class="string">"loop"</span>, <span class="attr">bodyFirst</span>: <span class="literal">false</span>, <span class="attr">bodyStmt</span>: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: bodyStmts &#125; &#125;;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">1</span>];</span><br><span class="line">                    loopStmt.condition = condition;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> loopStmt;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"do"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> bodyStmts = [];</span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitBody(body, bodyStmts);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._noBinding(bodyStmts)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> loopStmt = &#123; <span class="attr">type</span>: <span class="string">"loop"</span>, <span class="attr">bodyFirst</span>: <span class="literal">true</span>, <span class="attr">bodyStmt</span>: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: bodyStmts &#125; &#125;;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">1</span>];</span><br><span class="line">                    loopStmt.condition = condition;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> loopStmt;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"switch"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> noBinding = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> switchStmt = &#123; <span class="attr">type</span>: <span class="string">"switch"</span>, <span class="attr">item</span>: ast[<span class="number">1</span>], <span class="attr">caseStmts</span>: [] &#125;;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> cases = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cases.length; i++) &#123;                    </span><br><span class="line">                        <span class="keyword">var</span> caseStmt = &#123; <span class="attr">item</span>: cases[i][<span class="number">0</span>], <span class="attr">stmts</span>: [] &#125;;</span><br><span class="line">                        switchStmt.caseStmts.push(caseStmt);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> statements = <span class="keyword">this</span>._collectCaseStatements(cases, i);</span><br><span class="line">                        <span class="keyword">this</span>._visitStatements(statements, caseStmt.stmts);</span><br><span class="line">                        noBinding = noBinding &amp;&amp; <span class="keyword">this</span>._noBinding(caseStmt.stmts);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (noBinding) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> switchStmt;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"if"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> noBinding = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> ifStmt = &#123; <span class="attr">type</span>: <span class="string">"if"</span>, <span class="attr">conditionStmts</span>: [] &#125;;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> currAst = ast;</span><br><span class="line">                    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                        <span class="keyword">var</span> condition = currAst[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">var</span> condStmt = &#123; <span class="attr">cond</span>: condition, <span class="attr">stmts</span>: [] &#125;;</span><br><span class="line">                        ifStmt.conditionStmts.push(condStmt);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> thenPart = currAst[<span class="number">2</span>];</span><br><span class="line">                        <span class="keyword">this</span>._visitBody(thenPart, condStmt.stmts);</span><br><span class="line"></span><br><span class="line">                        noBinding = noBinding &amp;&amp; <span class="keyword">this</span>._noBinding(condStmt.stmts);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> elsePart = currAst[<span class="number">3</span>];</span><br><span class="line">                        <span class="keyword">if</span> (elsePart &amp;&amp; elsePart[<span class="number">0</span>] == <span class="string">"if"</span>) &#123;</span><br><span class="line">                            currAst = elsePart;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">        </span><br><span class="line">                    <span class="keyword">var</span> elsePart = currAst[<span class="number">3</span>];</span><br><span class="line">                    <span class="keyword">if</span> (elsePart) &#123;</span><br><span class="line">                        ifStmt.elseStmts = [];</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitBody(elsePart, ifStmt.elseStmts);</span><br><span class="line">                        </span><br><span class="line">                        noBinding = noBinding &amp;&amp; <span class="keyword">this</span>._noBinding(ifStmt.elseStmts);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (noBinding) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> ifStmt;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"try"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast, stmts</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> bodyStmts = [];</span><br><span class="line">                    <span class="keyword">var</span> bodyStatements = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitStatements(bodyStatements, bodyStmts);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> noBinding = <span class="keyword">this</span>._noBinding(bodyStmts)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> tryStmt = &#123; <span class="attr">type</span>: <span class="string">"try"</span>, <span class="attr">bodyStmt</span>: &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: bodyStmts &#125; &#125;;</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">var</span> catchClause = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">if</span> (catchClause) &#123;</span><br><span class="line">                        <span class="keyword">var</span> exVar = catchClause[<span class="number">0</span>];</span><br><span class="line">                        tryStmt.exVar = exVar;</span><br><span class="line">                        tryStmt.catchStmts = [];</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitStatements(catchClause[<span class="number">1</span>], tryStmt.catchStmts);</span><br><span class="line"></span><br><span class="line">                        noBinding = noBinding &amp;&amp; <span class="keyword">this</span>._noBinding(tryStmt.catchStmts);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> finallyStatements = ast[<span class="number">3</span>];</span><br><span class="line">                    <span class="keyword">if</span> (finallyStatements) &#123;</span><br><span class="line">                        tryStmt.finallyStmt = &#123; <span class="attr">type</span>: <span class="string">"delay"</span>, <span class="attr">stmts</span>: [] &#125;;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitStatements(finallyStatements, tryStmt.finallyStmt.stmts);</span><br><span class="line"></span><br><span class="line">                        noBinding = noBinding &amp;&amp; <span class="keyword">this</span>._noBinding(tryStmt.finallyStmt.stmts);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (noBinding) &#123;</span><br><span class="line">                        <span class="keyword">return</span> &#123; <span class="attr">type</span>: <span class="string">"raw"</span>, <span class="attr">stmt</span>: ast &#125;;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> tryStmt;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">CodeGenerator</span>(<span class="params">builderName, binder, indent</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>._builderName = builderName;</span><br><span class="line">            <span class="keyword">this</span>._binder = binder;</span><br><span class="line">            <span class="keyword">this</span>._normalMode = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">this</span>._indent = indent;</span><br><span class="line">            <span class="keyword">this</span>._indentLevel = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>._builderVar = <span class="string">"$$_builder_$$_"</span> + (__jscex__tempVarSeed++);</span><br><span class="line">        &#125;</span><br><span class="line">        CodeGenerator.prototype = &#123;</span><br><span class="line">            _write: <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>._buffer.push(s);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _writeLine: <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>._write(s)._write(<span class="string">"\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _writeIndents: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>._indent; i++) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">" "</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>._indentLevel; i++) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"    "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            generate: <span class="function"><span class="keyword">function</span> (<span class="params">params, jscexAst</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>._buffer = [];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeLine(<span class="string">"(function ("</span> + params.join(<span class="string">", "</span>) + <span class="string">") &#123;"</span>);</span><br><span class="line">                <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                    ._writeLine(<span class="string">"var "</span> + <span class="keyword">this</span>._builderVar + <span class="string">" = Jscex.builders["</span> + stringify(<span class="keyword">this</span>._builderName) + <span class="string">"];"</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                    ._writeLine(<span class="string">"return "</span> + <span class="keyword">this</span>._builderVar + <span class="string">".Start(this,"</span>);</span><br><span class="line">                <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._pos = &#123; &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                    ._visitJscex(jscexAst)</span><br><span class="line">                    ._writeLine();</span><br><span class="line">                <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                    ._writeLine(<span class="string">");"</span>);</span><br><span class="line">                <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                    ._write(<span class="string">"&#125;)"</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>._buffer.join(<span class="string">""</span>);</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitJscex: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>._jscexVisitors[ast.type].call(<span class="keyword">this</span>, ast);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitRaw: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> type = ast[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">                <span class="function"><span class="keyword">function</span> <span class="title">throwUnsupportedError</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'"'</span> + type + <span class="string">'" is not currently supported.'</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> visitor = <span class="keyword">this</span>._rawVisitors[type];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (visitor) &#123;</span><br><span class="line">                    visitor.call(<span class="keyword">this</span>, ast);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    throwUnsupportedError();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitJscexStatements: <span class="function"><span class="keyword">function</span> (<span class="params">statements</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; statements.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> stmt = statements[i];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (stmt.type == <span class="string">"raw"</span> || stmt.type == <span class="string">"if"</span> || stmt.type == <span class="string">"switch"</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._visitJscex(stmt)._writeLine();</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stmt.type == <span class="string">"delay"</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitJscexStatements(stmt.stmts);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._write(<span class="string">"return "</span>)._visitJscex(stmt)._writeLine(<span class="string">";"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitRawStatements: <span class="function"><span class="keyword">function</span> (<span class="params">statements</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; statements.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> s = statements[i];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._visitRaw(s)._writeLine();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">switch</span> (s[<span class="number">0</span>]) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">"break"</span>:</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">"return"</span>:</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">"continue"</span>:</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">"throw"</span>:</span><br><span class="line">                            <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitRawBody: <span class="function"><span class="keyword">function</span> (<span class="params">body</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (body[<span class="number">0</span>] == <span class="string">"block"</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitRaw(body);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>._writeLine();</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._visitRaw(body);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _visitRawFunction: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> funcName = ast[<span class="number">1</span>] || <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">var</span> args = ast[<span class="number">2</span>];</span><br><span class="line">                <span class="keyword">var</span> statements = ast[<span class="number">3</span>];</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">this</span>._writeLine(<span class="string">"function "</span> + funcName + <span class="string">"("</span> + args.join(<span class="string">", "</span>) + <span class="string">") &#123;"</span>)</span><br><span class="line">                <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> currInFunction = <span class="keyword">this</span>._pos.inFunction;</span><br><span class="line">                <span class="keyword">this</span>._pos.inFunction = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._visitRawStatements(statements);</span><br><span class="line">                <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._pos.inFunction = currInFunction;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                    ._write(<span class="string">"&#125;"</span>);</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _jscexVisitors: &#123;</span><br><span class="line">                <span class="string">"delay"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (ast.stmts.length == <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="keyword">var</span> subStmt = ast.stmts[<span class="number">0</span>];</span><br><span class="line">                        <span class="keyword">switch</span> (subStmt.type) &#123;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"delay"</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"combine"</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"normal"</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"break"</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"continue"</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"loop"</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"try"</span>:</span><br><span class="line">                                <span class="keyword">this</span>._visitJscex(subStmt);</span><br><span class="line">                                <span class="keyword">return</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"return"</span>:</span><br><span class="line">                                <span class="keyword">if</span> (!subStmt.stmt[<span class="number">1</span>]) &#123;</span><br><span class="line">                                    <span class="keyword">this</span>._visitJscex(subStmt);</span><br><span class="line">                                    <span class="keyword">return</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="keyword">this</span>._builderVar + <span class="string">".Delay(function () &#123;"</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._visitJscexStatements(ast.stmts);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;)"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"combine"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="keyword">this</span>._builderVar + <span class="string">".Combine("</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._visitJscex(ast.first)._writeLine(<span class="string">","</span>);</span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._visitJscex(ast.second)._writeLine();</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"loop"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="keyword">this</span>._builderVar + <span class="string">".Loop("</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (ast.condition) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"function () &#123;"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._write(<span class="string">"return "</span>)._visitRaw(ast.condition)._writeLine(<span class="string">";"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"&#125;,"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()._writeLine(<span class="string">"null,"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (ast.update) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"function () &#123;"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._visitRaw(ast.update)._writeLine(<span class="string">";"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"&#125;,"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()._writeLine(<span class="string">"null,"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._visitJscex(ast.bodyStmt)._writeLine(<span class="string">","</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._writeLine(ast.bodyFirst);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"raw"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitRaw(ast.stmt);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"bind"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> info = ast.info;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="keyword">this</span>._builderVar + <span class="string">".Bind("</span>)._visitRaw(info.expression)._writeLine(<span class="string">", function ("</span> + info.argName + <span class="string">") &#123;"</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (info.assignee == <span class="string">"return"</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"return "</span> + <span class="keyword">this</span>._builderVar + <span class="string">".Return("</span> + info.argName + <span class="string">");"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (info.assignee) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                                ._visitRaw(info.assignee)._writeLine(<span class="string">" = "</span> + info.argName + <span class="string">";"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitJscexStatements(ast.stmts);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;)"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"if"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ast.conditionStmts.length; i++) &#123;</span><br><span class="line">                        <span class="keyword">var</span> stmt = ast.conditionStmts[i];</span><br><span class="line">                        </span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"if ("</span>)._visitRaw(stmt.cond)._writeLine(<span class="string">") &#123;"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitJscexStatements(stmt.stmts);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._write(<span class="string">"&#125; else "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="string">"&#123;"</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (ast.elseStmts) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitJscexStatements(ast.elseStmts);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"return "</span> + <span class="keyword">this</span>._builderVar + <span class="string">".Normal();"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"switch"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"switch ("</span>)._visitRaw(ast.item)._writeLine(<span class="string">") &#123;"</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ast.caseStmts.length; i++) &#123;</span><br><span class="line">                        <span class="keyword">var</span> caseStmt = ast.caseStmts[i];</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (caseStmt.item) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                                ._write(<span class="string">"case "</span>)._visitRaw(caseStmt.item)._writeLine(<span class="string">":"</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">this</span>._writeIndents()._writeLine(<span class="string">"default:"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitJscexStatements(caseStmt.stmts);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"try"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="keyword">this</span>._builderVar + <span class="string">".Try("</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._visitJscex(ast.bodyStmt)._writeLine(<span class="string">","</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (ast.catchStmts) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"function ("</span> + ast.exVar + <span class="string">") &#123;"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitJscexStatements(ast.catchStmts);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"&#125;,"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"null,"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (ast.finallyStmt) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._visitJscex(ast.finallyStmt)._writeLine();</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"null"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"normal"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="keyword">this</span>._builderVar + <span class="string">".Normal()"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"throw"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="keyword">this</span>._builderVar + <span class="string">".Throw("</span>)._visitRaw(ast.stmt[<span class="number">1</span>])._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"break"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="keyword">this</span>._builderVar + <span class="string">".Break()"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"continue"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="keyword">this</span>._builderVar + <span class="string">".Continue()"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"return"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="keyword">this</span>._builderVar + <span class="string">".Return("</span>);</span><br><span class="line">                    <span class="keyword">if</span> (ast.stmt[<span class="number">1</span>]) <span class="keyword">this</span>._visitRaw(ast.stmt[<span class="number">1</span>]);</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            _rawVisitors: &#123;</span><br><span class="line">                <span class="string">"var"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"var "</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> items = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(items[i][<span class="number">0</span>]);</span><br><span class="line">                        <span class="keyword">if</span> (items[i].length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">" = "</span>)._visitRaw(items[i][<span class="number">1</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; items.length - <span class="number">1</span>) <span class="keyword">this</span>._write(<span class="string">", "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">";"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"seq"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; ast.length; i++) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(ast[i]);</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; ast.length - <span class="number">1</span>) <span class="keyword">this</span>._write(<span class="string">", "</span>); </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"binary"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> op = ast[<span class="number">1</span>], left = ast[<span class="number">2</span>], right = ast[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="function"><span class="keyword">function</span> <span class="title">needBracket</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> type = item[<span class="number">0</span>];</span><br><span class="line">                        <span class="keyword">return</span> !(type == <span class="string">"num"</span> || type == <span class="string">"name"</span> || type == <span class="string">"dot"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (needBracket(left)) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"("</span>)._visitRaw(left)._write(<span class="string">") "</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(left)._write(<span class="string">" "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(op);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (needBracket(right)) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">" ("</span>)._visitRaw(right)._write(<span class="string">")"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">" "</span>)._visitRaw(right);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"sub"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> prop = ast[<span class="number">1</span>], index = ast[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="function"><span class="keyword">function</span> <span class="title">needBracket</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> !(prop[<span class="number">0</span>] == <span class="string">"name"</span>)</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (needBracket()) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"("</span>)._visitRaw(prop)._write(<span class="string">")["</span>)._visitRaw(index)._write(<span class="string">"]"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(prop)._write(<span class="string">"["</span>)._visitRaw(index)._write(<span class="string">"]"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"unary-postfix"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> op = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">var</span> item = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitRaw(item)._write(op);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"unary-prefix"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> op = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">var</span> item = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">this</span>._write(op);</span><br><span class="line">                    <span class="keyword">if</span> (op == <span class="string">"typeof"</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"("</span>)._visitRaw(item)._write(<span class="string">")"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(item);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"assign"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> op = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">var</span> name = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">var</span> value = ast[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._visitRaw(name);</span><br><span class="line">                    <span class="keyword">if</span> ((<span class="keyword">typeof</span> op) == <span class="string">"string"</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">" "</span> + op + <span class="string">"= "</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">" = "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">this</span>._visitRaw(value);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"stat"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitRaw(ast[<span class="number">1</span>])._write(<span class="string">";"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"dot"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="function"><span class="keyword">function</span> <span class="title">needBracket</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> leftOp = ast[<span class="number">1</span>][<span class="number">0</span>];</span><br><span class="line">                        <span class="keyword">return</span> !(leftOp == <span class="string">"dot"</span> || leftOp == <span class="string">"name"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (needBracket()) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"("</span>)._visitRaw(ast[<span class="number">1</span>])._write(<span class="string">")."</span>)._write(ast[<span class="number">2</span>]);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(ast[<span class="number">1</span>])._write(<span class="string">"."</span>)._write(ast[<span class="number">2</span>]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"new"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> ctor = ast[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"new "</span>)._visitRaw(ctor)._write(<span class="string">"("</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> args = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = args.length; i &lt; len; i++) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(args[i]);</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; len - <span class="number">1</span>) <span class="keyword">this</span>._write(<span class="string">", "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"call"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                </span><br><span class="line">                    <span class="keyword">if</span> (_isJscexPattern(ast)) &#123;</span><br><span class="line">                        <span class="keyword">var</span> indent = <span class="keyword">this</span>._indent + <span class="keyword">this</span>._indentLevel * <span class="number">4</span>;</span><br><span class="line">                        <span class="keyword">var</span> newCode = _compileJscexPattern(ast, indent);</span><br><span class="line">                        <span class="keyword">this</span>._write(newCode);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> invalidBind = (ast[<span class="number">1</span>][<span class="number">0</span>] == <span class="string">"name"</span>) &amp;&amp; (ast[<span class="number">1</span>][<span class="number">1</span>] == <span class="keyword">this</span>._binder);</span><br><span class="line">                        <span class="keyword">if</span> (invalidBind) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._pos = &#123; <span class="attr">inFunction</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">                            <span class="keyword">this</span>._buffer = [];</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(ast[<span class="number">1</span>])._write(<span class="string">"("</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">var</span> args = ast[<span class="number">2</span>];</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._visitRaw(args[i]);</span><br><span class="line">                            <span class="keyword">if</span> (i &lt; args.length - <span class="number">1</span>) <span class="keyword">this</span>._write(<span class="string">", "</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">")"</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (invalidBind) &#123;</span><br><span class="line">                            <span class="keyword">throw</span> (<span class="string">"Invalid bind operation: "</span> + <span class="keyword">this</span>._buffer.join(<span class="string">""</span>));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"name"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(ast[<span class="number">1</span>]);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"object"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> items = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (items.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"&#123; &#125;"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeLine(<span class="string">"&#123;"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line">                        </span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                                ._write(stringify(items[i][<span class="number">0</span>]) + <span class="string">": "</span>)</span><br><span class="line">                                ._visitRaw(items[i][<span class="number">1</span>]);</span><br><span class="line">                            </span><br><span class="line">                            <span class="keyword">if</span> (i &lt; items.length - <span class="number">1</span>) &#123;</span><br><span class="line">                                <span class="keyword">this</span>._writeLine(<span class="string">","</span>);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">this</span>._writeLine(<span class="string">""</span>);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        </span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()._write(<span class="string">"&#125;"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"array"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"["</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> items = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(items[i]);</span><br><span class="line">                        <span class="keyword">if</span> (i &lt; items.length - <span class="number">1</span>) <span class="keyword">this</span>._write(<span class="string">", "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"]"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"num"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(ast[<span class="number">1</span>]);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"regexp"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"/"</span> + ast[<span class="number">1</span>] + <span class="string">"/"</span> + ast[<span class="number">2</span>]);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"string"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(stringify(ast[<span class="number">1</span>]));</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"function"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitRawFunction(ast);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"defun"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._visitRawFunction(ast);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"return"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._pos.inFunction) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"return"</span>);</span><br><span class="line">                        <span class="keyword">var</span> value = ast[<span class="number">1</span>];</span><br><span class="line">                        <span class="keyword">if</span> (value) <span class="keyword">this</span>._write(<span class="string">" "</span>)._visitRaw(value);</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">";"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"return "</span>)._visitJscex(&#123; <span class="attr">type</span>: <span class="string">"return"</span>, <span class="attr">stmt</span>: ast &#125;)._write(<span class="string">";"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                </span><br><span class="line">                <span class="string">"for"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"for ("</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> setup = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (setup) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(setup);</span><br><span class="line">                        <span class="keyword">if</span> (setup[<span class="number">0</span>] != <span class="string">"var"</span>) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">"; "</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">" "</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"; "</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">if</span> (condition) <span class="keyword">this</span>._visitRaw(condition);</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"; "</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> update = ast[<span class="number">3</span>];</span><br><span class="line">                    <span class="keyword">if</span> (update) <span class="keyword">this</span>._visitRaw(update);</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">") "</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> currInLoop = <span class="keyword">this</span>._pos.inLoop;</span><br><span class="line">                    <span class="keyword">this</span>._pos.inLoop = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">4</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitRawBody(body);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._pos.inLoop = currInLoop;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"for-in"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"for ("</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> declare = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (declare[<span class="number">0</span>] == <span class="string">"var"</span>) &#123; <span class="comment">// declare == ["var", [["m"]]]</span></span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"var "</span> + declare[<span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._visitRaw(declare);</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">" in "</span>)._visitRaw(ast[<span class="number">3</span>])._write(<span class="string">") "</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">4</span>];</span><br><span class="line">                    <span class="keyword">this</span>._visitRawBody(body);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"block"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="string">"&#123;"</span>)</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._visitRawStatements(ast[<span class="number">1</span>]);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"while"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> currInLoop = <span class="keyword">this</span>._pos.inLoop</span><br><span class="line">                    <span class="keyword">this</span>._pos.inLoop = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"while ("</span>)._visitRaw(condition)._write(<span class="string">") "</span>)._visitRawBody(body);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._pos.inLoop = currInLoop;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"do"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">var</span> body = ast[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> currInLoop = <span class="keyword">this</span>._pos.inLoop;</span><br><span class="line">                    <span class="keyword">this</span>._pos.inLoop = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"do "</span>)._visitRawBody(body);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._pos.inLoop = currInLoop;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (body[<span class="number">0</span>] == <span class="string">"block"</span>) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">" "</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeLine()._writeIndents();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"while ("</span>)._visitRaw(condition)._write(<span class="string">");"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"if"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> condition = ast[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">var</span> thenPart = ast[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"if ("</span>)._visitRaw(condition)._write(<span class="string">") "</span>)._visitRawBody(thenPart);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> elsePart = ast[<span class="number">3</span>];</span><br><span class="line">                    <span class="keyword">if</span> (elsePart) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (thenPart[<span class="number">0</span>] == <span class="string">"block"</span>) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">" "</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">this</span>._writeLine(<span class="string">""</span>)</span><br><span class="line">                                ._writeIndents();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (elsePart[<span class="number">0</span>] == <span class="string">"if"</span>) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">"else "</span>)._visitRaw(elsePart);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">"else "</span>)._visitRawBody(elsePart);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"break"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._pos.inLoop || <span class="keyword">this</span>._pos.inSwitch) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"break;"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"return "</span>)._visitJscex(&#123; <span class="attr">type</span>: <span class="string">"break"</span>, <span class="attr">stmt</span>: ast &#125;)._write(<span class="string">";"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"continue"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>._pos.inLoop) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"continue;"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"return "</span>)._visitJscex(&#123; <span class="attr">type</span>: <span class="string">"continue"</span>, <span class="attr">stmt</span>: ast &#125;)._write(<span class="string">";"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"throw"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> pos = <span class="keyword">this</span>._pos;</span><br><span class="line">                    <span class="keyword">if</span> (pos.inTry || pos.inFunction) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"throw "</span>)._visitRaw(ast[<span class="number">1</span>])._write(<span class="string">";"</span>);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">this</span>._write(<span class="string">"return "</span>)._visitJscex(&#123; <span class="attr">type</span>: <span class="string">"throw"</span>, <span class="attr">stmt</span>: ast &#125;)._write(<span class="string">";"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"conditional"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"("</span>)._visitRaw(ast[<span class="number">1</span>])._write(<span class="string">") ? ("</span>)._visitRaw(ast[<span class="number">2</span>])._write(<span class="string">") : ("</span>)._visitRaw(ast[<span class="number">3</span>])._write(<span class="string">")"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"try"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeLine(<span class="string">"try &#123;"</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> currInTry = <span class="keyword">this</span>._pos.inTry;</span><br><span class="line">                    <span class="keyword">this</span>._pos.inTry = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._visitRawStatements(ast[<span class="number">1</span>]);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._pos.inTry = currInTry;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> catchClause = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">var</span> finallyStatements = ast[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (catchClause) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"&#125; catch ("</span> + catchClause[<span class="number">0</span>] + <span class="string">") &#123;"</span>)</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitRawStatements(catchClause[<span class="number">1</span>]);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (finallyStatements) &#123;</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                            ._writeLine(<span class="string">"&#125; finally &#123;"</span>);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitRawStatements(finallyStatements);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line">                    &#125;                </span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;"</span>);</span><br><span class="line">                &#125;,</span><br><span class="line"></span><br><span class="line">                <span class="string">"switch"</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ast</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>._write(<span class="string">"switch ("</span>)._visitRaw(ast[<span class="number">1</span>])._writeLine(<span class="string">") &#123;"</span>);</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> currInSwitch = <span class="keyword">this</span>._pos.inSwitch;</span><br><span class="line">                    <span class="keyword">this</span>._pos.inSwitch = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">var</span> cases = ast[<span class="number">2</span>];</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cases.length; i++) &#123;</span><br><span class="line">                        <span class="keyword">var</span> c = cases[i];</span><br><span class="line">                        <span class="keyword">this</span>._writeIndents();</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> (c[<span class="number">0</span>]) &#123;</span><br><span class="line">                            <span class="keyword">this</span>._write(<span class="string">"case "</span>)._visitRaw(c[<span class="number">0</span>])._writeLine(<span class="string">":"</span>);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">this</span>._writeLine(<span class="string">"default:"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel++;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">this</span>._visitRawStatements(c[<span class="number">1</span>]);</span><br><span class="line">                        <span class="keyword">this</span>._indentLevel--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">this</span>._indentLevel--;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._pos.inSwitch = currInSwitch;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">this</span>._writeIndents()</span><br><span class="line">                        ._write(<span class="string">"&#125;"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">_isJscexPattern</span>(<span class="params">ast</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (ast[<span class="number">0</span>] != <span class="string">"call"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">var</span> evalName = ast[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (evalName[<span class="number">0</span>] != <span class="string">"name"</span> || evalName[<span class="number">1</span>] != <span class="string">"eval"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> compileCall = ast[<span class="number">2</span>][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (!compileCall || compileCall[<span class="number">0</span>] != <span class="string">"call"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> compileMethod = compileCall[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (!compileMethod || compileMethod[<span class="number">0</span>] != <span class="string">"dot"</span> || compileMethod[<span class="number">2</span>] != <span class="string">"compile"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> jscexName = compileMethod[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (!jscexName || jscexName[<span class="number">0</span>] != <span class="string">"name"</span> || jscexName[<span class="number">1</span>] != <span class="string">"Jscex"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> builder = compileCall[<span class="number">2</span>][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (!builder || builder[<span class="number">0</span>] != <span class="string">"string"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> func = compileCall[<span class="number">2</span>][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (!func || func[<span class="number">0</span>] != <span class="string">"function"</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">_compileJscexPattern</span>(<span class="params">ast, indent</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> builderName = ast[<span class="number">2</span>][<span class="number">0</span>][<span class="number">2</span>][<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">var</span> funcAst = ast[<span class="number">2</span>][<span class="number">0</span>][<span class="number">2</span>][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">var</span> binder = root.binders[builderName];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> jscexTreeGenerator = <span class="keyword">new</span> JscexTreeGenerator(binder);</span><br><span class="line">            <span class="keyword">var</span> jscexAst = jscexTreeGenerator.generate(funcAst);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> codeGenerator = <span class="keyword">new</span> CodeGenerator(builderName, binder, indent);</span><br><span class="line">            <span class="keyword">var</span> newCode = codeGenerator.generate(funcAst[<span class="number">2</span>], jscexAst);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> newCode;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">compile</span>(<span class="params">builderName, func</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> funcCode = func.toString();</span><br><span class="line">            <span class="keyword">var</span> evalCode = <span class="string">"eval(Jscex.compile("</span> + stringify(builderName) + <span class="string">", "</span> + funcCode + <span class="string">"))"</span></span><br><span class="line">            <span class="keyword">var</span> evalCodeAst = root.parse(evalCode);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// [ "toplevel", [ [ "stat", [ "call", ... ] ] ] ]</span></span><br><span class="line">            <span class="keyword">var</span> evalAst = evalCodeAst[<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">var</span> newCode = _compileJscexPattern(evalAst, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">            root.logger.debug(funcCode + <span class="string">"\n\n&gt;&gt;&gt;\n\n"</span> + newCode);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> codeGenerator(newCode);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        root.compile = compile;</span><br><span class="line">        </span><br><span class="line">        root.modules[<span class="string">"jit"</span>] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> isCommonJS = (<span class="keyword">typeof</span> <span class="built_in">require</span> !== <span class="string">"undefined"</span> &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">"undefined"</span> &amp;&amp; <span class="built_in">module</span>.exports);</span><br><span class="line">    <span class="keyword">var</span> isAmd = (<span class="keyword">typeof</span> define !== <span class="string">"undefined"</span> &amp;&amp; define.amd);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (isCommonJS) &#123;</span><br><span class="line">        <span class="built_in">module</span>.exports.init = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!root.modules[<span class="string">"parser"</span>]) &#123;</span><br><span class="line">                <span class="built_in">require</span>(<span class="string">"./jscex-parser"</span>).init(root);</span><br><span class="line">            &#125;;</span><br><span class="line">            </span><br><span class="line">            init(root);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isAmd) &#123;</span><br><span class="line">        define(<span class="string">"jscex-jit"</span>, [<span class="string">"jscex-parser"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">parser</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                init: <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (!root.modules[<span class="string">"parser"</span>]) &#123;</span><br><span class="line">                        parser.init(root);</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    init(root);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> Jscex === <span class="string">"undefined"</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Missing root object, please load "jscex" module first.'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!Jscex.modules[<span class="string">"parser"</span>]) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Missing essential components, please initialize "parser" module first.'</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        init(Jscex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 jscex-parser.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/***********************************************************************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  A JavaScript tokenizer / parser / beautifier / compressor.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  This version is suitable for Node.js.  With minimal changes (the</span></span><br><span class="line"><span class="comment">  exports stuff) it should work on any JS platform.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  This file contains the tokenizer/parser.  It is a port to JavaScript</span></span><br><span class="line"><span class="comment">  of parse-js [1], a JavaScript parser library written in Common Lisp</span></span><br><span class="line"><span class="comment">  by Marijn Haverbeke.  Thank you Marijn!</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  [1] http://marijn.haverbeke.nl/parse-js/</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  Exported functions:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    - tokenizer(code) -- returns a function.  Call the returned</span></span><br><span class="line"><span class="comment">      function to fetch the next token.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    - parse(code) -- returns an AST of the given JavaScript code.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  -------------------------------- (C) ---------------------------------</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                           Author: Mihai Bazon</span></span><br><span class="line"><span class="comment">                         &lt;mihai.bazon@gmail.com&gt;</span></span><br><span class="line"><span class="comment">                       http://mihai.bazon.net/blog</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  Distributed under the BSD license:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Copyright 2010 (c) Mihai Bazon &lt;mihai.bazon@gmail.com&gt;</span></span><br><span class="line"><span class="comment">    Based on parse-js (http://marijn.haverbeke.nl/parse-js/).</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    Redistribution and use in source and binary forms, with or without</span></span><br><span class="line"><span class="comment">    modification, are permitted provided that the following conditions</span></span><br><span class="line"><span class="comment">    are met:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        * Redistributions of source code must retain the above</span></span><br><span class="line"><span class="comment">          copyright notice, this list of conditions and the following</span></span><br><span class="line"><span class="comment">          disclaimer.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        * Redistributions in binary form must reproduce the above</span></span><br><span class="line"><span class="comment">          copyright notice, this list of conditions and the following</span></span><br><span class="line"><span class="comment">          disclaimer in the documentation and/or other materials</span></span><br><span class="line"><span class="comment">          provided with the distribution.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY</span></span><br><span class="line"><span class="comment">    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></span><br><span class="line"><span class="comment">    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span></span><br><span class="line"><span class="comment">    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE</span></span><br><span class="line"><span class="comment">    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,</span></span><br><span class="line"><span class="comment">    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span></span><br><span class="line"><span class="comment">    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span></span><br><span class="line"><span class="comment">    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></span><br><span class="line"><span class="comment">    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR</span></span><br><span class="line"><span class="comment">    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF</span></span><br><span class="line"><span class="comment">    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</span></span><br><span class="line"><span class="comment">    SUCH DAMAGE.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> ***********************************************************************/</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -----[ Tokenizer (constants) ]----- */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> KEYWORDS = array_to_hash([</span><br><span class="line">        <span class="string">"break"</span>,</span><br><span class="line">        <span class="string">"case"</span>,</span><br><span class="line">        <span class="string">"catch"</span>,</span><br><span class="line">        <span class="string">"const"</span>,</span><br><span class="line">        <span class="string">"continue"</span>,</span><br><span class="line">        <span class="string">"default"</span>,</span><br><span class="line">        <span class="string">"delete"</span>,</span><br><span class="line">        <span class="string">"do"</span>,</span><br><span class="line">        <span class="string">"else"</span>,</span><br><span class="line">        <span class="string">"finally"</span>,</span><br><span class="line">        <span class="string">"for"</span>,</span><br><span class="line">        <span class="string">"function"</span>,</span><br><span class="line">        <span class="string">"if"</span>,</span><br><span class="line">        <span class="string">"in"</span>,</span><br><span class="line">        <span class="string">"instanceof"</span>,</span><br><span class="line">        <span class="string">"new"</span>,</span><br><span class="line">        <span class="string">"return"</span>,</span><br><span class="line">        <span class="string">"switch"</span>,</span><br><span class="line">        <span class="string">"throw"</span>,</span><br><span class="line">        <span class="string">"try"</span>,</span><br><span class="line">        <span class="string">"typeof"</span>,</span><br><span class="line">        <span class="string">"var"</span>,</span><br><span class="line">        <span class="string">"void"</span>,</span><br><span class="line">        <span class="string">"while"</span>,</span><br><span class="line">        <span class="string">"with"</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> RESERVED_WORDS = array_to_hash([</span><br><span class="line">        <span class="string">"abstract"</span>,</span><br><span class="line">        <span class="string">"boolean"</span>,</span><br><span class="line">        <span class="string">"byte"</span>,</span><br><span class="line">        <span class="string">"char"</span>,</span><br><span class="line">        <span class="string">"class"</span>,</span><br><span class="line">        <span class="string">"debugger"</span>,</span><br><span class="line">        <span class="string">"double"</span>,</span><br><span class="line">        <span class="string">"enum"</span>,</span><br><span class="line">        <span class="string">"export"</span>,</span><br><span class="line">        <span class="string">"extends"</span>,</span><br><span class="line">        <span class="string">"final"</span>,</span><br><span class="line">        <span class="string">"float"</span>,</span><br><span class="line">        <span class="string">"goto"</span>,</span><br><span class="line">        <span class="string">"implements"</span>,</span><br><span class="line">        <span class="string">"import"</span>,</span><br><span class="line">        <span class="string">"int"</span>,</span><br><span class="line">        <span class="string">"interface"</span>,</span><br><span class="line">        <span class="string">"long"</span>,</span><br><span class="line">        <span class="string">"native"</span>,</span><br><span class="line">        <span class="string">"package"</span>,</span><br><span class="line">        <span class="string">"private"</span>,</span><br><span class="line">        <span class="string">"protected"</span>,</span><br><span class="line">        <span class="string">"public"</span>,</span><br><span class="line">        <span class="string">"short"</span>,</span><br><span class="line">        <span class="string">"static"</span>,</span><br><span class="line">        <span class="string">"super"</span>,</span><br><span class="line">        <span class="string">"synchronized"</span>,</span><br><span class="line">        <span class="string">"throws"</span>,</span><br><span class="line">        <span class="string">"transient"</span>,</span><br><span class="line">        <span class="string">"volatile"</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> KEYWORDS_BEFORE_EXPRESSION = array_to_hash([</span><br><span class="line">        <span class="string">"return"</span>,</span><br><span class="line">        <span class="string">"new"</span>,</span><br><span class="line">        <span class="string">"delete"</span>,</span><br><span class="line">        <span class="string">"throw"</span>,</span><br><span class="line">        <span class="string">"else"</span>,</span><br><span class="line">        <span class="string">"case"</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> KEYWORDS_ATOM = array_to_hash([</span><br><span class="line">        <span class="string">"false"</span>,</span><br><span class="line">        <span class="string">"null"</span>,</span><br><span class="line">        <span class="string">"true"</span>,</span><br><span class="line">        <span class="string">"undefined"</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> OPERATOR_CHARS = array_to_hash(characters(<span class="string">"+-*&amp;%=&lt;&gt;!?|~^"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> RE_HEX_NUMBER = <span class="regexp">/^0x[0-9a-f]+$/i</span>;</span><br><span class="line"><span class="keyword">var</span> RE_OCT_NUMBER = <span class="regexp">/^0[0-7]+$/</span>;</span><br><span class="line"><span class="keyword">var</span> RE_DEC_NUMBER = <span class="regexp">/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> OPERATORS = array_to_hash([</span><br><span class="line">        <span class="string">"in"</span>,</span><br><span class="line">        <span class="string">"instanceof"</span>,</span><br><span class="line">        <span class="string">"typeof"</span>,</span><br><span class="line">        <span class="string">"new"</span>,</span><br><span class="line">        <span class="string">"void"</span>,</span><br><span class="line">        <span class="string">"delete"</span>,</span><br><span class="line">        <span class="string">"++"</span>,</span><br><span class="line">        <span class="string">"--"</span>,</span><br><span class="line">        <span class="string">"+"</span>,</span><br><span class="line">        <span class="string">"-"</span>,</span><br><span class="line">        <span class="string">"!"</span>,</span><br><span class="line">        <span class="string">"~"</span>,</span><br><span class="line">        <span class="string">"&amp;"</span>,</span><br><span class="line">        <span class="string">"|"</span>,</span><br><span class="line">        <span class="string">"^"</span>,</span><br><span class="line">        <span class="string">"*"</span>,</span><br><span class="line">        <span class="string">"/"</span>,</span><br><span class="line">        <span class="string">"%"</span>,</span><br><span class="line">        <span class="string">"&gt;&gt;"</span>,</span><br><span class="line">        <span class="string">"&lt;&lt;"</span>,</span><br><span class="line">        <span class="string">"&gt;&gt;&gt;"</span>,</span><br><span class="line">        <span class="string">"&lt;"</span>,</span><br><span class="line">        <span class="string">"&gt;"</span>,</span><br><span class="line">        <span class="string">"&lt;="</span>,</span><br><span class="line">        <span class="string">"&gt;="</span>,</span><br><span class="line">        <span class="string">"=="</span>,</span><br><span class="line">        <span class="string">"==="</span>,</span><br><span class="line">        <span class="string">"!="</span>,</span><br><span class="line">        <span class="string">"!=="</span>,</span><br><span class="line">        <span class="string">"?"</span>,</span><br><span class="line">        <span class="string">"="</span>,</span><br><span class="line">        <span class="string">"+="</span>,</span><br><span class="line">        <span class="string">"-="</span>,</span><br><span class="line">        <span class="string">"/="</span>,</span><br><span class="line">        <span class="string">"*="</span>,</span><br><span class="line">        <span class="string">"%="</span>,</span><br><span class="line">        <span class="string">"&gt;&gt;="</span>,</span><br><span class="line">        <span class="string">"&lt;&lt;="</span>,</span><br><span class="line">        <span class="string">"&gt;&gt;&gt;="</span>,</span><br><span class="line">        <span class="string">"|="</span>,</span><br><span class="line">        <span class="string">"^="</span>,</span><br><span class="line">        <span class="string">"&amp;="</span>,</span><br><span class="line">        <span class="string">"&amp;&amp;"</span>,</span><br><span class="line">        <span class="string">"||"</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> WHITESPACE_CHARS = array_to_hash(characters(<span class="string">" \n\r\t\u200b"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> PUNC_BEFORE_EXPRESSION = array_to_hash(characters(<span class="string">"[&#123;&#125;(,.;:"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> PUNC_CHARS = array_to_hash(characters(<span class="string">"[]&#123;&#125;(),;:"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> REGEXP_MODIFIERS = array_to_hash(characters(<span class="string">"gmsiy"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -----[ Tokenizer ]----- */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// regexps adapted from http://xregexp.com/plugins/#unicode</span></span><br><span class="line"><span class="keyword">var</span> UNICODE = &#123;</span><br><span class="line">        letter: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"</span>),</span><br><span class="line">        non_spacing_mark: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"</span>),</span><br><span class="line">        space_combining_mark: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"</span>),</span><br><span class="line">        connector_punctuation: <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_letter</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UNICODE.letter.test(ch);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_digit</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        ch = ch.charCodeAt(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> ch &gt;= <span class="number">48</span> &amp;&amp; ch &lt;= <span class="number">57</span>; <span class="comment">//<span class="doctag">XXX:</span> find out if "UnicodeDigit" means something else than 0..9</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_alphanumeric_char</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> is_digit(ch) || is_letter(ch);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_unicode_combining_mark</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UNICODE.non_spacing_mark.test(ch) || UNICODE.space_combining_mark.test(ch);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_unicode_connector_punctuation</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> UNICODE.connector_punctuation.test(ch);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_identifier_start</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ch == <span class="string">"$"</span> || ch == <span class="string">"_"</span> || is_letter(ch);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_identifier_char</span>(<span class="params">ch</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> is_identifier_start(ch)</span><br><span class="line">                || is_unicode_combining_mark(ch)</span><br><span class="line">                || is_digit(ch)</span><br><span class="line">                || is_unicode_connector_punctuation(ch)</span><br><span class="line">                || ch == <span class="string">"\u200c"</span> <span class="comment">// zero-width non-joiner &lt;ZWNJ&gt;</span></span><br><span class="line">                || ch == <span class="string">"\u200d"</span> <span class="comment">// zero-width joiner &lt;ZWJ&gt; (in my ECMA-262 PDF, this is also 200c)</span></span><br><span class="line">        ;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse_js_number</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (RE_HEX_NUMBER.test(num)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">parseInt</span>(num.substr(<span class="number">2</span>), <span class="number">16</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (RE_OCT_NUMBER.test(num)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">parseInt</span>(num.substr(<span class="number">1</span>), <span class="number">8</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (RE_DEC_NUMBER.test(num)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">parseFloat</span>(num);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">JS_Parse_Error</span>(<span class="params">message, line, col, pos</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">        <span class="keyword">this</span>.line = line;</span><br><span class="line">        <span class="keyword">this</span>.col = col;</span><br><span class="line">        <span class="keyword">this</span>.pos = pos;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">                (&#123;&#125;)();</span><br><span class="line">        &#125; <span class="keyword">catch</span>(ex) &#123;</span><br><span class="line">                <span class="keyword">this</span>.stack = ex.stack;</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">JS_Parse_Error.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.message + <span class="string">" (line: "</span> + <span class="keyword">this</span>.line + <span class="string">", col: "</span> + <span class="keyword">this</span>.col + <span class="string">", pos: "</span> + <span class="keyword">this</span>.pos + <span class="string">")"</span> + <span class="string">"\n\n"</span> + <span class="keyword">this</span>.stack;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">js_error</span>(<span class="params">message, line, col, pos</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> JS_Parse_Error(message, line, col, pos);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_token</span>(<span class="params">token, type, val</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> token.type == type &amp;&amp; (val == <span class="literal">null</span> || token.value == val);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> EX_EOF = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tokenizer</span>(<span class="params">$TEXT</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> S = &#123;</span><br><span class="line">                text            : $TEXT.replace(<span class="regexp">/\r\n?|[\n\u2028\u2029]/g</span>, <span class="string">"\n"</span>).replace(<span class="regexp">/^\uFEFF/</span>, <span class="string">''</span>),</span><br><span class="line">                pos             : <span class="number">0</span>,</span><br><span class="line">                tokpos          : <span class="number">0</span>,</span><br><span class="line">                line            : <span class="number">0</span>,</span><br><span class="line">                tokline         : <span class="number">0</span>,</span><br><span class="line">                col             : <span class="number">0</span>,</span><br><span class="line">                tokcol          : <span class="number">0</span>,</span><br><span class="line">                newline_before  : <span class="literal">false</span>,</span><br><span class="line">                regex_allowed   : <span class="literal">false</span>,</span><br><span class="line">                comments_before : []</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> S.text.charAt(S.pos); &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">signal_eof</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> ch = S.text.charAt(S.pos++);</span><br><span class="line">                <span class="keyword">if</span> (signal_eof &amp;&amp; !ch)</span><br><span class="line">                        <span class="keyword">throw</span> EX_EOF;</span><br><span class="line">                <span class="keyword">if</span> (ch == <span class="string">"\n"</span>) &#123;</span><br><span class="line">                        S.newline_before = <span class="literal">true</span>;</span><br><span class="line">                        ++S.line;</span><br><span class="line">                        S.col = <span class="number">0</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        ++S.col;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> ch;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">eof</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> !S.peek();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">what, signal_eof</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> pos = S.text.indexOf(what, S.pos);</span><br><span class="line">                <span class="keyword">if</span> (signal_eof &amp;&amp; pos == <span class="number">-1</span>) <span class="keyword">throw</span> EX_EOF;</span><br><span class="line">                <span class="keyword">return</span> pos;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">start_token</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                S.tokline = S.line;</span><br><span class="line">                S.tokcol = S.col;</span><br><span class="line">                S.tokpos = S.pos;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">token</span>(<span class="params">type, value, is_comment</span>) </span>&#123;</span><br><span class="line">                S.regex_allowed = ((type == <span class="string">"operator"</span> &amp;&amp; !HOP(UNARY_POSTFIX, value)) ||</span><br><span class="line">                                   (type == <span class="string">"keyword"</span> &amp;&amp; HOP(KEYWORDS_BEFORE_EXPRESSION, value)) ||</span><br><span class="line">                                   (type == <span class="string">"punc"</span> &amp;&amp; HOP(PUNC_BEFORE_EXPRESSION, value)));</span><br><span class="line">                <span class="keyword">var</span> ret = &#123;</span><br><span class="line">                        type  : type,</span><br><span class="line">                        value : value,</span><br><span class="line">                        line  : S.tokline,</span><br><span class="line">                        col   : S.tokcol,</span><br><span class="line">                        pos   : S.tokpos,</span><br><span class="line">                        nlb   : S.newline_before</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="keyword">if</span> (!is_comment) &#123;</span><br><span class="line">                        ret.comments_before = S.comments_before;</span><br><span class="line">                        S.comments_before = [];</span><br><span class="line">                &#125;</span><br><span class="line">                S.newline_before = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">skip_whitespace</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">while</span> (HOP(WHITESPACE_CHARS, peek()))</span><br><span class="line">                        next();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_while</span>(<span class="params">pred</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> ret = <span class="string">""</span>, ch = peek(), i = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (ch &amp;&amp; pred(ch, i++)) &#123;</span><br><span class="line">                        ret += next();</span><br><span class="line">                        ch = peek();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> ret;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">parse_error</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">                js_error(err, S.tokline, S.tokcol, S.tokpos);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_num</span>(<span class="params">prefix</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> has_e = <span class="literal">false</span>, after_e = <span class="literal">false</span>, has_x = <span class="literal">false</span>, has_dot = prefix == <span class="string">"."</span>;</span><br><span class="line">                <span class="keyword">var</span> num = read_while(<span class="function"><span class="keyword">function</span>(<span class="params">ch, i</span>)</span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (ch == <span class="string">"x"</span> || ch == <span class="string">"X"</span>) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (has_x) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                                <span class="keyword">return</span> has_x = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (!has_x &amp;&amp; (ch == <span class="string">"E"</span> || ch == <span class="string">"e"</span>)) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (has_e) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                                <span class="keyword">return</span> has_e = after_e = <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (ch == <span class="string">"-"</span>) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (after_e || (i == <span class="number">0</span> &amp;&amp; !prefix)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (ch == <span class="string">"+"</span>) <span class="keyword">return</span> after_e;</span><br><span class="line">                        after_e = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">if</span> (ch == <span class="string">"."</span>) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (!has_dot &amp;&amp; !has_x)</span><br><span class="line">                                        <span class="keyword">return</span> has_dot = <span class="literal">true</span>;</span><br><span class="line">                                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">return</span> is_alphanumeric_char(ch);</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="keyword">if</span> (prefix)</span><br><span class="line">                        num = prefix + num;</span><br><span class="line">                <span class="keyword">var</span> valid = parse_js_number(num);</span><br><span class="line">                <span class="keyword">if</span> (!<span class="built_in">isNaN</span>(valid)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> token(<span class="string">"num"</span>, valid);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        parse_error(<span class="string">"Invalid syntax: "</span> + num);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_escaped_char</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> ch = next(<span class="literal">true</span>);</span><br><span class="line">                <span class="keyword">switch</span> (ch) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"n"</span> : <span class="keyword">return</span> <span class="string">"\n"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"r"</span> : <span class="keyword">return</span> <span class="string">"\r"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"t"</span> : <span class="keyword">return</span> <span class="string">"\t"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"b"</span> : <span class="keyword">return</span> <span class="string">"\b"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"v"</span> : <span class="keyword">return</span> <span class="string">"\v"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"f"</span> : <span class="keyword">return</span> <span class="string">"\f"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"0"</span> : <span class="keyword">return</span> <span class="string">"\0"</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"x"</span> : <span class="keyword">return</span> <span class="built_in">String</span>.fromCharCode(hex_bytes(<span class="number">2</span>));</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"u"</span> : <span class="keyword">return</span> <span class="built_in">String</span>.fromCharCode(hex_bytes(<span class="number">4</span>));</span><br><span class="line">                    <span class="keyword">default</span>  : <span class="keyword">return</span> ch;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">hex_bytes</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (; n &gt; <span class="number">0</span>; --n) &#123;</span><br><span class="line">                        <span class="keyword">var</span> digit = <span class="built_in">parseInt</span>(next(<span class="literal">true</span>), <span class="number">16</span>);</span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">isNaN</span>(digit))</span><br><span class="line">                                parse_error(<span class="string">"Invalid hex-character pattern in string"</span>);</span><br><span class="line">                        num = (num &lt;&lt; <span class="number">4</span>) | digit;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> num;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_string</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> with_eof_error(<span class="string">"Unterminated string constant"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> quote = next(), ret = <span class="string">""</span>;</span><br><span class="line">                        <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">                                <span class="keyword">var</span> ch = next(<span class="literal">true</span>);</span><br><span class="line">                                <span class="keyword">if</span> (ch == <span class="string">"\\"</span>) ch = read_escaped_char();</span><br><span class="line">                                <span class="keyword">else</span> <span class="keyword">if</span> (ch == quote) <span class="keyword">break</span>;</span><br><span class="line">                                ret += ch;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">return</span> token(<span class="string">"string"</span>, ret);</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_line_comment</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">var</span> i = find(<span class="string">"\n"</span>), ret;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">-1</span>) &#123;</span><br><span class="line">                        ret = S.text.substr(S.pos);</span><br><span class="line">                        S.pos = S.text.length;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        ret = S.text.substring(S.pos, i);</span><br><span class="line">                        S.pos = i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> token(<span class="string">"comment1"</span>, ret, <span class="literal">true</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_multiline_comment</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">return</span> with_eof_error(<span class="string">"Unterminated multiline comment"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> i = find(<span class="string">"*/"</span>, <span class="literal">true</span>),</span><br><span class="line">                            text = S.text.substring(S.pos, i),</span><br><span class="line">                            tok = token(<span class="string">"comment2"</span>, text, <span class="literal">true</span>);</span><br><span class="line">                        S.pos = i + <span class="number">2</span>;</span><br><span class="line">                        S.line += text.split(<span class="string">"\n"</span>).length - <span class="number">1</span>;</span><br><span class="line">                        S.newline_before = text.indexOf(<span class="string">"\n"</span>) &gt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// https://github.com/mishoo/UglifyJS/issues/#issue/100</span></span><br><span class="line">                        <span class="keyword">if</span> (<span class="regexp">/^@cc_on/i</span>.test(text)) &#123;</span><br><span class="line">                                warn(<span class="string">"WARNING: at line "</span> + S.line);</span><br><span class="line">                                warn(<span class="string">"*** Found \"conditional comment\": "</span> + text);</span><br><span class="line">                                warn(<span class="string">"*** UglifyJS DISCARDS ALL COMMENTS.  This means your code might no longer work properly in Internet Explorer."</span>);</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">return</span> tok;</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_name</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> backslash = <span class="literal">false</span>, name = <span class="string">""</span>, ch;</span><br><span class="line">                <span class="keyword">while</span> ((ch = peek()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (!backslash) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (ch == <span class="string">"\\"</span>) backslash = <span class="literal">true</span>, next();</span><br><span class="line">                                <span class="keyword">else</span> <span class="keyword">if</span> (is_identifier_char(ch)) name += next();</span><br><span class="line">                                <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (ch != <span class="string">"u"</span>) parse_error(<span class="string">"Expecting UnicodeEscapeSequence -- uXXXX"</span>);</span><br><span class="line">                                ch = read_escaped_char();</span><br><span class="line">                                <span class="keyword">if</span> (!is_identifier_char(ch)) parse_error(<span class="string">"Unicode char: "</span> + ch.charCodeAt(<span class="number">0</span>) + <span class="string">" is not valid in identifier"</span>);</span><br><span class="line">                                name += ch;</span><br><span class="line">                                backslash = <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> name;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_regexp</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> with_eof_error(<span class="string">"Unterminated regular expression"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> prev_backslash = <span class="literal">false</span>, regexp = <span class="string">""</span>, ch, in_class = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">while</span> ((ch = next(<span class="literal">true</span>))) <span class="keyword">if</span> (prev_backslash) &#123;</span><br><span class="line">                                regexp += <span class="string">"\\"</span> + ch;</span><br><span class="line">                                prev_backslash = <span class="literal">false</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">"["</span>) &#123;</span><br><span class="line">                                in_class = <span class="literal">true</span>;</span><br><span class="line">                                regexp += ch;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">"]"</span> &amp;&amp; in_class) &#123;</span><br><span class="line">                                in_class = <span class="literal">false</span>;</span><br><span class="line">                                regexp += ch;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">"/"</span> &amp;&amp; !in_class) &#123;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">"\\"</span>) &#123;</span><br><span class="line">                                prev_backslash = <span class="literal">true</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                regexp += ch;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">var</span> mods = read_name();</span><br><span class="line">                        <span class="keyword">return</span> token(<span class="string">"regexp"</span>, [ regexp, mods ]);</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_operator</span>(<span class="params">prefix</span>) </span>&#123;</span><br><span class="line">                <span class="function"><span class="keyword">function</span> <span class="title">grow</span>(<span class="params">op</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">if</span> (!peek()) <span class="keyword">return</span> op;</span><br><span class="line">                        <span class="keyword">var</span> bigger = op + peek();</span><br><span class="line">                        <span class="keyword">if</span> (HOP(OPERATORS, bigger)) &#123;</span><br><span class="line">                                next();</span><br><span class="line">                                <span class="keyword">return</span> grow(bigger);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">return</span> op;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">                <span class="keyword">return</span> token(<span class="string">"operator"</span>, grow(prefix || next()));</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">handle_slash</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">var</span> regex_allowed = S.regex_allowed;</span><br><span class="line">                <span class="keyword">switch</span> (peek()) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"/"</span>:</span><br><span class="line">                        S.comments_before.push(read_line_comment());</span><br><span class="line">                        S.regex_allowed = regex_allowed;</span><br><span class="line">                        <span class="keyword">return</span> next_token();</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"*"</span>:</span><br><span class="line">                        S.comments_before.push(read_multiline_comment());</span><br><span class="line">                        S.regex_allowed = regex_allowed;</span><br><span class="line">                        <span class="keyword">return</span> next_token();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> S.regex_allowed ? read_regexp() : read_operator(<span class="string">"/"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">handle_dot</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">return</span> is_digit(peek())</span><br><span class="line">                        ? read_num(<span class="string">"."</span>)</span><br><span class="line">                        : token(<span class="string">"punc"</span>, <span class="string">"."</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">read_word</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> word = read_name();</span><br><span class="line">                <span class="keyword">return</span> !HOP(KEYWORDS, word)</span><br><span class="line">                        ? token(<span class="string">"name"</span>, word)</span><br><span class="line">                        : HOP(OPERATORS, word)</span><br><span class="line">                        ? token(<span class="string">"operator"</span>, word)</span><br><span class="line">                        : HOP(KEYWORDS_ATOM, word)</span><br><span class="line">                        ? token(<span class="string">"atom"</span>, word)</span><br><span class="line">                        : token(<span class="string">"keyword"</span>, word);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">with_eof_error</span>(<span class="params">eof_error, cont</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> cont();</span><br><span class="line">                &#125; <span class="keyword">catch</span>(ex) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (ex === EX_EOF) parse_error(eof_error);</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">throw</span> ex;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">next_token</span>(<span class="params">force_regexp</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (force_regexp)</span><br><span class="line">                        <span class="keyword">return</span> read_regexp();</span><br><span class="line">                skip_whitespace();</span><br><span class="line">                start_token();</span><br><span class="line">                <span class="keyword">var</span> ch = peek();</span><br><span class="line">                <span class="keyword">if</span> (!ch) <span class="keyword">return</span> token(<span class="string">"eof"</span>);</span><br><span class="line">                <span class="keyword">if</span> (is_digit(ch)) <span class="keyword">return</span> read_num();</span><br><span class="line">                <span class="keyword">if</span> (ch == <span class="string">'"'</span> || ch == <span class="string">"'"</span>) <span class="keyword">return</span> read_string();</span><br><span class="line">                <span class="keyword">if</span> (HOP(PUNC_CHARS, ch)) <span class="keyword">return</span> token(<span class="string">"punc"</span>, next());</span><br><span class="line">                <span class="keyword">if</span> (ch == <span class="string">"."</span>) <span class="keyword">return</span> handle_dot();</span><br><span class="line">                <span class="keyword">if</span> (ch == <span class="string">"/"</span>) <span class="keyword">return</span> handle_slash();</span><br><span class="line">                <span class="keyword">if</span> (HOP(OPERATOR_CHARS, ch)) <span class="keyword">return</span> read_operator();</span><br><span class="line">                <span class="keyword">if</span> (ch == <span class="string">"\\"</span> || is_identifier_start(ch)) <span class="keyword">return</span> read_word();</span><br><span class="line">                parse_error(<span class="string">"Unexpected character '"</span> + ch + <span class="string">"'"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        next_token.context = <span class="function"><span class="keyword">function</span>(<span class="params">nc</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (nc) S = nc;</span><br><span class="line">                <span class="keyword">return</span> S;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> next_token;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -----[ Parser (constants) ]----- */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> UNARY_PREFIX = array_to_hash([</span><br><span class="line">        <span class="string">"typeof"</span>,</span><br><span class="line">        <span class="string">"void"</span>,</span><br><span class="line">        <span class="string">"delete"</span>,</span><br><span class="line">        <span class="string">"--"</span>,</span><br><span class="line">        <span class="string">"++"</span>,</span><br><span class="line">        <span class="string">"!"</span>,</span><br><span class="line">        <span class="string">"~"</span>,</span><br><span class="line">        <span class="string">"-"</span>,</span><br><span class="line">        <span class="string">"+"</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> UNARY_POSTFIX = array_to_hash([ <span class="string">"--"</span>, <span class="string">"++"</span> ]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ASSIGNMENT = (<span class="function"><span class="keyword">function</span>(<span class="params">a, ret, i</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; a.length) &#123;</span><br><span class="line">                ret[a[i]] = a[i].substr(<span class="number">0</span>, a[i].length - <span class="number">1</span>);</span><br><span class="line">                i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">&#125;)(</span><br><span class="line">        [<span class="string">"+="</span>, <span class="string">"-="</span>, <span class="string">"/="</span>, <span class="string">"*="</span>, <span class="string">"%="</span>, <span class="string">"&gt;&gt;="</span>, <span class="string">"&lt;&lt;="</span>, <span class="string">"&gt;&gt;&gt;="</span>, <span class="string">"|="</span>, <span class="string">"^="</span>, <span class="string">"&amp;="</span>],</span><br><span class="line">        &#123; <span class="string">"="</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        <span class="number">0</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> PRECEDENCE = (<span class="function"><span class="keyword">function</span>(<span class="params">a, ret</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, n = <span class="number">1</span>; i &lt; a.length; ++i, ++n) &#123;</span><br><span class="line">                <span class="keyword">var</span> b = a[i];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; b.length; ++j) &#123;</span><br><span class="line">                        ret[b[j]] = n;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">&#125;)(</span><br><span class="line">        [</span><br><span class="line">                [<span class="string">"||"</span>],</span><br><span class="line">                [<span class="string">"&amp;&amp;"</span>],</span><br><span class="line">                [<span class="string">"|"</span>],</span><br><span class="line">                [<span class="string">"^"</span>],</span><br><span class="line">                [<span class="string">"&amp;"</span>],</span><br><span class="line">                [<span class="string">"=="</span>, <span class="string">"==="</span>, <span class="string">"!="</span>, <span class="string">"!=="</span>],</span><br><span class="line">                [<span class="string">"&lt;"</span>, <span class="string">"&gt;"</span>, <span class="string">"&lt;="</span>, <span class="string">"&gt;="</span>, <span class="string">"in"</span>, <span class="string">"instanceof"</span>],</span><br><span class="line">                [<span class="string">"&gt;&gt;"</span>, <span class="string">"&lt;&lt;"</span>, <span class="string">"&gt;&gt;&gt;"</span>],</span><br><span class="line">                [<span class="string">"+"</span>, <span class="string">"-"</span>],</span><br><span class="line">                [<span class="string">"*"</span>, <span class="string">"/"</span>, <span class="string">"%"</span>]</span><br><span class="line">        ],</span><br><span class="line">        &#123;&#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> STATEMENTS_WITH_LABELS = array_to_hash([ <span class="string">"for"</span>, <span class="string">"do"</span>, <span class="string">"while"</span>, <span class="string">"switch"</span> ]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ATOMIC_START_TOKEN = array_to_hash([ <span class="string">"atom"</span>, <span class="string">"num"</span>, <span class="string">"string"</span>, <span class="string">"regexp"</span>, <span class="string">"name"</span> ]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -----[ Parser ]----- */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NodeWithToken</span>(<span class="params">str, start, end</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = str;</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">NodeWithToken.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>.name; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse</span>(<span class="params">$TEXT, exigent_mode, embed_tokens</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> S = &#123;</span><br><span class="line">                input       : <span class="keyword">typeof</span> $TEXT == <span class="string">"string"</span> ? tokenizer($TEXT, <span class="literal">true</span>) : $TEXT,</span><br><span class="line">                token       : <span class="literal">null</span>,</span><br><span class="line">                prev        : <span class="literal">null</span>,</span><br><span class="line">                peeked      : <span class="literal">null</span>,</span><br><span class="line">                in_function : <span class="number">0</span>,</span><br><span class="line">                in_loop     : <span class="number">0</span>,</span><br><span class="line">                labels      : []</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        S.token = next();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">is</span>(<span class="params">type, value</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> is_token(S.token, type, value);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">peek</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> S.peeked || (S.peeked = S.input()); &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                S.prev = S.token;</span><br><span class="line">                <span class="keyword">if</span> (S.peeked) &#123;</span><br><span class="line">                        S.token = S.peeked;</span><br><span class="line">                        S.peeked = <span class="literal">null</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        S.token = S.input();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> S.token;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">prev</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> S.prev;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">croak</span>(<span class="params">msg, line, col, pos</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> ctx = S.input.context();</span><br><span class="line">                js_error(msg,</span><br><span class="line">                         line != <span class="literal">null</span> ? line : ctx.tokline,</span><br><span class="line">                         col != <span class="literal">null</span> ? col : ctx.tokcol,</span><br><span class="line">                         pos != <span class="literal">null</span> ? pos : ctx.tokpos);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">token_error</span>(<span class="params">token, msg</span>) </span>&#123;</span><br><span class="line">                croak(msg, token.line, token.col);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">unexpected</span>(<span class="params">token</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (token == <span class="literal">null</span>)</span><br><span class="line">                        token = S.token;</span><br><span class="line">                token_error(token, <span class="string">"Unexpected token: "</span> + token.type + <span class="string">" ("</span> + token.value + <span class="string">")"</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expect_token</span>(<span class="params">type, val</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (is(type, val)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> next();</span><br><span class="line">                &#125;</span><br><span class="line">                token_error(S.token, <span class="string">"Unexpected token "</span> + S.token.type + <span class="string">", expected "</span> + type);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expect</span>(<span class="params">punc</span>) </span>&#123; <span class="keyword">return</span> expect_token(<span class="string">"punc"</span>, punc); &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">can_insert_semicolon</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> !exigent_mode &amp;&amp; (</span><br><span class="line">                        S.token.nlb || is(<span class="string">"eof"</span>) || is(<span class="string">"punc"</span>, <span class="string">"&#125;"</span>)</span><br><span class="line">                );</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">semicolon</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"punc"</span>, <span class="string">";"</span>)) next();</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (!can_insert_semicolon()) unexpected();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">as</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> slice(<span class="built_in">arguments</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">parenthesised</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                expect(<span class="string">"("</span>);</span><br><span class="line">                <span class="keyword">var</span> ex = expression();</span><br><span class="line">                expect(<span class="string">")"</span>);</span><br><span class="line">                <span class="keyword">return</span> ex;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">add_tokens</span>(<span class="params">str, start, end</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> str <span class="keyword">instanceof</span> NodeWithToken ? str : <span class="keyword">new</span> NodeWithToken(str, start, end);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> statement = embed_tokens ? <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> start = S.token;</span><br><span class="line">                <span class="keyword">var</span> ast = $statement.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">                ast[<span class="number">0</span>] = add_tokens(ast[<span class="number">0</span>], start, prev());</span><br><span class="line">                <span class="keyword">return</span> ast;</span><br><span class="line">        &#125; : $statement;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">$statement</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"operator"</span>, <span class="string">"/"</span>)) &#123;</span><br><span class="line">                        S.peeked = <span class="literal">null</span>;</span><br><span class="line">                        S.token = S.input(<span class="literal">true</span>); <span class="comment">// force regexp</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">switch</span> (S.token.type) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"num"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"string"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"regexp"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"operator"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"atom"</span>:</span><br><span class="line">                        <span class="keyword">return</span> simple_statement();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"name"</span>:</span><br><span class="line">                        <span class="keyword">return</span> is_token(peek(), <span class="string">"punc"</span>, <span class="string">":"</span>)</span><br><span class="line">                                ? labeled_statement(prog1(S.token.value, next, next))</span><br><span class="line">                                : simple_statement();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"punc"</span>:</span><br><span class="line">                        <span class="keyword">switch</span> (S.token.value) &#123;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"&#123;"</span>:</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"block"</span>, block_());</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"["</span>:</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"("</span>:</span><br><span class="line">                                <span class="keyword">return</span> simple_statement();</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">";"</span>:</span><br><span class="line">                                next();</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"block"</span>);</span><br><span class="line">                            <span class="keyword">default</span>:</span><br><span class="line">                                unexpected();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"keyword"</span>:</span><br><span class="line">                        <span class="keyword">switch</span> (prog1(S.token.value, next)) &#123;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"break"</span>:</span><br><span class="line">                                <span class="keyword">return</span> break_cont(<span class="string">"break"</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"continue"</span>:</span><br><span class="line">                                <span class="keyword">return</span> break_cont(<span class="string">"continue"</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"debugger"</span>:</span><br><span class="line">                                semicolon();</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"debugger"</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"do"</span>:</span><br><span class="line">                                <span class="keyword">return</span> (<span class="function"><span class="keyword">function</span>(<span class="params">body</span>)</span>&#123;</span><br><span class="line">                                        expect_token(<span class="string">"keyword"</span>, <span class="string">"while"</span>);</span><br><span class="line">                                        <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"do"</span>, prog1(parenthesised, semicolon), body);</span><br><span class="line">                                &#125;)(in_loop(statement));</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"for"</span>:</span><br><span class="line">                                <span class="keyword">return</span> for_();</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"function"</span>:</span><br><span class="line">                                <span class="keyword">return</span> function_(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"if"</span>:</span><br><span class="line">                                <span class="keyword">return</span> if_();</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"return"</span>:</span><br><span class="line">                                <span class="keyword">if</span> (S.in_function == <span class="number">0</span>)</span><br><span class="line">                                        croak(<span class="string">"'return' outside of function"</span>);</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"return"</span>,</span><br><span class="line">                                          is(<span class="string">"punc"</span>, <span class="string">";"</span>)</span><br><span class="line">                                          ? (next(), <span class="literal">null</span>)</span><br><span class="line">                                          : can_insert_semicolon()</span><br><span class="line">                                          ? <span class="literal">null</span></span><br><span class="line">                                          : prog1(expression, semicolon));</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"switch"</span>:</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"switch"</span>, parenthesised(), switch_block_());</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"throw"</span>:</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"throw"</span>, prog1(expression, semicolon));</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"try"</span>:</span><br><span class="line">                                <span class="keyword">return</span> try_();</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"var"</span>:</span><br><span class="line">                                <span class="keyword">return</span> prog1(var_, semicolon);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"const"</span>:</span><br><span class="line">                                <span class="keyword">return</span> prog1(const_, semicolon);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"while"</span>:</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"while"</span>, parenthesised(), in_loop(statement));</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"with"</span>:</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"with"</span>, parenthesised(), statement());</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">default</span>:</span><br><span class="line">                                unexpected();</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">labeled_statement</span>(<span class="params">label</span>) </span>&#123;</span><br><span class="line">                S.labels.push(label);</span><br><span class="line">                <span class="keyword">var</span> start = S.token, stat = statement();</span><br><span class="line">                <span class="keyword">if</span> (exigent_mode &amp;&amp; !HOP(STATEMENTS_WITH_LABELS, stat[<span class="number">0</span>]))</span><br><span class="line">                        unexpected(start);</span><br><span class="line">                S.labels.pop();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"label"</span>, label, stat);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">simple_statement</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"stat"</span>, prog1(expression, semicolon));</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">break_cont</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> name = is(<span class="string">"name"</span>) ? S.token.value : <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (name != <span class="literal">null</span>) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">if</span> (!member(name, S.labels))</span><br><span class="line">                                croak(<span class="string">"Label "</span> + name + <span class="string">" without matching loop or statement"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (S.in_loop == <span class="number">0</span>)</span><br><span class="line">                        croak(type + <span class="string">" not inside a loop or switch"</span>);</span><br><span class="line">                semicolon();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(type, name);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">for_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                expect(<span class="string">"("</span>);</span><br><span class="line">                <span class="keyword">var</span> init = <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (!is(<span class="string">"punc"</span>, <span class="string">";"</span>)) &#123;</span><br><span class="line">                        init = is(<span class="string">"keyword"</span>, <span class="string">"var"</span>)</span><br><span class="line">                                ? (next(), var_(<span class="literal">true</span>))</span><br><span class="line">                                : expression(<span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line">                        <span class="keyword">if</span> (is(<span class="string">"operator"</span>, <span class="string">"in"</span>))</span><br><span class="line">                                <span class="keyword">return</span> for_in(init);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> regular_for(init);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">regular_for</span>(<span class="params">init</span>) </span>&#123;</span><br><span class="line">                expect(<span class="string">";"</span>);</span><br><span class="line">                <span class="keyword">var</span> test = is(<span class="string">"punc"</span>, <span class="string">";"</span>) ? <span class="literal">null</span> : expression();</span><br><span class="line">                expect(<span class="string">";"</span>);</span><br><span class="line">                <span class="keyword">var</span> step = is(<span class="string">"punc"</span>, <span class="string">")"</span>) ? <span class="literal">null</span> : expression();</span><br><span class="line">                expect(<span class="string">")"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"for"</span>, init, test, step, in_loop(statement));</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">for_in</span>(<span class="params">init</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> lhs = init[<span class="number">0</span>] == <span class="string">"var"</span> ? <span class="keyword">as</span>(<span class="string">"name"</span>, init[<span class="number">1</span>][<span class="number">0</span>]) : init;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">var</span> obj = expression();</span><br><span class="line">                expect(<span class="string">")"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"for-in"</span>, init, lhs, obj, in_loop(statement));</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> function_ = embed_tokens ? <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> start = prev();</span><br><span class="line">                <span class="keyword">var</span> ast = $function_.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">                ast[<span class="number">0</span>] = add_tokens(ast[<span class="number">0</span>], start, prev());</span><br><span class="line">                <span class="keyword">return</span> ast;</span><br><span class="line">        &#125; : $function_;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">$function_</span>(<span class="params">in_statement</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> name = is(<span class="string">"name"</span>) ? prog1(S.token.value, next) : <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (in_statement &amp;&amp; !name)</span><br><span class="line">                        unexpected();</span><br><span class="line">                expect(<span class="string">"("</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(in_statement ? <span class="string">"defun"</span> : <span class="string">"function"</span>,</span><br><span class="line">                          name,</span><br><span class="line">                          <span class="comment">// arguments</span></span><br><span class="line">                          (<span class="function"><span class="keyword">function</span>(<span class="params">first, a</span>)</span>&#123;</span><br><span class="line">                                  <span class="keyword">while</span> (!is(<span class="string">"punc"</span>, <span class="string">")"</span>)) &#123;</span><br><span class="line">                                          <span class="keyword">if</span> (first) first = <span class="literal">false</span>; <span class="keyword">else</span> expect(<span class="string">","</span>);</span><br><span class="line">                                          <span class="keyword">if</span> (!is(<span class="string">"name"</span>)) unexpected();</span><br><span class="line">                                          a.push(S.token.value);</span><br><span class="line">                                          next();</span><br><span class="line">                                  &#125;</span><br><span class="line">                                  next();</span><br><span class="line">                                  <span class="keyword">return</span> a;</span><br><span class="line">                          &#125;)(<span class="literal">true</span>, []),</span><br><span class="line">                          <span class="comment">// body</span></span><br><span class="line">                          (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                                  ++S.in_function;</span><br><span class="line">                                  <span class="keyword">var</span> loop = S.in_loop;</span><br><span class="line">                                  S.in_loop = <span class="number">0</span>;</span><br><span class="line">                                  <span class="keyword">var</span> a = block_();</span><br><span class="line">                                  --S.in_function;</span><br><span class="line">                                  S.in_loop = loop;</span><br><span class="line">                                  <span class="keyword">return</span> a;</span><br><span class="line">                          &#125;)());</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">if_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> cond = parenthesised(), body = statement(), belse;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"keyword"</span>, <span class="string">"else"</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        belse = statement();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"if"</span>, cond, body, belse);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">block_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                expect(<span class="string">"&#123;"</span>);</span><br><span class="line">                <span class="keyword">var</span> a = [];</span><br><span class="line">                <span class="keyword">while</span> (!is(<span class="string">"punc"</span>, <span class="string">"&#125;"</span>)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (is(<span class="string">"eof"</span>)) unexpected();</span><br><span class="line">                        a.push(statement());</span><br><span class="line">                &#125;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> switch_block_ = curry(in_loop, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                expect(<span class="string">"&#123;"</span>);</span><br><span class="line">                <span class="keyword">var</span> a = [], cur = <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">while</span> (!is(<span class="string">"punc"</span>, <span class="string">"&#125;"</span>)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (is(<span class="string">"eof"</span>)) unexpected();</span><br><span class="line">                        <span class="keyword">if</span> (is(<span class="string">"keyword"</span>, <span class="string">"case"</span>)) &#123;</span><br><span class="line">                                next();</span><br><span class="line">                                cur = [];</span><br><span class="line">                                a.push([ expression(), cur ]);</span><br><span class="line">                                expect(<span class="string">":"</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> (is(<span class="string">"keyword"</span>, <span class="string">"default"</span>)) &#123;</span><br><span class="line">                                next();</span><br><span class="line">                                expect(<span class="string">":"</span>);</span><br><span class="line">                                cur = [];</span><br><span class="line">                                a.push([ <span class="literal">null</span>, cur ]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (!cur) unexpected();</span><br><span class="line">                                cur.push(statement());</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">try_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> body = block_(), bcatch, bfinally;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"keyword"</span>, <span class="string">"catch"</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        expect(<span class="string">"("</span>);</span><br><span class="line">                        <span class="keyword">if</span> (!is(<span class="string">"name"</span>))</span><br><span class="line">                                croak(<span class="string">"Name expected"</span>);</span><br><span class="line">                        <span class="keyword">var</span> name = S.token.value;</span><br><span class="line">                        next();</span><br><span class="line">                        expect(<span class="string">")"</span>);</span><br><span class="line">                        bcatch = [ name, block_() ];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"keyword"</span>, <span class="string">"finally"</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        bfinally = block_();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!bcatch &amp;&amp; !bfinally)</span><br><span class="line">                        croak(<span class="string">"Missing catch/finally blocks"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"try"</span>, body, bcatch, bfinally);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">vardefs</span>(<span class="params">no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> a = [];</span><br><span class="line">                <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (!is(<span class="string">"name"</span>))</span><br><span class="line">                                unexpected();</span><br><span class="line">                        <span class="keyword">var</span> name = S.token.value;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">if</span> (is(<span class="string">"operator"</span>, <span class="string">"="</span>)) &#123;</span><br><span class="line">                                next();</span><br><span class="line">                                a.push([ name, expression(<span class="literal">false</span>, no_in) ]);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                a.push([ name ]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (!is(<span class="string">"punc"</span>, <span class="string">","</span>))</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        next();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">var_</span>(<span class="params">no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"var"</span>, vardefs(no_in));</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">const_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"const"</span>, vardefs());</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">new_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> newexp = expr_atom(<span class="literal">false</span>), args;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"punc"</span>, <span class="string">"("</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        args = expr_list(<span class="string">")"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        args = [];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> subscripts(<span class="keyword">as</span>(<span class="string">"new"</span>, newexp, args), <span class="literal">true</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expr_atom</span>(<span class="params">allow_calls</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"operator"</span>, <span class="string">"new"</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">return</span> new_();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"operator"</span>) &amp;&amp; HOP(UNARY_PREFIX, S.token.value)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> make_unary(<span class="string">"unary-prefix"</span>,</span><br><span class="line">                                          prog1(S.token.value, next),</span><br><span class="line">                                          expr_atom(allow_calls));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"punc"</span>)) &#123;</span><br><span class="line">                        <span class="keyword">switch</span> (S.token.value) &#123;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"("</span>:</span><br><span class="line">                                next();</span><br><span class="line">                                <span class="keyword">return</span> subscripts(prog1(expression, curry(expect, <span class="string">")"</span>)), allow_calls);</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"["</span>:</span><br><span class="line">                                next();</span><br><span class="line">                                <span class="keyword">return</span> subscripts(array_(), allow_calls);</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">"&#123;"</span>:</span><br><span class="line">                                next();</span><br><span class="line">                                <span class="keyword">return</span> subscripts(object_(), allow_calls);</span><br><span class="line">                        &#125;</span><br><span class="line">                        unexpected();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"keyword"</span>, <span class="string">"function"</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">return</span> subscripts(function_(<span class="literal">false</span>), allow_calls);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (HOP(ATOMIC_START_TOKEN, S.token.type)) &#123;</span><br><span class="line">                        <span class="keyword">var</span> atom = S.token.type == <span class="string">"regexp"</span></span><br><span class="line">                                ? <span class="keyword">as</span>(<span class="string">"regexp"</span>, S.token.value[<span class="number">0</span>], S.token.value[<span class="number">1</span>])</span><br><span class="line">                                : <span class="keyword">as</span>(S.token.type, S.token.value);</span><br><span class="line">                        <span class="keyword">return</span> subscripts(prog1(atom, next), allow_calls);</span><br><span class="line">                &#125;</span><br><span class="line">                unexpected();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expr_list</span>(<span class="params">closing, allow_trailing_comma, allow_empty</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> first = <span class="literal">true</span>, a = [];</span><br><span class="line">                <span class="keyword">while</span> (!is(<span class="string">"punc"</span>, closing)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (first) first = <span class="literal">false</span>; <span class="keyword">else</span> expect(<span class="string">","</span>);</span><br><span class="line">                        <span class="keyword">if</span> (allow_trailing_comma &amp;&amp; is(<span class="string">"punc"</span>, closing)) <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">if</span> (is(<span class="string">"punc"</span>, <span class="string">","</span>) &amp;&amp; allow_empty) &#123;</span><br><span class="line">                                a.push([ <span class="string">"atom"</span>, <span class="string">"undefined"</span> ]);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                a.push(expression(<span class="literal">false</span>));</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">array_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"array"</span>, expr_list(<span class="string">"]"</span>, !exigent_mode, <span class="literal">true</span>));</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">object_</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> first = <span class="literal">true</span>, a = [];</span><br><span class="line">                <span class="keyword">while</span> (!is(<span class="string">"punc"</span>, <span class="string">"&#125;"</span>)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (first) first = <span class="literal">false</span>; <span class="keyword">else</span> expect(<span class="string">","</span>);</span><br><span class="line">                        <span class="keyword">if</span> (!exigent_mode &amp;&amp; is(<span class="string">"punc"</span>, <span class="string">"&#125;"</span>))</span><br><span class="line">                                <span class="comment">// allow trailing comma</span></span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">var</span> type = S.token.type;</span><br><span class="line">                        <span class="keyword">var</span> name = as_property_name();</span><br><span class="line">                        <span class="keyword">if</span> (type == <span class="string">"name"</span> &amp;&amp; (name == <span class="string">"get"</span> || name == <span class="string">"set"</span>) &amp;&amp; !is(<span class="string">"punc"</span>, <span class="string">":"</span>)) &#123;</span><br><span class="line">                                a.push([ as_name(), function_(<span class="literal">false</span>), name ]);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                expect(<span class="string">":"</span>);</span><br><span class="line">                                a.push([ name, expression(<span class="literal">false</span>) ]);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                next();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"object"</span>, a);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">as_property_name</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">switch</span> (S.token.type) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"num"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"string"</span>:</span><br><span class="line">                        <span class="keyword">return</span> prog1(S.token.value, next);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> as_name();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">as_name</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">switch</span> (S.token.type) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"name"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"operator"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"keyword"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"atom"</span>:</span><br><span class="line">                        <span class="keyword">return</span> prog1(S.token.value, next);</span><br><span class="line">                    <span class="keyword">default</span>:</span><br><span class="line">                        unexpected();</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">subscripts</span>(<span class="params">expr, allow_calls</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"punc"</span>, <span class="string">"."</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">return</span> subscripts(<span class="keyword">as</span>(<span class="string">"dot"</span>, expr, as_name()), allow_calls);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"punc"</span>, <span class="string">"["</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">return</span> subscripts(<span class="keyword">as</span>(<span class="string">"sub"</span>, expr, prog1(expression, curry(expect, <span class="string">"]"</span>))), allow_calls);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (allow_calls &amp;&amp; is(<span class="string">"punc"</span>, <span class="string">"("</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">return</span> subscripts(<span class="keyword">as</span>(<span class="string">"call"</span>, expr, expr_list(<span class="string">")"</span>)), <span class="literal">true</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (allow_calls &amp;&amp; is(<span class="string">"operator"</span>) &amp;&amp; HOP(UNARY_POSTFIX, S.token.value)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> prog1(curry(make_unary, <span class="string">"unary-postfix"</span>, S.token.value, expr),</span><br><span class="line">                                     next);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> expr;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">make_unary</span>(<span class="params">tag, op, expr</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> ((op == <span class="string">"++"</span> || op == <span class="string">"--"</span>) &amp;&amp; !is_assignable(expr))</span><br><span class="line">                        croak(<span class="string">"Invalid use of "</span> + op + <span class="string">" operator"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">as</span>(tag, op, expr);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expr_op</span>(<span class="params">left, min_prec, no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> op = is(<span class="string">"operator"</span>) ? S.token.value : <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (op &amp;&amp; op == <span class="string">"in"</span> &amp;&amp; no_in) op = <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">var</span> prec = op != <span class="literal">null</span> ? PRECEDENCE[op] : <span class="literal">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (prec != <span class="literal">null</span> &amp;&amp; prec &gt; min_prec) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">var</span> right = expr_op(expr_atom(<span class="literal">true</span>), prec, no_in);</span><br><span class="line">                        <span class="keyword">return</span> expr_op(<span class="keyword">as</span>(<span class="string">"binary"</span>, op, left, right), min_prec, no_in);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> left;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expr_ops</span>(<span class="params">no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> expr_op(expr_atom(<span class="literal">true</span>), <span class="number">0</span>, no_in);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">maybe_conditional</span>(<span class="params">no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> expr = expr_ops(no_in);</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"operator"</span>, <span class="string">"?"</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">var</span> yes = expression(<span class="literal">false</span>);</span><br><span class="line">                        expect(<span class="string">":"</span>);</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"conditional"</span>, expr, yes, expression(<span class="literal">false</span>, no_in));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> expr;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">is_assignable</span>(<span class="params">expr</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (!exigent_mode) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">switch</span> (expr[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"dot"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"sub"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"new"</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"call"</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">"name"</span>:</span><br><span class="line">                        <span class="keyword">return</span> expr[<span class="number">1</span>] != <span class="string">"this"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">maybe_assign</span>(<span class="params">no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> left = maybe_conditional(no_in), val = S.token.value;</span><br><span class="line">                <span class="keyword">if</span> (is(<span class="string">"operator"</span>) &amp;&amp; HOP(ASSIGNMENT, val)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (is_assignable(left)) &#123;</span><br><span class="line">                                next();</span><br><span class="line">                                <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"assign"</span>, ASSIGNMENT[val], left, maybe_assign(no_in));</span><br><span class="line">                        &#125;</span><br><span class="line">                        croak(<span class="string">"Invalid assignment"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> left;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">expression</span>(<span class="params">commas, no_in</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">arguments</span>.length == <span class="number">0</span>)</span><br><span class="line">                        commas = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">var</span> expr = maybe_assign(no_in);</span><br><span class="line">                <span class="keyword">if</span> (commas &amp;&amp; is(<span class="string">"punc"</span>, <span class="string">","</span>)) &#123;</span><br><span class="line">                        next();</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"seq"</span>, expr, expression(<span class="literal">true</span>, no_in));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> expr;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">in_loop</span>(<span class="params">cont</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                        ++S.in_loop;</span><br><span class="line">                        <span class="keyword">return</span> cont();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                        --S.in_loop;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">as</span>(<span class="string">"toplevel"</span>, (<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">while</span> (!is(<span class="string">"eof"</span>))</span><br><span class="line">                        a.push(statement());</span><br><span class="line">                <span class="keyword">return</span> a;</span><br><span class="line">        &#125;)([]));</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -----[ Utilities ]----- */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> args = slice(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> f.apply(<span class="keyword">this</span>, args.concat(slice(<span class="built_in">arguments</span>))); &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prog1</span>(<span class="params">ret</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ret <span class="keyword">instanceof</span> <span class="built_in">Function</span>)</span><br><span class="line">                ret = ret();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>, n = <span class="built_in">arguments</span>.length; --n &gt; <span class="number">0</span>; ++i)</span><br><span class="line">                <span class="built_in">arguments</span>[i]();</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">array_to_hash</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ret = &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a.length; ++i)</span><br><span class="line">                ret[a[i]] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">slice</span>(<span class="params">a, start</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(a, start == <span class="literal">null</span> ? <span class="number">0</span> : start);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">characters</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> str.split(<span class="string">""</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">member</span>(<span class="params">name, array</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = array.length; --i &gt;= <span class="number">0</span>;)</span><br><span class="line">                <span class="keyword">if</span> (array[i] === name)</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HOP</span>(<span class="params">obj, prop</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.hasOwnProperty.call(obj, prop);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> warn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -----[ Exports ]----- */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> init = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root.modules[<span class="string">"parser"</span>]) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    root.parse = parse;</span><br><span class="line">    </span><br><span class="line">    root.modules[<span class="string">"parser"</span>] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isCommonJS = (<span class="keyword">typeof</span> <span class="built_in">require</span> !== <span class="string">"undefined"</span> &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">"undefined"</span> &amp;&amp; <span class="built_in">module</span>.exports);</span><br><span class="line"><span class="keyword">var</span> isAmd = (<span class="keyword">typeof</span> define !== <span class="string">"undefined"</span> &amp;&amp; define.amd);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isCommonJS) &#123;</span><br><span class="line">    <span class="built_in">module</span>.exports.init = init;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (isAmd) &#123;</span><br><span class="line">    define(<span class="string">"jscex-parser"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">init</span>: init &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> Jscex === <span class="string">"undefined"</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Missing root object, please load "jscex" module first.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    init(Jscex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">scope.tokenizer = tokenizer;</span></span><br><span class="line"><span class="comment">scope.parse = parse;</span></span><br><span class="line"><span class="comment">scope.slice = slice;</span></span><br><span class="line"><span class="comment">scope.curry = curry;</span></span><br><span class="line"><span class="comment">scope.member = member;</span></span><br><span class="line"><span class="comment">scope.array_to_hash = array_to_hash;</span></span><br><span class="line"><span class="comment">scope.PRECEDENCE = PRECEDENCE;</span></span><br><span class="line"><span class="comment">scope.KEYWORDS_ATOM = KEYWORDS_ATOM;</span></span><br><span class="line"><span class="comment">scope.RESERVED_WORDS = RESERVED_WORDS;</span></span><br><span class="line"><span class="comment">scope.KEYWORDS = KEYWORDS;</span></span><br><span class="line"><span class="comment">scope.ATOMIC_START_TOKEN = ATOMIC_START_TOKEN;</span></span><br><span class="line"><span class="comment">scope.OPERATORS = OPERATORS;</span></span><br><span class="line"><span class="comment">scope.is_alphanumeric_char = is_alphanumeric_char;</span></span><br><span class="line"><span class="comment">scope.set_logger = function (logger) &#123;</span></span><br><span class="line"><span class="comment">    warn = logger;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树JavaSCript样式 文件名 love.js ———</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">window</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> min + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bezier</span>(<span class="params">cp, t</span>) </span>&#123;  </span><br><span class="line">        <span class="keyword">var</span> p1 = cp[<span class="number">0</span>].mul((<span class="number">1</span> - t) * (<span class="number">1</span> - t));</span><br><span class="line">        <span class="keyword">var</span> p2 = cp[<span class="number">1</span>].mul(<span class="number">2</span> * t * (<span class="number">1</span> - t));</span><br><span class="line">        <span class="keyword">var</span> p3 = cp[<span class="number">2</span>].mul(t * t); </span><br><span class="line">        <span class="keyword">return</span> p1.add(p2).add(p3);</span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inheart</span>(<span class="params">x, y, r</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// x^2+(y-(x^2)^(1/3))^2 = 1</span></span><br><span class="line">        <span class="comment">// http://www.wolframalpha.com/input/?i=x%5E2%2B%28y-%28x%5E2%29%5E%281%2F3%29%29%5E2+%3D+1</span></span><br><span class="line">        <span class="keyword">var</span> z = ((x / r) * (x / r) + (y / r) * (y / r) - <span class="number">1</span>) * ((x / r) * (x / r) + (y / r) * (y / r) - <span class="number">1</span>) * ((x / r) * (x / r) + (y / r) * (y / r) - <span class="number">1</span>) - (x / r) * (x / r) * (y / r) * (y / r) * (y / r);</span><br><span class="line">        <span class="keyword">return</span> z &lt; <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Point = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x || <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.y = y || <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Point.prototype = &#123;</span><br><span class="line">        clone: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Point(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y);</span><br><span class="line">        &#125;,</span><br><span class="line">        add: <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">            p = <span class="keyword">this</span>.clone();</span><br><span class="line">            p.x += o.x;</span><br><span class="line">            p.y += o.y;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;,</span><br><span class="line">        sub: <span class="function"><span class="keyword">function</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">            p = <span class="keyword">this</span>.clone();</span><br><span class="line">            p.x -= o.x;</span><br><span class="line">            p.y -= o.y;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;,</span><br><span class="line">        div: <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">            p = <span class="keyword">this</span>.clone();</span><br><span class="line">            p.x /= n;</span><br><span class="line">            p.y /= n;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;,</span><br><span class="line">        mul: <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">            p = <span class="keyword">this</span>.clone();</span><br><span class="line">            p.x *= n;</span><br><span class="line">            p.y *= n;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Heart = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// x = 16 sin^3 t</span></span><br><span class="line">        <span class="comment">// y = 13 cos t - 5 cos 2t - 2 cos 3t - cos 4t</span></span><br><span class="line">        <span class="comment">// http://www.wolframalpha.com/input/?i=x+%3D+16+sin%5E3+t%2C+y+%3D+(13+cos+t+-+5+cos+2t+-+2+cos+3t+-+cos+4t)</span></span><br><span class="line">        <span class="keyword">var</span> points = [], x, y, t;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">10</span>; i &lt; <span class="number">30</span>; i += <span class="number">0.2</span>) &#123;</span><br><span class="line">            t = i / <span class="built_in">Math</span>.PI;</span><br><span class="line">            x = <span class="number">16</span> * <span class="built_in">Math</span>.pow(<span class="built_in">Math</span>.sin(t), <span class="number">3</span>);</span><br><span class="line">            y = <span class="number">13</span> * <span class="built_in">Math</span>.cos(t) - <span class="number">5</span> * <span class="built_in">Math</span>.cos(<span class="number">2</span> * t) - <span class="number">2</span> * <span class="built_in">Math</span>.cos(<span class="number">3</span> * t) - <span class="built_in">Math</span>.cos(<span class="number">4</span> * t);</span><br><span class="line">            points.push(<span class="keyword">new</span> Point(x, y));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.points = points;</span><br><span class="line">        <span class="keyword">this</span>.length = points.length;</span><br><span class="line">    &#125;</span><br><span class="line">    Heart.prototype = &#123;</span><br><span class="line">        get: <span class="function"><span class="keyword">function</span>(<span class="params">i, scale</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.points[i].mul(scale || <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Seed = <span class="function"><span class="keyword">function</span>(<span class="params">tree, point, scale, color</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tree = tree;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> scale = scale || <span class="number">1</span></span><br><span class="line">        <span class="keyword">var</span> color = color || <span class="string">'#FF0000'</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.heart = &#123;</span><br><span class="line">            point  : point,</span><br><span class="line">            scale  : scale,</span><br><span class="line">            color  : color,</span><br><span class="line">            figure : <span class="keyword">new</span> Heart(),</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.cirle = &#123;</span><br><span class="line">            point  : point,</span><br><span class="line">            scale  : scale,</span><br><span class="line">            color  : color,</span><br><span class="line">            radius : <span class="number">5</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Seed.prototype = &#123;</span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.drawHeart();</span><br><span class="line">            <span class="keyword">this</span>.drawText();</span><br><span class="line">        &#125;,</span><br><span class="line">        addPosition: <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.cirle.point = <span class="keyword">this</span>.cirle.point.add(<span class="keyword">new</span> Point(x, y));</span><br><span class="line">        &#125;,</span><br><span class="line">        canMove: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.cirle.point.y &lt; (<span class="keyword">this</span>.tree.height + <span class="number">20</span>); </span><br><span class="line">        &#125;,</span><br><span class="line">        move: <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.clear();</span><br><span class="line">            <span class="keyword">this</span>.drawCirle();</span><br><span class="line">            <span class="keyword">this</span>.addPosition(x, y);</span><br><span class="line">        &#125;,</span><br><span class="line">        canScale: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.heart.scale &gt; <span class="number">0.2</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        setHeartScale: <span class="function"><span class="keyword">function</span>(<span class="params">scale</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.heart.scale *= scale;</span><br><span class="line">        &#125;,</span><br><span class="line">        scale: <span class="function"><span class="keyword">function</span>(<span class="params">scale</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.clear();</span><br><span class="line">            <span class="keyword">this</span>.drawCirle();</span><br><span class="line">            <span class="keyword">this</span>.drawHeart();</span><br><span class="line">            <span class="keyword">this</span>.setHeartScale(scale);</span><br><span class="line">        &#125;,</span><br><span class="line">        drawHeart: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.tree.ctx, heart = <span class="keyword">this</span>.heart;</span><br><span class="line">            <span class="keyword">var</span> point = heart.point, color = heart.color, </span><br><span class="line">                scale = heart.scale;</span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.fillStyle = color;</span><br><span class="line">            ctx.translate(point.x, point.y);</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; heart.figure.length; i++) &#123;</span><br><span class="line">                <span class="keyword">var</span> p = heart.figure.get(i, scale);</span><br><span class="line">                ctx.lineTo(p.x, -p.y);</span><br><span class="line">            &#125;</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fill();</span><br><span class="line">            ctx.restore();</span><br><span class="line">        &#125;,</span><br><span class="line">        drawCirle: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.tree.ctx, cirle = <span class="keyword">this</span>.cirle;</span><br><span class="line">            <span class="keyword">var</span> point = cirle.point, color = cirle.color, </span><br><span class="line">                scale = cirle.scale, radius = cirle.radius;</span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.fillStyle = color;</span><br><span class="line">            ctx.translate(point.x, point.y);</span><br><span class="line">            ctx.scale(scale, scale);</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    	    ctx.arc(<span class="number">0</span>, <span class="number">0</span>, radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fill();</span><br><span class="line">            ctx.restore();</span><br><span class="line">        &#125;,</span><br><span class="line">        drawText: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.tree.ctx, heart = <span class="keyword">this</span>.heart;</span><br><span class="line">            <span class="keyword">var</span> point = heart.point, color = heart.color, </span><br><span class="line">                scale = heart.scale;</span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.strokeStyle = color;</span><br><span class="line">            ctx.fillStyle = color;</span><br><span class="line">            ctx.translate(point.x, point.y);</span><br><span class="line">            ctx.scale(scale, scale);</span><br><span class="line">            ctx.moveTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    	    ctx.lineTo(<span class="number">15</span>, <span class="number">15</span>);</span><br><span class="line">    	    ctx.lineTo(<span class="number">60</span>, <span class="number">15</span>);</span><br><span class="line">            ctx.stroke();</span><br><span class="line"></span><br><span class="line">            ctx.moveTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            ctx.scale(<span class="number">0.75</span>, <span class="number">0.75</span>);</span><br><span class="line">            ctx.font = <span class="string">"12px 微软雅黑,Verdana"</span>; <span class="comment">// 字号肿么没有用? (ˉ(∞)ˉ)</span></span><br><span class="line">            ctx.fillText(<span class="string">"Come Baby"</span>, <span class="number">23</span>, <span class="number">10</span>);</span><br><span class="line">            ctx.restore();</span><br><span class="line">        &#125;,</span><br><span class="line">        clear: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.tree.ctx, cirle = <span class="keyword">this</span>.cirle;</span><br><span class="line">            <span class="keyword">var</span> point = cirle.point, scale = cirle.scale, radius = <span class="number">26</span>;</span><br><span class="line">            <span class="keyword">var</span> w = h = (radius * scale);</span><br><span class="line">            ctx.clearRect(point.x - w, point.y - h, <span class="number">4</span> * w, <span class="number">4</span> * h);</span><br><span class="line">        &#125;,</span><br><span class="line">        hover: <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.tree.ctx;</span><br><span class="line">            <span class="keyword">var</span> pixel = ctx.getImageData(x, y, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> pixel.data[<span class="number">3</span>] == <span class="number">255</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Footer = <span class="function"><span class="keyword">function</span>(<span class="params">tree, width, height, speed</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tree = tree;</span><br><span class="line">        <span class="keyword">this</span>.point = <span class="keyword">new</span> Point(tree.seed.heart.point.x, tree.height - height / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">this</span>.width = width;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">        <span class="keyword">this</span>.speed = speed || <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">this</span>.length = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Footer.prototype = &#123;</span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.tree.ctx, point = <span class="keyword">this</span>.point;</span><br><span class="line">            <span class="keyword">var</span> len = <span class="keyword">this</span>.length / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.strokeStyle = <span class="string">'rgb(35, 31, 32)'</span>;</span><br><span class="line">            ctx.lineWidth = <span class="keyword">this</span>.height;</span><br><span class="line">            ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">            ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line">            ctx.translate(point.x, point.y);</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    	    ctx.lineTo(len, <span class="number">0</span>);</span><br><span class="line">    	    ctx.lineTo(-len, <span class="number">0</span>);</span><br><span class="line">            ctx.stroke();</span><br><span class="line">            ctx.restore();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.length &lt; <span class="keyword">this</span>.width) &#123;</span><br><span class="line">                <span class="keyword">this</span>.length += <span class="keyword">this</span>.speed;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Tree = <span class="function"><span class="keyword">function</span>(<span class="params">canvas, width, height, opt</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.canvas = canvas;</span><br><span class="line">        <span class="keyword">this</span>.ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">        <span class="keyword">this</span>.width = width;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">        <span class="keyword">this</span>.opt = opt || &#123;&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.record = &#123;&#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">this</span>.initSeed();</span><br><span class="line">        <span class="keyword">this</span>.initFooter();</span><br><span class="line">        <span class="keyword">this</span>.initBranch();</span><br><span class="line">        <span class="keyword">this</span>.initBloom();</span><br><span class="line">    &#125;</span><br><span class="line">    Tree.prototype = &#123;</span><br><span class="line">        initSeed: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> seed = <span class="keyword">this</span>.opt.seed || &#123;&#125;;</span><br><span class="line">            <span class="keyword">var</span> x = seed.x || <span class="keyword">this</span>.width / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">var</span> y = seed.y || <span class="keyword">this</span>.height / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">var</span> point = <span class="keyword">new</span> Point(x, y);</span><br><span class="line">            <span class="keyword">var</span> color = seed.color || <span class="string">'#FF0000'</span>;</span><br><span class="line">            <span class="keyword">var</span> scale = seed.scale || <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.seed = <span class="keyword">new</span> Seed(<span class="keyword">this</span>, point, scale, color);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        initFooter: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> footer = <span class="keyword">this</span>.opt.footer || &#123;&#125;;</span><br><span class="line">            <span class="keyword">var</span> width = footer.width || <span class="keyword">this</span>.width;</span><br><span class="line">            <span class="keyword">var</span> height = footer.height || <span class="number">5</span>;</span><br><span class="line">            <span class="keyword">var</span> speed = footer.speed || <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">this</span>.footer = <span class="keyword">new</span> Footer(<span class="keyword">this</span>, width, height, speed);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        initBranch: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> branchs = <span class="keyword">this</span>.opt.branch || []</span><br><span class="line">            <span class="keyword">this</span>.branchs = [];</span><br><span class="line">            <span class="keyword">this</span>.addBranchs(branchs);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        initBloom: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> bloom = <span class="keyword">this</span>.opt.bloom || &#123;&#125;;</span><br><span class="line">            <span class="keyword">var</span> cache = [],</span><br><span class="line">                num = bloom.num || <span class="number">500</span>, </span><br><span class="line">                width = bloom.width || <span class="keyword">this</span>.width,</span><br><span class="line">                height = bloom.height || <span class="keyword">this</span>.height,</span><br><span class="line">                figure = <span class="keyword">this</span>.seed.heart.figure;</span><br><span class="line">            <span class="keyword">var</span> r = <span class="number">240</span>, x, y;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">                cache.push(<span class="keyword">this</span>.createBloom(width, height, r, figure));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>.blooms = [];</span><br><span class="line">            <span class="keyword">this</span>.bloomsCache = cache;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        toDataURL: <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.canvas.toDataURL(type);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params">k</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, ctx = s.ctx;</span><br><span class="line">            <span class="keyword">var</span> rec = s.record[k];</span><br><span class="line">            <span class="keyword">if</span> (!rec) &#123;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> point = rec.point,</span><br><span class="line">                image = rec.image;</span><br><span class="line"></span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.putImageData(image, point.x, point.y);</span><br><span class="line">        	ctx.restore();</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        addBranch: <span class="function"><span class="keyword">function</span>(<span class="params">branch</span>) </span>&#123;</span><br><span class="line">        	<span class="keyword">this</span>.branchs.push(branch);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        addBranchs: <span class="function"><span class="keyword">function</span>(<span class="params">branchs</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, b, p1, p2, p3, r, l, c;</span><br><span class="line">        	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; branchs.length; i++) &#123;</span><br><span class="line">                b = branchs[i];</span><br><span class="line">                p1 = <span class="keyword">new</span> Point(b[<span class="number">0</span>], b[<span class="number">1</span>]);</span><br><span class="line">                p2 = <span class="keyword">new</span> Point(b[<span class="number">2</span>], b[<span class="number">3</span>]);</span><br><span class="line">                p3 = <span class="keyword">new</span> Point(b[<span class="number">4</span>], b[<span class="number">5</span>]);</span><br><span class="line">                r = b[<span class="number">6</span>];</span><br><span class="line">                l = b[<span class="number">7</span>];</span><br><span class="line">                c = b[<span class="number">8</span>]</span><br><span class="line">                s.addBranch(<span class="keyword">new</span> Branch(s, p1, p2, p3, r, l, c)); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        removeBranch: <span class="function"><span class="keyword">function</span>(<span class="params">branch</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> branchs = <span class="keyword">this</span>.branchs;</span><br><span class="line">        	<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; branchs.length; i++) &#123;</span><br><span class="line">        		<span class="keyword">if</span> (branchs[i] === branch) &#123;</span><br><span class="line">        			branchs.splice(i, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        canGrow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> !!<span class="keyword">this</span>.branchs.length;</span><br><span class="line">        &#125;,</span><br><span class="line">        grow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> branchs = <span class="keyword">this</span>.branchs;</span><br><span class="line">    	    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; branchs.length; i++) &#123;</span><br><span class="line">                <span class="keyword">var</span> branch = branchs[i];</span><br><span class="line">                <span class="keyword">if</span> (branch) &#123;</span><br><span class="line">                    branch.grow();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        addBloom: <span class="function"><span class="keyword">function</span> (<span class="params">bloom</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.blooms.push(bloom);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        removeBloom: <span class="function"><span class="keyword">function</span> (<span class="params">bloom</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> blooms = <span class="keyword">this</span>.blooms;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; blooms.length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (blooms[i] === bloom) &#123;</span><br><span class="line">                    blooms.splice(i, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        createBloom: <span class="function"><span class="keyword">function</span>(<span class="params">width, height, radius, figure, color, alpha, angle, scale, place, speed</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> x, y;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                x = random(<span class="number">20</span>, width - <span class="number">20</span>);</span><br><span class="line">                y = random(<span class="number">20</span>, height - <span class="number">20</span>);</span><br><span class="line">                <span class="keyword">if</span> (inheart(x - width / <span class="number">2</span>, height - (height - <span class="number">40</span>) / <span class="number">2</span> - y, radius)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> Bloom(<span class="keyword">this</span>, <span class="keyword">new</span> Point(x, y), figure, color, alpha, angle, scale, place, speed);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        canFlower: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> !!<span class="keyword">this</span>.blooms.length;</span><br><span class="line">        &#125;, </span><br><span class="line">        flower: <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, blooms = s.bloomsCache.splice(<span class="number">0</span>, num);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; blooms.length; i++) &#123;</span><br><span class="line">                s.addBloom(blooms[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            blooms = s.blooms;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; blooms.length; j++) &#123;</span><br><span class="line">                blooms[j].flower();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        snapshot: <span class="function"><span class="keyword">function</span>(<span class="params">k, x, y, width, height</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ctx = <span class="keyword">this</span>.ctx;</span><br><span class="line">            <span class="keyword">var</span> image = ctx.getImageData(x, y, width, height); </span><br><span class="line">            <span class="keyword">this</span>.record[k] = &#123;</span><br><span class="line">                image: image,</span><br><span class="line">                point: <span class="keyword">new</span> Point(x, y),</span><br><span class="line">                width: width,</span><br><span class="line">                height: height</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        setSpeed: <span class="function"><span class="keyword">function</span>(<span class="params">k, speed</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.record[k || <span class="string">"move"</span>].speed = speed;</span><br><span class="line">        &#125;,</span><br><span class="line">        move: <span class="function"><span class="keyword">function</span>(<span class="params">k, x, y</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, ctx = s.ctx;</span><br><span class="line">            <span class="keyword">var</span> rec = s.record[k || <span class="string">"move"</span>];</span><br><span class="line">            <span class="keyword">var</span> point = rec.point,</span><br><span class="line">                image = rec.image,</span><br><span class="line">                speed = rec.speed || <span class="number">10</span>,</span><br><span class="line">                width = rec.width,</span><br><span class="line">                height = rec.height; </span><br><span class="line"></span><br><span class="line">            i = point.x + speed &lt; x ? point.x + speed : x;</span><br><span class="line">            j = point.y + speed &lt; y ? point.y + speed : y; </span><br><span class="line"></span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.clearRect(point.x, point.y, width, height);</span><br><span class="line">            ctx.putImageData(image, i, j);</span><br><span class="line">        	ctx.restore();</span><br><span class="line"></span><br><span class="line">            rec.point = <span class="keyword">new</span> Point(i, j);</span><br><span class="line">            rec.speed = speed * <span class="number">0.95</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (rec.speed &lt; <span class="number">2</span>) &#123;</span><br><span class="line">                rec.speed = <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> i &lt; x || j &lt; y;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        jump: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, blooms = s.blooms;</span><br><span class="line">            <span class="keyword">if</span> (blooms.length) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; blooms.length; i++) &#123;</span><br><span class="line">                    blooms[i].jump();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; </span><br><span class="line">            <span class="keyword">if</span> ((blooms.length &amp;&amp; blooms.length &lt; <span class="number">3</span>) || !blooms.length) &#123;</span><br><span class="line">                <span class="keyword">var</span> bloom = <span class="keyword">this</span>.opt.bloom || &#123;&#125;,</span><br><span class="line">                    width = bloom.width || <span class="keyword">this</span>.width,</span><br><span class="line">                    height = bloom.height || <span class="keyword">this</span>.height,</span><br><span class="line">                    figure = <span class="keyword">this</span>.seed.heart.figure;</span><br><span class="line">                <span class="keyword">var</span> r = <span class="number">240</span>, x, y;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; random(<span class="number">1</span>,<span class="number">2</span>); i++) &#123;</span><br><span class="line">                    blooms.push(<span class="keyword">this</span>.createBloom(width / <span class="number">2</span> + width, height, r, figure, <span class="literal">null</span>, <span class="number">1</span>, <span class="literal">null</span>, <span class="number">1</span>, <span class="keyword">new</span> Point(random(<span class="number">-100</span>,<span class="number">600</span>), <span class="number">720</span>), random(<span class="number">200</span>,<span class="number">300</span>)));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Branch = <span class="function"><span class="keyword">function</span>(<span class="params">tree, point1, point2, point3, radius, length, branchs</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tree = tree;</span><br><span class="line">        <span class="keyword">this</span>.point1 = point1;</span><br><span class="line">        <span class="keyword">this</span>.point2 = point2;</span><br><span class="line">        <span class="keyword">this</span>.point3 = point3;</span><br><span class="line">        <span class="keyword">this</span>.radius = radius;</span><br><span class="line">        <span class="keyword">this</span>.length = length || <span class="number">100</span>;    </span><br><span class="line">        <span class="keyword">this</span>.len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.t = <span class="number">1</span> / (<span class="keyword">this</span>.length - <span class="number">1</span>);   </span><br><span class="line">        <span class="keyword">this</span>.branchs = branchs || [];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Branch.prototype = &#123;</span><br><span class="line">        grow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, p; </span><br><span class="line">            <span class="keyword">if</span> (s.len &lt;= s.length) &#123;</span><br><span class="line">                p = bezier([s.point1, s.point2, s.point3], s.len * s.t);</span><br><span class="line">                s.draw(p);</span><br><span class="line">                s.len += <span class="number">1</span>;</span><br><span class="line">                s.radius *= <span class="number">0.97</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                s.tree.removeBranch(s);</span><br><span class="line">                s.tree.addBranchs(s.branchs);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params">p</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>;</span><br><span class="line">            <span class="keyword">var</span> ctx = s.tree.ctx;</span><br><span class="line">            ctx.save();</span><br><span class="line">        	ctx.beginPath();</span><br><span class="line">        	ctx.fillStyle = <span class="string">'rgb(35, 31, 32)'</span>;</span><br><span class="line">            ctx.shadowColor = <span class="string">'rgb(35, 31, 32)'</span>;</span><br><span class="line">            ctx.shadowBlur = <span class="number">2</span>;</span><br><span class="line">        	ctx.moveTo(p.x, p.y);</span><br><span class="line">        	ctx.arc(p.x, p.y, s.radius, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI);</span><br><span class="line">        	ctx.closePath();</span><br><span class="line">        	ctx.fill();</span><br><span class="line">        	ctx.restore();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Bloom = <span class="function"><span class="keyword">function</span>(<span class="params">tree, point, figure, color, alpha, angle, scale, place, speed</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.tree = tree;</span><br><span class="line">        <span class="keyword">this</span>.point = point;</span><br><span class="line">        <span class="keyword">this</span>.color = color || <span class="string">'rgb(255,'</span> + random(<span class="number">0</span>, <span class="number">255</span>) + <span class="string">','</span> + random(<span class="number">0</span>, <span class="number">255</span>) + <span class="string">')'</span>;</span><br><span class="line">        <span class="keyword">this</span>.alpha = alpha || random(<span class="number">0.3</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">this</span>.angle = angle || random(<span class="number">0</span>, <span class="number">360</span>);</span><br><span class="line">        <span class="keyword">this</span>.scale = scale || <span class="number">0.1</span>;</span><br><span class="line">        <span class="keyword">this</span>.place = place;</span><br><span class="line">        <span class="keyword">this</span>.speed = speed;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.figure = figure;</span><br><span class="line">    &#125;</span><br><span class="line">    Bloom.prototype = &#123;</span><br><span class="line">        setFigure: <span class="function"><span class="keyword">function</span>(<span class="params">figure</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.figure = figure;</span><br><span class="line">        &#125;,</span><br><span class="line">        flower: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>;</span><br><span class="line">            s.draw();</span><br><span class="line">            s.scale += <span class="number">0.1</span>;</span><br><span class="line">            <span class="keyword">if</span> (s.scale &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                s.tree.removeBloom(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, ctx = s.tree.ctx, figure = s.figure;</span><br><span class="line"></span><br><span class="line">            ctx.save();</span><br><span class="line">            ctx.fillStyle = s.color;</span><br><span class="line">            ctx.globalAlpha = s.alpha;</span><br><span class="line">            ctx.translate(s.point.x, s.point.y);</span><br><span class="line">            ctx.scale(s.scale, s.scale);</span><br><span class="line">            ctx.rotate(s.angle);</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; figure.length; i++) &#123;</span><br><span class="line">                <span class="keyword">var</span> p = figure.get(i);</span><br><span class="line">                ctx.lineTo(p.x, -p.y);</span><br><span class="line">            &#125;</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fill();</span><br><span class="line">            ctx.restore();</span><br><span class="line">        &#125;,</span><br><span class="line">        jump: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> s = <span class="keyword">this</span>, height = s.tree.height;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (s.point.x &lt; <span class="number">-20</span> || s.point.y &gt; height + <span class="number">20</span>) &#123;</span><br><span class="line">                s.tree.removeBloom(s);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                s.draw();</span><br><span class="line">                s.point = s.place.sub(s.point).div(s.speed).add(s.point);</span><br><span class="line">                s.angle += <span class="number">0.05</span>;</span><br><span class="line">                s.speed -= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.random = random;</span><br><span class="line">    <span class="built_in">window</span>.bezier = bezier;</span><br><span class="line">    <span class="built_in">window</span>.Point = Point;</span><br><span class="line">    <span class="built_in">window</span>.Tree = Tree;</span><br><span class="line"></span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li>—— 爱心树html文本样式 文件名 index.html ———</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xml:lang</span>=<span class="string">"en"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>唯美表白<span class="tag">&lt;/<span class="name">title</span>&gt;</span>	    </span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"./renxi/default.css"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jscex.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jscex-parser.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jscex-jit.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jscex-builderbase.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jscex-async.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/jscex-async-powerpack.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/functions.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./renxi/love.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">&lt;!--</span></span><br><span class="line"><span class="css"><span class="selector-class">.STYLE1</span> &#123;<span class="attribute">color</span>: <span class="number">#666666</span>&#125;</span></span><br><span class="line"><span class="undefined">--&gt;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">audio</span> <span class="attr">autoplay</span>=<span class="string">"autopaly"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"renxi.mp3"</span> <span class="attr">type</span>=<span class="string">"audio/mp3"</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">audio</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"error"</span>&gt;</span>本页面采用HTML5编辑，目前您的浏览器无法显示，请换成谷歌(<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.google.cn/chrome/intl/zh-CN/landing_chrome.html?hl=zh-CN&amp;brand=CHMI"</span>&gt;</span>Chrome<span class="tag">&lt;/<span class="name">a</span>&gt;</span>)或者火狐(<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://firefox.com.cn/download/"</span>&gt;</span>Firefox<span class="tag">&lt;/<span class="name">a</span>&gt;</span>)浏览器，或者其他游览器的最新版本。<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">			        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"code"</span>&gt;</span></span><br><span class="line">			      <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"#FF0000"</span>&gt;</span>  	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span>亲爱的..，我爱你，今天我要对你的告白<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span> 我知道我不会甜言蜜语，但是我会用行动证明一切<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">						</span><br><span class="line">						</span><br><span class="line">			        	</span><br><span class="line">			        	<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span>你说我啰嗦，有些东西因为越在乎所以越失去<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span>I love you not because of who you are.<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span>But because of who I am and when I am with you !<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span>虽然我们现在分隔两地，但我们很快就可以在一起了，期待着那一天的到来！<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"say"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"space"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> -- 爱你的.. --<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">			  <span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clock-box"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"STYLE1"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"#33CC00"</span>&gt;</span>亲爱的，I love you !<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"STYLE1"</span>&gt;</span>已经是……<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clock"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"1100"</span> <span class="attr">height</span>=<span class="string">"680"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> canvas = $(<span class="string">'#canvas'</span>);</span></span><br><span class="line"><span class="undefined">		</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (!canvas[<span class="number">0</span>].getContext) &#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#error"</span>).show();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="literal">false</span>;        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> width = canvas.width();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> height = canvas.height();        </span></span><br><span class="line"><span class="javascript">        canvas.attr(<span class="string">"width"</span>, width);</span></span><br><span class="line"><span class="javascript">        canvas.attr(<span class="string">"height"</span>, height);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> opts = &#123;</span></span><br><span class="line"><span class="undefined">            seed: &#123;</span></span><br><span class="line"><span class="undefined">                x: width / 2 - 20,</span></span><br><span class="line"><span class="javascript">                color: <span class="string">"rgb(190, 26, 37)"</span>,</span></span><br><span class="line"><span class="undefined">                scale: 2</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            branch: [</span></span><br><span class="line"><span class="undefined">                [535, 680, 570, 250, 500, 200, 30, 100, [</span></span><br><span class="line"><span class="undefined">                    [540, 500, 455, 417, 340, 400, 13, 100, [</span></span><br><span class="line"><span class="undefined">                        [450, 435, 434, 430, 394, 395, 2, 40]</span></span><br><span class="line"><span class="undefined">                    ]],</span></span><br><span class="line"><span class="undefined">                    [550, 445, 600, 356, 680, 345, 12, 100, [</span></span><br><span class="line"><span class="undefined">                        [578, 400, 648, 409, 661, 426, 3, 80]</span></span><br><span class="line"><span class="undefined">                    ]],</span></span><br><span class="line"><span class="undefined">                    [539, 281, 537, 248, 534, 217, 3, 40],</span></span><br><span class="line"><span class="undefined">                    [546, 397, 413, 247, 328, 244, 9, 80, [</span></span><br><span class="line"><span class="undefined">                        [427, 286, 383, 253, 371, 205, 2, 40],</span></span><br><span class="line"><span class="undefined">                        [498, 345, 435, 315, 395, 330, 4, 60]</span></span><br><span class="line"><span class="undefined">                    ]],</span></span><br><span class="line"><span class="undefined">                    [546, 357, 608, 252, 678, 221, 6, 100, [</span></span><br><span class="line"><span class="undefined">                        [590, 293, 646, 277, 648, 271, 2, 80]</span></span><br><span class="line"><span class="undefined">                    ]]</span></span><br><span class="line"><span class="undefined">                ]] </span></span><br><span class="line"><span class="undefined">            ],</span></span><br><span class="line"><span class="undefined">            bloom: &#123;</span></span><br><span class="line"><span class="undefined">                num: 700,</span></span><br><span class="line"><span class="undefined">                width: 1080,</span></span><br><span class="line"><span class="undefined">                height: 650,</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            footer: &#123;</span></span><br><span class="line"><span class="undefined">                width: 1200,</span></span><br><span class="line"><span class="undefined">                height: 5,</span></span><br><span class="line"><span class="undefined">                speed: 10,</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> tree = <span class="keyword">new</span> Tree(canvas[<span class="number">0</span>], width, height, opts);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> seed = tree.seed;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> foot = tree.footer;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> hold = <span class="number">1</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        canvas.click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> offset = canvas.offset(), x, y;</span></span><br><span class="line"><span class="undefined">            x = e.pageX - offset.left;</span></span><br><span class="line"><span class="undefined">            y = e.pageY - offset.top;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (seed.hover(x, y)) &#123;</span></span><br><span class="line"><span class="undefined">                hold = 0; </span></span><br><span class="line"><span class="javascript">                canvas.unbind(<span class="string">"click"</span>);</span></span><br><span class="line"><span class="javascript">                canvas.unbind(<span class="string">"mousemove"</span>);</span></span><br><span class="line"><span class="javascript">                canvas.removeClass(<span class="string">'hand'</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;).mousemove(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> offset = canvas.offset(), x, y;</span></span><br><span class="line"><span class="undefined">            x = e.pageX - offset.left;</span></span><br><span class="line"><span class="undefined">            y = e.pageY - offset.top;</span></span><br><span class="line"><span class="javascript">            canvas.toggleClass(<span class="string">'hand'</span>, seed.hover(x, y));</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> seedAnimate = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">            seed.draw();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (hold) &#123;</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">10</span>));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (seed.canScale()) &#123;</span></span><br><span class="line"><span class="undefined">                seed.scale(0.95);</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">10</span>));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (seed.canMove()) &#123;</span></span><br><span class="line"><span class="undefined">                seed.move(0, 2);</span></span><br><span class="line"><span class="undefined">                foot.draw();</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">10</span>));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> growAnimate = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">do</span> &#123;</span></span><br><span class="line"><span class="undefined">    	        tree.grow();</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">10</span>));</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">while</span> (tree.canGrow());</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> flowAnimate = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">do</span> &#123;</span></span><br><span class="line"><span class="undefined">    	        tree.flower(2);</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">10</span>));</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">while</span> (tree.canFlower());</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> moveAnimate = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            tree.snapshot(<span class="string">"p1"</span>, <span class="number">240</span>, <span class="number">0</span>, <span class="number">610</span>, <span class="number">680</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (tree.move(<span class="string">"p1"</span>, <span class="number">500</span>, <span class="number">0</span>)) &#123;</span></span><br><span class="line"><span class="undefined">                foot.draw();</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">10</span>));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            foot.draw();</span></span><br><span class="line"><span class="javascript">            tree.snapshot(<span class="string">"p2"</span>, <span class="number">500</span>, <span class="number">0</span>, <span class="number">610</span>, <span class="number">680</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 会有闪烁不得意这样做, (＞﹏＜)</span></span></span><br><span class="line"><span class="javascript">            canvas.parent().css(<span class="string">"background"</span>, <span class="string">"url("</span> + tree.toDataURL(<span class="string">'image/png'</span>) + <span class="string">")"</span>);</span></span><br><span class="line"><span class="javascript">            canvas.css(<span class="string">"background"</span>, <span class="string">"#ffe"</span>);</span></span><br><span class="line"><span class="javascript">            $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">300</span>));</span></span><br><span class="line"><span class="javascript">            canvas.css(<span class="string">"background"</span>, <span class="string">"none"</span>);</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> jumpAnimate = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> ctx = tree.ctx;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="undefined">                tree.ctx.clearRect(0, 0, width, height);</span></span><br><span class="line"><span class="undefined">                tree.jump();</span></span><br><span class="line"><span class="undefined">                foot.draw();</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">25</span>));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> textAnimate = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">		    <span class="keyword">var</span> together = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">		    together.setFullYear(<span class="number">2017</span>,<span class="number">4</span> , <span class="number">27</span>); 			<span class="comment">//时间年月日</span></span></span><br><span class="line"><span class="javascript">		    together.setHours(<span class="number">15</span>);						<span class="comment">//小时	</span></span></span><br><span class="line"><span class="javascript">		    together.setMinutes(<span class="number">47</span>);					<span class="comment">//分钟</span></span></span><br><span class="line"><span class="javascript">		    together.setSeconds(<span class="number">0</span>);					<span class="comment">//秒前一位</span></span></span><br><span class="line"><span class="javascript">		    together.setMilliseconds(<span class="number">2</span>);				<span class="comment">//秒第二位</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">		    $(<span class="string">"#code"</span>).show().typewriter();</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#clock-box"</span>).fadeIn(<span class="number">500</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="undefined">                timeElapse(together);</span></span><br><span class="line"><span class="javascript">                $<span class="keyword">await</span>(Jscex.Async.sleep(<span class="number">1000</span>));</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> runAsync = <span class="built_in">eval</span>(Jscex.compile(<span class="string">"async"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $<span class="keyword">await</span>(seedAnimate());</span></span><br><span class="line"><span class="javascript">            $<span class="keyword">await</span>(growAnimate());</span></span><br><span class="line"><span class="javascript">            $<span class="keyword">await</span>(flowAnimate());</span></span><br><span class="line"><span class="javascript">            $<span class="keyword">await</span>(moveAnimate());</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            textAnimate().start();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $<span class="keyword">await</span>(jumpAnimate());</span></span><br><span class="line"><span class="undefined">        &#125;));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        runAsync().start();</span></span><br><span class="line"><span class="undefined">    &#125;)();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
      
        <div class="page-reward">
          <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang">赏</a></p>
          <div class="hide_box"></div>
          <div class="shang_box">
            <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
            <div class="shang_tit">
              <p>纯属好玩</p>
            </div>
            <div class="shang_payimg">
              <img src="/img/alipayimg.jpg" alt="扫码支持" title="扫一扫" />
            </div>
              <div class="pay_explain">扫码打赏，你说多少就多少</div>
            <div class="shang_payselect">
              
                <div class="pay_item checked" data-id="alipay">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/alipay.png" alt="支付宝" /></span>
                </div>
              
              
                <div class="pay_item" data-id="wechat">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/weixin.png" alt="微信" /></span>
                </div>
              
            </div>
            <div class="shang_info">
              <p>打开<span id="shang_pay_txt">支付宝</span>扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
        <script type="text/javascript">
          $(".pay_item").click(function(){
            $(this).addClass('checked').siblings('.pay_item').removeClass('checked');
            var dataid=$(this).attr('data-id');
            $(".shang_payimg img").attr("src","/img/"+dataid+"img.jpg");
            $("#shang_pay_txt").text(dataid=="alipay"?"支付宝":"微信");
          });
          function dashangToggle(){
            
            $(".hide_box").fadeToggle();
            $(".shang_box").fadeToggle();
          }
        </script>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/12/07/爱心树/">爱心树</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 上官岳寿 的个人博客">上官岳寿</a></p>
        <p><span>发布时间:</span>2017年12月07日 - 09时28分</p>
        <p><span>最后更新:</span>2017年12月07日 - 09时28分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/12/07/爱心树/" title="爱心树">http://yoursite.com/2017/12/07/爱心树/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yoursite.com/2017/12/07/爱心树/　　作者: 上官岳寿" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2017/12/09/MySQL主从配置/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          MySQL主从配置
        
      </div>
    </a>
  
  
    <a href="/2017/12/05/旋转星空/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">旋转星空</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#——-伟大的泡妞巨作-———"><span class="toc-number">1.</span> <span class="toc-text">—— 伟大的泡妞巨作  ———</span></a></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
      <div class="duoshuo" id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="2017/12/07/爱心树/" data-title="爱心树" data-url="http://yoursite.com/2017/12/07/爱心树/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"shangguanyueshou"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = '/js/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
    <!-- 多说公共JS代码 end -->
</div>

    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/12/09/MySQL主从配置/" title="上一篇: MySQL主从配置">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2017/12/05/旋转星空/" title="下一篇: 旋转星空">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/14/做项目了/">12.14残酷的分组</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/11/php与redis操作/">php操作redis常用方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/11/redis简介/">Redis简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/MySQL授权/">MySQL授权</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/MySQL日志恢复数据/">MySQL日志恢复数据</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/喵喵/">miao喵喵丶</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/MySQL常用操作/">MySQL常用操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/MySQL字符类型/">MySQL字符类型</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/MySQL基础/">MySQL基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/09/MySQL主从配置/">MySQL主从配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/07/爱心树/">爱心树</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/05/旋转星空/">旋转星空</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/05/俄罗斯方块/">俄罗斯方块</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/05/厉害了/">很难忘记的人</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/心情日记/">未来的道路,我们现在要更加的努力</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/感冒真难受/">朋友真的很重要</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/01/MYSQL表解锁/">MYSQL锁有以下几种形式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/mysql的索引问题/">MYSQL的索引问题分类</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/MYSQL检查索引/">MYSQL检查索引使用情况</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/show profile/">show profile分析SQL</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/29/mySQL最简单的优化方法/">MYSQL简单实用的优化方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/26/喝杯朱古力/">吃饭后,跑到公司和奶茶</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/26/hello/">hello</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/26/日常/">吃饭,睡觉,打豆豆</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/26/朋友/">人生就是这样的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/26/11月27号上海/">·再回首恍然如梦</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2017 上官岳寿
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >小弟到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>


  </div>
</body>
</html>